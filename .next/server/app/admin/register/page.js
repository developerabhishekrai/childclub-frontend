(()=>{var e={};e.id=680,e.ids=[680],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},80353:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var l=a(67096),o=a(16132),r=a(37284),i=a.n(r),t=a(32564),n={};for(let e in t)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>t[e]);a.d(s,n);let c=["",{children:["admin",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,80156)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\admin\\register\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\admin\\register\\page.tsx"],m="/admin/register/page",h={require:a,loadChunk:()=>Promise.resolve()},u=new l.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/admin/register/page",pathname:"/admin/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},35150:(e,s,a)=>{Promise.resolve().then(a.bind(a,11656))},11656:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>AdminRegister});var l=a(30784),o=a(9885),r=a(11440),i=a.n(r),t=a(57114),n=a(11501),c=a(85525),d=a(73462);function PasswordStrengthIndicator({password:e,showRequirements:s=!0}){let a=(0,o.useMemo)(()=>e?(0,d.uo)(e):null,[e]);if(!e||!a)return null;let r=(0,d.zU)(a.strength),i=(0,d.sO)(a.strength),t=`${a.score}%`;return(0,l.jsxs)("div",{className:"password-strength-indicator mt-2",children:[l.jsx("div",{className:"progress",style:{height:"6px"},children:l.jsx("div",{className:`progress-bar bg-${r}`,role:"progressbar",style:{width:t},"aria-valuenow":a.score,"aria-valuemin":0,"aria-valuemax":100})}),l.jsx("div",{className:"mt-1",children:l.jsx("small",{className:`text-${r}`,children:(0,l.jsxs)("strong",{children:["Password Strength: ",i]})})}),s&&(0,l.jsxs)("div",{className:"mt-2",children:[l.jsx("small",{className:"text-muted",children:"Password Requirements:"}),(0,l.jsxs)("ul",{className:"list-unstyled mb-0",style:{fontSize:"0.85rem"},children:[l.jsx(RequirementItem,{met:e.length>=8,text:"At least 8 characters"}),l.jsx(RequirementItem,{met:/[A-Z]/.test(e),text:"One uppercase letter"}),l.jsx(RequirementItem,{met:/[a-z]/.test(e),text:"One lowercase letter"}),l.jsx(RequirementItem,{met:/[0-9]/.test(e),text:"One number"}),l.jsx(RequirementItem,{met:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e),text:"One special character"})]})]}),a.errors.length>0&&l.jsx("div",{className:"mt-2",children:a.errors.map((e,s)=>l.jsx("div",{className:"text-danger",style:{fontSize:"0.85rem"},children:(0,l.jsxs)("small",{children:["• ",e]})},s))})]})}function RequirementItem({met:e,text:s}){return(0,l.jsxs)("li",{className:e?"text-success":"text-muted",children:[l.jsx("span",{className:"me-1",children:e?"✓":"○"}),s]})}function AdminRegister(){let[e,s]=(0,o.useState)({firstName:"",lastName:"",email:"",mobile:"",password:"",confirmPassword:"",schoolName:"",schoolType:"",schoolAddress:"",schoolCity:"",schoolState:"",schoolCountry:"",schoolPostalCode:"",schoolPhone:"",schoolEmail:"",schoolWebsite:"",adminPosition:"",yearsOfExperience:"",educationLevel:"",certifications:"",termsAccepted:!1}),[a,r]=(0,o.useState)(!1),[m,h]=(0,o.useState)(""),[u,x]=(0,o.useState)(""),p=(0,t.useRouter)(),handleChange=a=>{let{name:l,value:o,type:r}=a.target;"checkbox"===r?s({...e,[l]:a.target.checked}):s({...e,[l]:o})},validateForm=()=>{let s=(0,d.GB)(e.password,e.confirmPassword);return s.isValid?!!e.termsAccepted||(h("Please accept the terms and conditions"),!1):(h(s.errors[0]),!1)},handleSubmit=async s=>{if(s.preventDefault(),h(""),x(""),validateForm()){r(!0);try{let s={firstName:e.firstName,lastName:e.lastName,email:e.email,mobile:e.mobile,password:e.password,confirmPassword:e.confirmPassword,role:"school_admin",adminPosition:e.adminPosition,yearsOfExperience:e.yearsOfExperience,educationLevel:e.educationLevel,certifications:e.certifications,schoolName:e.schoolName,schoolType:e.schoolType,schoolAddress:e.schoolAddress,schoolCity:e.schoolCity,schoolState:e.schoolState,schoolCountry:e.schoolCountry,schoolPostalCode:e.schoolPostalCode,schoolPhone:e.schoolPhone,schoolEmail:e.schoolEmail,schoolWebsite:e.schoolWebsite},a=await n.iJ.register(s);console.log("Registration successful:",a),a.school?console.log("School created successfully during registration:",a.school):console.warn("School was not created during registration. User may need to create it separately."),x("✅ Registration successful! Your school registration is pending approval from Super Admin. You will be notified once approved."),setTimeout(()=>{p.push("/admin/login")},4e3)}catch(e){console.error("Registration error:",e),e instanceof c.MS?e.message&&e.message.includes("Duplicate entry")?e.message.includes("mobile")||e.message.includes("IDX_d376a9f93bba651f32a2c03a7d")?h("❌ This mobile number is already registered. Please use a different mobile number or login with your existing account."):e.message.includes("email")?h("❌ This email is already registered. Please use a different email or login with your existing account."):h(e.message):h(e.message||"Registration failed. Please try again."):h("Network error. Please try again.")}finally{r(!1)}}};return l.jsx("div",{className:"min-vh-100 bg-light py-4",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"row justify-content-center",children:(0,l.jsxs)("div",{className:"col-lg-10",children:[(0,l.jsxs)("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"bg-warning rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"64px",height:"64px"},children:l.jsx("span",{className:"text-white fs-1",children:"\uD83C\uDFEB"})}),l.jsx("h1",{className:"h2 fw-bold text-dark",children:"School Administrator Registration"}),l.jsx("p",{className:"text-muted",children:"Join ChildClub and manage your educational institution!"})]}),l.jsx("div",{className:"card shadow-sm border-0",children:(0,l.jsxs)("div",{className:"card-body p-4",children:[m&&(0,l.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[m,l.jsx("button",{type:"button",className:"btn-close",onClick:()=>h("")})]}),u&&(0,l.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[u,l.jsx("button",{type:"button",className:"btn-close",onClick:()=>x("")})]}),(0,l.jsxs)("form",{onSubmit:handleSubmit,children:[(0,l.jsxs)("div",{className:"row mb-4",children:[l.jsx("div",{className:"col-12",children:l.jsx("h5",{className:"text-warning mb-3",children:"\uD83D\uDC64 Personal Information"})}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"firstName",className:"form-label fw-semibold",children:"First Name *"}),l.jsx("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",value:e.firstName,onChange:handleChange,required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"lastName",className:"form-label fw-semibold",children:"Last Name *"}),l.jsx("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",value:e.lastName,onChange:handleChange,required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"email",className:"form-label fw-semibold",children:"Email Address *"}),l.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:e.email,onChange:handleChange,required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"mobile",className:"form-label fw-semibold",children:"Mobile Number"}),l.jsx("input",{type:"tel",className:"form-control",id:"mobile",name:"mobile",value:e.mobile,onChange:handleChange})]})]}),(0,l.jsxs)("div",{className:"row mb-4",children:[l.jsx("div",{className:"col-12",children:l.jsx("h5",{className:"text-warning mb-3",children:"\uD83C\uDFEB School Information"})}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"schoolName",className:"form-label fw-semibold",children:"School Name *"}),l.jsx("input",{type:"text",className:"form-control",id:"schoolName",name:"schoolName",value:e.schoolName,onChange:handleChange,required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"schoolType",className:"form-label fw-semibold",children:"School Type"}),(0,l.jsxs)("select",{className:"form-select",id:"schoolType",name:"schoolType",value:e.schoolType,onChange:handleChange,required:!0,children:[l.jsx("option",{value:"",children:"Select School Type *"}),l.jsx("option",{value:"primary",children:"Primary School"}),l.jsx("option",{value:"secondary",children:"Secondary School"}),l.jsx("option",{value:"higher_secondary",children:"Higher Secondary School"}),l.jsx("option",{value:"international",children:"International School"}),l.jsx("option",{value:"special_needs",children:"Special Needs School"})]})]}),(0,l.jsxs)("div",{className:"col-12 mb-3",children:[l.jsx("label",{htmlFor:"schoolAddress",className:"form-label fw-semibold",children:"School Address"}),l.jsx("textarea",{className:"form-control",id:"schoolAddress",name:"schoolAddress",rows:2,value:e.schoolAddress,onChange:handleChange})]}),(0,l.jsxs)("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{htmlFor:"schoolCity",className:"form-label fw-semibold",children:"City"}),l.jsx("input",{type:"text",className:"form-control",id:"schoolCity",name:"schoolCity",value:e.schoolCity,onChange:handleChange})]}),(0,l.jsxs)("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{htmlFor:"schoolState",className:"form-label fw-semibold",children:"State/Province"}),l.jsx("input",{type:"text",className:"form-control",id:"schoolState",name:"schoolState",value:e.schoolState,onChange:handleChange})]}),(0,l.jsxs)("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{htmlFor:"schoolCountry",className:"form-label fw-semibold",children:"Country"}),l.jsx("input",{type:"text",className:"form-control",id:"schoolCountry",name:"schoolCountry",value:e.schoolCountry,onChange:handleChange})]}),(0,l.jsxs)("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{htmlFor:"schoolPostalCode",className:"form-label fw-semibold",children:"Postal Code"}),l.jsx("input",{type:"text",className:"form-control",id:"schoolPostalCode",name:"schoolPostalCode",value:e.schoolPostalCode,onChange:handleChange})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"schoolPhone",className:"form-label fw-semibold",children:"School Phone"}),l.jsx("input",{type:"tel",className:"form-control",id:"schoolPhone",name:"schoolPhone",value:e.schoolPhone,onChange:handleChange})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"schoolEmail",className:"form-label fw-semibold",children:"School Email"}),l.jsx("input",{type:"email",className:"form-control",id:"schoolEmail",name:"schoolEmail",value:e.schoolEmail,onChange:handleChange})]}),(0,l.jsxs)("div",{className:"col-12 mb-3",children:[l.jsx("label",{htmlFor:"schoolWebsite",className:"form-label fw-semibold",children:"School Website"}),l.jsx("input",{type:"url",className:"form-control",id:"schoolWebsite",name:"schoolWebsite",value:e.schoolWebsite,onChange:handleChange,placeholder:"https://www.schoolname.com"})]})]}),(0,l.jsxs)("div",{className:"row mb-4",children:[l.jsx("div",{className:"col-12",children:l.jsx("h5",{className:"text-warning mb-3",children:"\uD83D\uDCBC Professional Information"})}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"adminPosition",className:"form-label fw-semibold",children:"Administrative Position *"}),(0,l.jsxs)("select",{className:"form-select",id:"adminPosition",name:"adminPosition",value:e.adminPosition,onChange:handleChange,required:!0,children:[l.jsx("option",{value:"",children:"Select Position"}),l.jsx("option",{value:"principal",children:"Principal"}),l.jsx("option",{value:"vice_principal",children:"Vice Principal"}),l.jsx("option",{value:"headmaster",children:"Headmaster"}),l.jsx("option",{value:"director",children:"Director"}),l.jsx("option",{value:"administrator",children:"Administrator"}),l.jsx("option",{value:"coordinator",children:"Coordinator"}),l.jsx("option",{value:"manager",children:"Manager"}),l.jsx("option",{value:"other",children:"Other"})]})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"yearsOfExperience",className:"form-label fw-semibold",children:"Years of Experience"}),(0,l.jsxs)("select",{className:"form-select",id:"yearsOfExperience",name:"yearsOfExperience",value:e.yearsOfExperience,onChange:handleChange,children:[l.jsx("option",{value:"",children:"Select Experience"}),l.jsx("option",{value:"0-2",children:"0-2 years"}),l.jsx("option",{value:"3-5",children:"3-5 years"}),l.jsx("option",{value:"6-10",children:"6-10 years"}),l.jsx("option",{value:"11-15",children:"11-15 years"}),l.jsx("option",{value:"16-20",children:"16-20 years"}),l.jsx("option",{value:"20+",children:"20+ years"})]})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"educationLevel",className:"form-label fw-semibold",children:"Highest Education Level"}),(0,l.jsxs)("select",{className:"form-select",id:"educationLevel",name:"educationLevel",value:e.educationLevel,onChange:handleChange,children:[l.jsx("option",{value:"",children:"Select Education Level"}),l.jsx("option",{value:"bachelor",children:"Bachelor's Degree"}),l.jsx("option",{value:"master",children:"Master's Degree"}),l.jsx("option",{value:"doctorate",children:"Doctorate/PhD"}),l.jsx("option",{value:"diploma",children:"Diploma"}),l.jsx("option",{value:"certification",children:"Professional Certification"}),l.jsx("option",{value:"other",children:"Other"})]})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"certifications",className:"form-label fw-semibold",children:"Professional Certifications"}),l.jsx("input",{type:"text",className:"form-control",id:"certifications",name:"certifications",value:e.certifications,onChange:handleChange,placeholder:"e.g., Educational Leadership, School Management"})]})]}),(0,l.jsxs)("div",{className:"row mb-4",children:[l.jsx("div",{className:"col-12",children:l.jsx("h5",{className:"text-warning mb-3",children:"\uD83D\uDD10 Security"})}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"password",className:"form-label fw-semibold",children:"Password *"}),l.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",value:e.password,onChange:handleChange,required:!0,minLength:8}),l.jsx(PasswordStrengthIndicator,{password:e.password})]}),(0,l.jsxs)("div",{className:"col-md-6 mb-3",children:[l.jsx("label",{htmlFor:"confirmPassword",className:"form-label fw-semibold",children:"Confirm Password *"}),l.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:handleChange,required:!0})]})]}),l.jsx("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:"termsAccepted",name:"termsAccepted",checked:e.termsAccepted,onChange:handleChange,required:!0}),(0,l.jsxs)("label",{className:"form-check-label",htmlFor:"termsAccepted",children:["I agree to the ",l.jsx(i(),{href:"/terms?from=admin",className:"text-decoration-none",children:"Terms and Conditions"})," and"," ",l.jsx(i(),{href:"/privacy?from=admin",className:"text-decoration-none",children:"Privacy Policy"})," *"]})]})}),l.jsx("div",{className:"d-grid",children:l.jsx("button",{type:"submit",className:"btn btn-warning btn-lg",disabled:a,children:a?(0,l.jsxs)(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creating Admin Account..."]}):"Create School Admin Account"})})]}),(0,l.jsxs)("div",{className:"text-center mt-4",children:[l.jsx("span",{className:"text-muted",children:"Already have an admin account? "}),l.jsx(i(),{href:"/admin/login",className:"text-decoration-none text-warning fw-semibold",children:"Sign in here"})]})]})}),l.jsx("div",{className:"text-center mt-4",children:l.jsx(i(),{href:"/",className:"text-decoration-none text-muted",children:"← Back to Home"})})]})})})})}},80156:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});var l=a(95153);let o=(0,l.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\admin\register\page.tsx`),{__esModule:r,$$typeof:i}=o,t=o.default,n=t},57114:(e,s,a)=>{e.exports=a(4979)}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[659,1336,656,5525,3462,1501],()=>__webpack_exec__(80353));module.exports=a})();