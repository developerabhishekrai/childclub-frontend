(()=>{var e={};e.id=7328,e.ids=[7328],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},24316:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>n});var t=a(67096),r=a(16132),i=a(37284),l=a.n(i),c=a(32564),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);a.d(s,d);let n=["",{children:["school-admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,41897)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25803)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\dashboard\\page.tsx"],m="/school-admin/dashboard/page",h={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/school-admin/dashboard/page",pathname:"/school-admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},94575:(e,s,a)=>{Promise.resolve().then(a.bind(a,51300))},51300:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>SchoolAdminDashboard});var t=a(30784),r=a(9885),i=a(69518),l=a(3514),c=a(22385),d=a(87094),n=a(59494),o=a(91672),m=a(50007),h=a(16920),x=a(78937),b=a(92032),u=a(517),j=a(15441),g=a(52778),p=a(55131),N=a(26303);a(99973);var v=a(11440),f=a.n(v),y=a(85525);let w=`
  .stat-card {
    transition: all 0.3s ease;
    border: none;
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    border-radius: 1rem;
    overflow: hidden;
  }
  
  .stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.15);
  }
  
  .quick-action-btn {
    transition: all 0.3s ease;
    border: 2px solid transparent;
    border-radius: 1rem;
    min-height: 140px;
  }
  
  .quick-action-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.15);
  }
  
  .activity-item {
    transition: all 0.3s ease;
    border-radius: 0.75rem;
    padding: 1rem;
    margin: 0.5rem 0;
  }
  
  .activity-item:hover {
    background-color: #f8f9fa;
    transform: translateX(5px);
  }
  
  .school-info-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 1.5rem;
    overflow: hidden;
  }
  
  .school-info-card .text-muted {
    color: rgba(255, 255, 255, 0.8) !important;
  }
  
  .search-box {
    transition: all 0.3s ease;
    border-radius: 2rem;
  }
  
  .search-box:focus-within {
    transform: scale(1.02);
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
  }
  
  .dashboard-card {
    border: none;
    border-radius: 1rem;
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    transition: all 0.3s ease;
  }
  
  .dashboard-card:hover {
    box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.1);
  }
  
  .stat-icon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
  }
  
  .quick-overview-item {
    background: #f8f9fa;
    border-radius: 0.75rem;
    padding: 1rem;
    margin-bottom: 0.75rem;
    transition: all 0.3s ease;
  }
  
  .quick-overview-item:hover {
    background: #e9ecef;
    transform: translateX(3px);
  }
  
  .event-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 0.5rem;
  }

  .status-badge {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
  }

  .action-btn {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
  }
`;function SchoolAdminDashboard(){let[e,s]=(0,r.useState)({totalStudents:0,totalTeachers:0,totalClasses:0,activeClasses:0,pendingTasks:0,upcomingEvents:0,attendanceRate:0,averageScore:0}),[a,v]=(0,r.useState)({name:"",city:"",state:"",status:"",establishedYear:0,type:"",rating:""}),[k,C]=(0,r.useState)([]),[S,T]=(0,r.useState)([]),[A,z]=(0,r.useState)([]),[E,D]=(0,r.useState)([]),[Z,$]=(0,r.useState)([]),[q,_]=(0,r.useState)([]),[P,L]=(0,r.useState)(!0),[I,R]=(0,r.useState)(""),[F,M]=(0,r.useState)("all"),B=(0,r.useCallback)(async()=>{try{L(!0),console.log("Server side rendering, skipping data fetch");return}catch(e){console.error("Error fetching dashboard data:",e),console.error("Error details:",{message:e.message,stack:e.stack,name:e.name})}finally{L(!1)}},[]);(0,r.useEffect)(()=>{console.log("Dashboard useEffect triggered"),B()},[]);let handleStudentStatusChange=async(e,a)=>{try{let t=localStorage.getItem("token");if(!t){alert("Authentication required");return}let r=await fetch(`${y.CT}/students/${e}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({status:a})});r.ok&&(C(s=>s.map(s=>s.id===e?{...s,status:a}:s)),s(e=>({...e,totalStudents:"active"===a?e.totalStudents+1:e.totalStudents-1})),alert(`Student status updated to ${a}`))}catch(e){console.error("Error updating student status:",e),alert("Failed to update student status")}},handleDeleteStudent=async e=>{if(confirm("⚠️ Are you sure you want to delete this student?"))try{let a=localStorage.getItem("token");if(!a){alert("Authentication required");return}let t=await fetch(`${y.CT}/students/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});t.ok?(C(s=>s.filter(s=>s.id!==e)),s(e=>({...e,totalStudents:e.totalStudents-1})),alert("✅ Student deleted successfully!"),B()):alert("❌ Failed to delete student")}catch(e){console.error("Error deleting student:",e),alert("❌ Error deleting student")}},handleDeleteTeacher=async e=>{if(confirm("⚠️ Are you sure you want to delete this teacher?"))try{let a=localStorage.getItem("token");if(!a){alert("Authentication required");return}let t=await fetch(`${y.CT}/teachers/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});t.ok?(T(s=>s.filter(s=>s.id!==e)),s(e=>({...e,totalTeachers:e.totalTeachers-1})),alert("✅ Teacher deleted successfully!"),B()):alert("❌ Failed to delete teacher")}catch(e){console.error("Error deleting teacher:",e),alert("❌ Error deleting teacher")}},handleTeacherStatusChange=async(e,a)=>{try{let t=localStorage.getItem("token");if(!t){alert("Authentication required");return}let r=await fetch(`${y.CT}/teachers/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({status:a})});r.ok&&(T(s=>s.map(s=>s.id===e?{...s,status:a}:s)),s(e=>({...e,totalTeachers:"active"===a?e.totalTeachers+1:e.totalTeachers-1})),alert(`Teacher status updated to ${a}`))}catch(e){console.error("Error updating teacher status:",e),alert("Failed to update teacher status")}},G=k.filter(e=>{let s=e.firstName||e.user?.firstName||"",a=e.lastName||e.user?.lastName||"",t=e.email||e.user?.email||"",r=s.toLowerCase().includes(I.toLowerCase())||a.toLowerCase().includes(I.toLowerCase())||t.toLowerCase().includes(I.toLowerCase()),i="all"===F||e.status===F;return r&&i}),O=S.filter(e=>{let s=e.firstName||"",a=e.lastName||"",t=e.email||"",r=s.toLowerCase().includes(I.toLowerCase())||a.toLowerCase().includes(I.toLowerCase())||t.toLowerCase().includes(I.toLowerCase()),i="all"===F||e.status===F;return r&&i}),formatEventTime=e=>{let s=new Date(e),a=new Date,t=s.getTime()-a.getTime(),r=Math.ceil(t/864e5);return 0===r?"Today":1===r?"Tomorrow":r<=7?`In ${r} days`:r<=14?"Next week":r<=21?"In 2 weeks":"In 3 weeks"},getEventTypeColor=e=>({meeting:"bg-primary",event:"bg-success",exam:"bg-warning",curriculum:"bg-info",activity:"bg-warning",academic:"bg-info",holiday:"bg-secondary"})[e]||"bg-secondary";return P?t.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading..."})}),t.jsx("p",{className:"mt-3 text-muted",children:"Loading dashboard data..."})]})}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("style",{children:w}),(0,t.jsxs)("div",{className:"min-vh-100 bg-light",children:[t.jsx("div",{className:"bg-white shadow-sm border-bottom",children:t.jsx("div",{className:"container-fluid py-4",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-4",children:[(0,t.jsxs)("h3",{className:"fw-bold text-dark mb-0",children:[t.jsx("i",{className:"fas fa-tachometer-alt me-2 text-primary"}),"School Admin Dashboard"]}),(0,t.jsxs)("span",{className:`badge fs-6 px-3 py-2 ${"approved"===a.status?"bg-success":"bg-warning"}`,children:[t.jsx("i",{className:`fas fa-${"approved"===a.status?"check-circle":"clock"} me-2`}),"approved"===a.status?"Active School":"Pending Approval"]})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsxs)("div",{className:"position-relative search-box",children:[t.jsx("input",{type:"text",className:"form-control form-control-lg border-0 shadow-sm",placeholder:"Search students, teachers, classes...",value:I,onChange:e=>R(e.target.value),style:{width:"300px",paddingLeft:"1rem",paddingRight:"3rem"}}),t.jsx(i.Z,{size:20,className:"position-absolute top-50 end-0 translate-middle-y text-muted me-3"})]}),(0,t.jsxs)("select",{className:"form-select form-select-lg border-0 shadow-sm",value:F,onChange:e=>M(e.target.value),style:{width:"150px"},children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"pending",children:"Pending"})]}),(0,t.jsxs)("button",{className:"btn btn-outline-primary btn-lg position-relative",children:[t.jsx(l.Z,{size:20,className:"me-2"}),"Notifications",t.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger fs-6",children:"3"})]}),(0,t.jsxs)("button",{className:"btn btn-primary btn-lg d-flex align-items-center gap-2",children:[t.jsx(c.Z,{size:20}),"Quick Add"]})]})]})})}),(0,t.jsxs)("div",{className:"container-fluid py-5",children:[t.jsx("div",{className:"row mb-5",children:t.jsx("div",{className:"col-12",children:t.jsx("div",{className:"card school-info-card border-0 shadow",children:t.jsx("div",{className:"card-body p-5",children:(0,t.jsxs)("div",{className:"row align-items-center",children:[(0,t.jsxs)("div",{className:"col-md-8",children:[(0,t.jsxs)("h2",{className:"fw-bold text-white mb-3",children:[t.jsx("i",{className:"fas fa-school me-3"}),a.name]}),(0,t.jsxs)("p",{className:"text-muted mb-3 fs-5",children:[t.jsx(d.Z,{size:20,className:"me-2"}),a.city,", ",a.state]}),(0,t.jsxs)("div",{className:"d-flex gap-4",children:[(0,t.jsxs)("span",{className:"text-muted fs-6",children:[t.jsx("i",{className:"fas fa-calendar-alt me-2"}),t.jsx("strong",{children:"Established:"})," ",a.establishedYear]}),(0,t.jsxs)("span",{className:"text-muted fs-6",children:[t.jsx("i",{className:"fas fa-graduation-cap me-2"}),t.jsx("strong",{children:"Type:"})," ",a.type]}),(0,t.jsxs)("span",{className:"text-muted fs-6",children:[t.jsx("i",{className:"fas fa-star me-2"}),t.jsx("strong",{children:"Rating:"})," ",a.rating]})]})]}),t.jsx("div",{className:"col-md-4 text-end",children:(0,t.jsxs)(f(),{href:"/school-admin/profile/edit",className:"btn btn-light btn-lg",children:[t.jsx(n.Z,{size:20,className:"me-2"}),"Edit Profile"]})})]})})})})}),(0,t.jsxs)("div",{className:"row mb-5",children:[t.jsx("div",{className:"col-xl-3 col-md-6 mb-4",children:t.jsx("div",{className:"card stat-card border-0 shadow h-100",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[t.jsx("div",{className:"stat-icon bg-primary bg-opacity-10 text-primary mx-auto mb-3",children:t.jsx(o.Z,{size:35})}),t.jsx("h3",{className:"fw-bold text-dark mb-2",children:e.totalStudents}),t.jsx("p",{className:"text-muted mb-0",children:"Total Students"}),t.jsx("div",{className:"mt-3",children:(0,t.jsxs)("span",{className:"badge bg-success-subtle text-success me-2",children:[t.jsx(m.Z,{size:14,className:"me-1"}),"+12% this month"]})})]})})}),t.jsx("div",{className:"col-xl-3 col-md-6 mb-4",children:t.jsx("div",{className:"card stat-card border-0 shadow h-100",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[t.jsx("div",{className:"stat-icon bg-success bg-opacity-10 text-success mx-auto mb-3",children:t.jsx(h.Z,{size:35})}),t.jsx("h3",{className:"fw-bold text-dark mb-2",children:e.totalTeachers}),t.jsx("p",{className:"text-muted mb-0",children:"Total Teachers"}),t.jsx("div",{className:"mt-3",children:(0,t.jsxs)("span",{className:"badge bg-success-subtle text-success me-2",children:[t.jsx(m.Z,{size:14,className:"me-1"}),"+5% this month"]})})]})})}),t.jsx("div",{className:"col-xl-3 col-md-6 mb-4",children:t.jsx("div",{className:"card stat-card border-0 shadow h-100",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[t.jsx("div",{className:"stat-icon bg-warning bg-opacity-10 text-warning mx-auto mb-3",children:t.jsx(x.Z,{size:35})}),t.jsx("h3",{className:"fw-bold text-dark mb-2",children:e.totalClasses}),t.jsx("p",{className:"text-muted mb-0",children:"Total Classes"}),t.jsx("div",{className:"mt-3",children:(0,t.jsxs)("span",{className:"badge bg-warning-subtle text-warning me-2",children:[t.jsx(b.Z,{size:14,className:"me-1"}),e.activeClasses," Active"]})})]})})}),t.jsx("div",{className:"col-xl-3 col-md-6 mb-4",children:t.jsx("div",{className:"card stat-card border-0 shadow h-100",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[t.jsx("div",{className:"stat-icon bg-info bg-opacity-10 text-info mx-auto mb-3",children:t.jsx(u.Z,{size:35})}),t.jsx("h3",{className:"fw-bold text-dark mb-2",children:e.upcomingEvents}),t.jsx("p",{className:"text-muted mb-0",children:"Upcoming Events"}),t.jsx("div",{className:"mt-3",children:(0,t.jsxs)("span",{className:"badge bg-info-subtle text-info me-2",children:[t.jsx(j.Z,{size:14,className:"me-1"}),e.pendingTasks," Pending"]})})]})})})]}),t.jsx("div",{className:"row mb-5",children:(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsxs)("h4",{className:"fw-bold text-dark mb-4",children:[t.jsx("i",{className:"fas fa-bolt me-2 text-warning"}),"Quick Actions"]}),(0,t.jsxs)("div",{className:"row g-4",children:[t.jsx("div",{className:"col-xl-3 col-md-6",children:t.jsx(f(),{href:"/school-admin/add-student",className:"text-decoration-none",children:t.jsx("div",{className:"card quick-action-btn border-0 shadow h-100 text-center p-4 bg-primary bg-opacity-10 border-primary",children:(0,t.jsxs)("div",{className:"card-body",children:[t.jsx("div",{className:"bg-primary text-white rounded-circle mx-auto mb-3",style:{width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(o.Z,{size:30})}),t.jsx("h5",{className:"fw-bold text-primary mb-2",children:"Add Student"}),t.jsx("p",{className:"text-muted mb-0",children:"Register new student"})]})})})}),t.jsx("div",{className:"col-xl-3 col-md-6",children:t.jsx(f(),{href:"/school-admin/add-teacher",className:"text-decoration-none",children:t.jsx("div",{className:"card quick-action-btn border-0 shadow h-100 text-center p-4 bg-success bg-opacity-10 border-success",children:(0,t.jsxs)("div",{className:"card-body",children:[t.jsx("div",{className:"bg-success text-white rounded-circle mx-auto mb-3",style:{width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(h.Z,{size:30})}),t.jsx("h5",{className:"fw-bold text-success mb-2",children:"Add Teacher"}),t.jsx("p",{className:"text-muted mb-0",children:"Hire new teacher"})]})})})}),t.jsx("div",{className:"col-xl-3 col-md-6",children:t.jsx(f(),{href:"/school-admin/submissions",className:"text-decoration-none",children:t.jsx("div",{className:"card quick-action-btn border-0 shadow h-100 text-center p-4 bg-danger bg-opacity-10 border-danger",children:(0,t.jsxs)("div",{className:"card-body",children:[t.jsx("div",{className:"bg-danger text-white rounded-circle mx-auto mb-3",style:{width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(b.Z,{size:30})}),t.jsx("h5",{className:"fw-bold text-danger mb-2",children:"View Submissions"}),t.jsx("p",{className:"text-muted mb-0",children:"Review student work"})]})})})}),t.jsx("div",{className:"col-xl-3 col-md-6",children:t.jsx(f(),{href:"/school-admin/create-assignment",className:"text-decoration-none",children:t.jsx("div",{className:"card quick-action-btn border-0 shadow h-100 text-center p-4 bg-info bg-opacity-10 border-info",children:(0,t.jsxs)("div",{className:"card-body",children:[t.jsx("div",{className:"bg-info text-white rounded-circle mx-auto mb-3",style:{width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(u.Z,{size:30})}),t.jsx("h5",{className:"fw-bold text-info mb-2",children:"Create Assignment"}),t.jsx("p",{className:"text-muted mb-0",children:"Assign new task"})]})})})})]})]})}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col-xl-8",children:[(0,t.jsxs)("div",{className:"card dashboard-card border-0 shadow mb-4",children:[t.jsx("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("h5",{className:"fw-bold text-dark mb-0",children:[t.jsx("i",{className:"fas fa-users me-2 text-primary"}),"Recent Students (",G.length,")"]}),t.jsx(f(),{href:"/school-admin/students",className:"btn btn-outline-primary btn-sm",children:"View All"})]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-hover mb-0",children:[t.jsx("thead",{className:"table-light",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Email"}),t.jsx("th",{children:"Class"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:G.slice(0,5).map(e=>(0,t.jsxs)("tr",{children:[t.jsx("td",{children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[t.jsx("div",{className:"bg-primary bg-opacity-10 text-primary rounded-circle me-3",style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(o.Z,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"fw-semibold",children:[e.firstName||e.user?.firstName||"N/A"," ",e.lastName||e.user?.lastName||""]}),(0,t.jsxs)("small",{className:"text-muted",children:["Enrolled: ",e.enrollmentDate?new Date(e.enrollmentDate).toLocaleDateString():"N/A"]})]})]})}),t.jsx("td",{children:e.email||e.user?.email||"N/A"}),t.jsx("td",{children:e.className?t.jsx("span",{className:"badge bg-primary",children:e.className}):t.jsx("span",{className:"badge bg-secondary",children:"No Class"})}),t.jsx("td",{children:t.jsx("span",{className:`badge status-badge ${"active"===e.status?"bg-success":"inactive"===e.status?"bg-danger":"bg-warning"}`,children:e.status})}),t.jsx("td",{children:(0,t.jsxs)("div",{className:"btn-group",role:"group",children:[t.jsx("button",{className:"btn btn-sm btn-outline-primary action-btn",onClick:()=>handleStudentStatusChange(e.id,"active"===e.status?"inactive":"active"),title:"active"===e.status?"Deactivate":"Activate",children:"active"===e.status?t.jsx(g.Z,{size:14}):t.jsx(p.Z,{size:14})}),t.jsx(f(),{href:`/school-admin/students/${e.id}/edit`,className:"btn btn-sm btn-outline-warning action-btn",children:t.jsx(n.Z,{size:14})}),t.jsx("button",{className:"btn btn-sm btn-outline-danger action-btn",onClick:()=>handleDeleteStudent(e.id),title:"Delete Student",children:t.jsx(N.Z,{size:14})})]})})]},e.id))})]})})})]}),(0,t.jsxs)("div",{className:"card dashboard-card border-0 shadow mb-4",children:[t.jsx("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("h5",{className:"fw-bold text-dark mb-0",children:[t.jsx("i",{className:"fas fa-chalkboard-teacher me-2 text-success"}),"Recent Teachers (",O.length,")"]}),t.jsx(f(),{href:"/school-admin/teachers",className:"btn btn-outline-success btn-sm",children:"View All"})]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-hover mb-0",children:[t.jsx("thead",{className:"table-light",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Department"}),t.jsx("th",{children:"Subjects"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:O.slice(0,5).map(e=>(0,t.jsxs)("tr",{children:[t.jsx("td",{children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[t.jsx("div",{className:"bg-success bg-opacity-10 text-success rounded-circle me-3",style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(h.Z,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"fw-semibold",children:[e.firstName||"N/A"," ",e.lastName||""]}),t.jsx("small",{className:"text-muted",children:e.email||"N/A"})]})]})}),t.jsx("td",{children:e.department||"N/A"}),(0,t.jsxs)("td",{children:[(e.subjects||[]).slice(0,2).map((e,s)=>t.jsx("span",{className:"badge bg-light text-dark me-1",children:e},s)),(e.subjects||[]).length>2&&(0,t.jsxs)("span",{className:"badge bg-secondary",children:["+",(e.subjects||[]).length-2]})]}),t.jsx("td",{children:t.jsx("span",{className:`badge status-badge ${"active"===e.status?"bg-success":"inactive"===e.status?"bg-danger":"bg-warning"}`,children:e.status})}),t.jsx("td",{children:(0,t.jsxs)("div",{className:"btn-group",role:"group",children:[t.jsx("button",{className:"btn btn-sm btn-outline-success action-btn",onClick:()=>handleTeacherStatusChange(e.id,"active"===e.status?"inactive":"active"),title:"active"===e.status?"Deactivate":"Activate",children:"active"===e.status?t.jsx(g.Z,{size:14}):t.jsx(p.Z,{size:14})}),t.jsx(f(),{href:`/school-admin/teachers/${e.id}/edit`,className:"btn btn-sm btn-outline-warning action-btn",children:t.jsx(n.Z,{size:14})}),t.jsx("button",{className:"btn btn-sm btn-outline-danger action-btn",onClick:()=>handleDeleteTeacher(e.id),title:"Delete Teacher",children:t.jsx(N.Z,{size:14})})]})})]},e.id))})]})})})]})]}),(0,t.jsxs)("div",{className:"col-xl-4",children:[(0,t.jsxs)("div",{className:"card dashboard-card border-0 shadow mb-4",children:[t.jsx("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("h5",{className:"fw-bold text-dark mb-0",children:[t.jsx("i",{className:"fas fa-calendar-alt me-2 text-info"}),"Upcoming Events"]}),t.jsx(f(),{href:"/school-admin/calendar",className:"btn btn-outline-info btn-sm",children:"View All"})]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"list-group list-group-flush",children:(()=>{let e=new Date,s=new Date(e.getTime()+2592e6);return Z.filter(a=>{let t=new Date(a.startDate);return t>=e&&t<=s}).sort((e,s)=>new Date(e.startDate).getTime()-new Date(s.startDate).getTime()).slice(0,5)})().map(e=>t.jsx("div",{className:"list-group-item border-0 py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-start",children:[t.jsx("div",{className:`event-dot ${getEventTypeColor(e.eventType)}`}),(0,t.jsxs)("div",{className:"flex-grow-1",children:[t.jsx("h6",{className:"fw-semibold mb-1",children:e.title}),t.jsx("p",{className:"text-muted small mb-1",children:e.description}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsxs)("small",{className:"text-muted",children:[t.jsx(j.Z,{size:14,className:"me-1"}),formatEventTime(e.startDate)]}),(0,t.jsxs)("small",{className:"text-muted",children:[t.jsx(d.Z,{size:14,className:"me-1"}),e.location]})]})]})]})},e.id))})})]}),(0,t.jsxs)("div",{className:"card dashboard-card border-0 shadow mb-4",children:[t.jsx("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsxs)("h5",{className:"fw-bold text-dark mb-0",children:[t.jsx("i",{className:"fas fa-chart-pie me-2 text-warning"}),"Quick Overview"]})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"quick-overview-item",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[t.jsx("span",{className:"text-muted",children:"Attendance Rate"}),(0,t.jsxs)("span",{className:"fw-bold text-success",children:[e.attendanceRate,"%"]})]}),t.jsx("div",{className:"progress mt-2",style:{height:"6px"},children:t.jsx("div",{className:"progress-bar bg-success",style:{width:`${e.attendanceRate}%`}})})]}),(0,t.jsxs)("div",{className:"quick-overview-item",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[t.jsx("span",{className:"text-muted",children:"Average Score"}),(0,t.jsxs)("span",{className:"fw-bold text-primary",children:[e.averageScore,"%"]})]}),t.jsx("div",{className:"progress mt-2",style:{height:"6px"},children:t.jsx("div",{className:"progress-bar bg-primary",style:{width:`${e.averageScore}%`}})})]}),(0,t.jsxs)("div",{className:"quick-overview-item",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[t.jsx("span",{className:"text-muted",children:"Active Classes"}),(0,t.jsxs)("span",{className:"fw-bold text-warning",children:[e.activeClasses,"/",e.totalClasses]})]}),t.jsx("div",{className:"progress mt-2",style:{height:"6px"},children:t.jsx("div",{className:"progress-bar bg-warning",style:{width:`${e.activeClasses/e.totalClasses*100}%`}})})]}),t.jsx("div",{className:"quick-overview-item",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[t.jsx("span",{className:"text-muted",children:"Pending Tasks"}),t.jsx("span",{className:"fw-bold text-danger",children:e.pendingTasks})]})})]})]}),(0,t.jsxs)("div",{className:"card dashboard-card border-0 shadow",children:[t.jsx("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsxs)("h5",{className:"fw-bold text-dark mb-0",children:[t.jsx("i",{className:"fas fa-history me-2 text-secondary"}),"Recent Activities"]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"list-group list-group-flush",children:q.slice(0,5).map((e,s)=>t.jsx("div",{className:"list-group-item border-0 py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-start",children:[t.jsx("div",{className:"bg-primary bg-opacity-10 text-primary rounded-circle me-3",style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("i",{className:`fas fa-${e.icon} fa-sm`})}),(0,t.jsxs)("div",{className:"flex-grow-1",children:[t.jsx("p",{className:"mb-1 small",children:e.description}),t.jsx("small",{className:"text-muted",children:e.time})]})]})},s))})})]})]})]})]})]})]})}},41897:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>d});var t=a(95153);let r=(0,t.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\school-admin\dashboard\page.tsx`),{__esModule:i,$$typeof:l}=r,c=r.default,d=c}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[659,1336,9675,3528,4301,4154,950,6371,656,5525,7565],()=>__webpack_exec__(24316));module.exports=a})();