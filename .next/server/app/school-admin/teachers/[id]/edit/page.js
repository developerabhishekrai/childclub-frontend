(()=>{var e={};e.id=4613,e.ids=[4613],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},27925:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o});var l=a(67096),t=a(16132),r=a(37284),n=a.n(r),i=a(32564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(s,c);let o=["",{children:["school-admin",{children:["teachers",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6613)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\teachers\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25803)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\teachers\\[id]\\edit\\page.tsx"],m="/school-admin/teachers/[id]/edit/page",h={require:a,loadChunk:()=>Promise.resolve()},u=new l.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/school-admin/teachers/[id]/edit/page",pathname:"/school-admin/teachers/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2763:(e,s,a)=>{Promise.resolve().then(a.bind(a,85942))},85942:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>TeacherEditPage});var l=a(30784),t=a(9885),r=a(79803),n=a(93680),i=a(27800),c=a(43250),o=a(28626),d=a(20644),m=a(1264),h=a(56388),u=a(87094),p=a(20987),x=a(16920),f=a(517),g=a(52995),j=a(11440),b=a.n(j),N=a(57114),y=a(85525),v=a(73462),w=a(19300);function TeacherEditPage(){let e=(0,N.useParams)(),s=(0,N.useRouter)(),a=e.id,[j,C]=(0,t.useState)(null),[P,S]=(0,t.useState)({firstName:"",lastName:"",email:"",mobile:"",dateOfBirth:"",address:"",city:"",state:"",country:"India",postalCode:"",qualification:"",specialization:"",experienceYears:"",department:"",designation:"",subjects:[],classId:"",joiningDate:"",salary:"",emergencyContact:"",employeeId:"",status:"active"}),[E,k]=(0,t.useState)(!0),[I,T]=(0,t.useState)(!1),[$,A]=(0,t.useState)(""),[q,z]=(0,t.useState)(""),[_,B]=(0,t.useState)([]),[D,Z]=(0,t.useState)(!0),[F,O]=(0,t.useState)([]),[M,R]=(0,t.useState)(""),[L,G]=(0,t.useState)(!1),[V,Y]=(0,t.useState)(!1),[H,U]=(0,t.useState)(null),[J,K]=(0,t.useState)(!1),[Q,W]=(0,t.useState)([]),[X,ee]=(0,t.useState)(!0);(0,t.useEffect)(()=>{a&&(fetchTeacher(),fetchClasses(),fetchTeacherClasses(),fetchSubjects())},[a]);let fetchSubjects=async()=>{try{ee(!0);let e=(0,y.hV)();if(!e){console.error("No authentication token found"),ee(!1);return}console.log("Making API call to /subjects...");let s=await fetch(`${y.CT}/subjects`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Subjects fetch response status:",s.status),!s.ok)throw Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(console.log("Subjects API Response:",a),Array.isArray(a)){let e=a.filter(e=>"active"===e.status).map(e=>e.name);console.log("Active subjects:",e),W(e)}else console.error("Invalid response format:",a),W([])}catch(e){console.error("Error fetching subjects:",e),console.error("Error details:",e.message),W(["Mathematics","Physics","Chemistry","Biology","English","Hindi","History","Geography","Civics","Economics","Computer Science","Physical Education","Art","Music","Sanskrit"])}finally{ee(!1)}},fetchClasses=async()=>{try{Z(!0);let e=(0,y.hV)();if(!e){console.error("No authentication token found");return}let s=await fetch(`${y.CT}/classes`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(Array.isArray(a)){let e=a.filter(e=>"ACTIVE"===e.status||"active"===e.status);B(e)}else B([])}catch(e){console.error("Error fetching classes:",e),B([])}finally{Z(!1)}},fetchTeacherClasses=async()=>{try{let e=(0,y.hV)();if(!e){console.error("No authentication token found");return}let s=await fetch(`${y.CT}/teachers/${a}/classes`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok){console.error("Failed to fetch teacher classes");return}let l=await s.json();if(Array.isArray(l)){let e=l.map(e=>e.id);O(e),console.log("Loaded teacher classes:",e)}}catch(e){console.error("Error fetching teacher classes:",e)}},fetchTeacher=async()=>{try{k(!0),A("");let e=(0,y.hV)();if(!e)throw Error("Authentication required. Please login again.");let s=await (0,y.R1)(`/teachers/${a}`,{token:e});C(s),S({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",mobile:s.mobile||"",dateOfBirth:s.dateOfBirth?s.dateOfBirth.split("T")[0]:"",address:s.address||"",city:s.city||"",state:s.state||"",country:s.country||"India",postalCode:s.postalCode||"",qualification:s.qualification||"",specialization:s.specialization||"",experienceYears:s.experienceYears?.toString()||"",department:s.department||"",designation:s.designation||"",subjects:s.subjects||[],classId:s.classId?s.classId.toString():"",joiningDate:s.joiningDate?s.joiningDate.split("T")[0]:"",salary:s.salary?.toString()||"",emergencyContact:s.emergencyContact||"",employeeId:s.employeeId||"",status:s.status||"active"}),console.log("Teacher fetched:",s)}catch(e){console.error("Error fetching teacher:",e),A(e?.message||"Failed to fetch teacher details")}finally{k(!1)}},handleInputChange=e=>{let{name:s,value:a}=e.target;S(e=>({...e,[s]:a})),$&&A(""),q&&z("")},handleSubjectChange=e=>{S(s=>({...s,subjects:s.subjects.includes(e)?s.subjects.filter(s=>s!==e):[...s.subjects,e]}))},handleClassChange=e=>{O(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},handleCopyPassword=async()=>{if(M)try{await navigator.clipboard.writeText(M),Y(!0),setTimeout(()=>Y(!1),2e3)}catch(e){console.error("Failed to copy password:",e)}},handleResetPassword=async()=>{if(!M){w.Z.fire({icon:"warning",title:"No Password",text:"Please generate or enter a password first"});return}let e=(0,v.uo)(M);if(!e.isValid){w.Z.fire({icon:"error",title:"Weak Password",html:`<div class="text-start">
          <p>Password requirements not met:</p>
          <ul>${e.errors.map(e=>`<li>${e}</li>`).join("")}</ul>
        </div>`});return}let s=await w.Z.fire({icon:"question",title:"Reset Password?",html:`
        <p>Are you sure you want to reset the password for <strong>${j?.firstName} ${j?.lastName}</strong>?</p>
        <div class="alert alert-warning mt-3">
          <i class="fas fa-exclamation-triangle me-2"></i>
          The teacher will need to use the new password to login.
        </div>
      `,showCancelButton:!0,confirmButtonText:"Yes, Reset Password",cancelButtonText:"Cancel",confirmButtonColor:"#dc3545"});if(s.isConfirmed){K(!0);try{let e=(0,y.hV)();if(!e)throw Error("Authentication required");let s=await fetch(`${y.CT}/teachers/${a}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:M})});if(!s.ok)throw Error("Failed to reset password");await w.Z.fire({icon:"success",title:"Password Reset Successful!",html:`
          <p>Password has been successfully reset for ${j?.firstName} ${j?.lastName}</p>
          <div class="alert alert-info mt-3">
            <strong>New Password:</strong> <code>${M}</code>
            <button class="btn btn-sm btn-outline-primary ms-2" onclick="navigator.clipboard.writeText('${M}')">
              <i class="fas fa-copy"></i> Copy
            </button>
          </div>
          <p class="text-muted small">Make sure to share this password with the teacher securely.</p>
        `,confirmButtonText:"OK"}),R(""),U(null),G(!1)}catch(e){console.error("Error resetting password:",e),w.Z.fire({icon:"error",title:"Error",text:e?.message||"Failed to reset password. Please try again."})}finally{K(!1)}}},validateForm=()=>{let e={};return P.firstName.trim()||(e.firstName="First name is required"),P.lastName.trim()||(e.lastName="Last name is required"),P.email.trim()||(e.email="Email is required"),A(Object.values(e).join(", ")),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){T(!0),A(""),z("");try{let e=(0,y.hV)();if(!e)throw Error("Authentication required. Please login again.");let l=(0,y.vF)();if(!l){let e=localStorage.getItem("user");if(e)try{l=JSON.parse(e)}catch(e){console.error("Failed to parse user from localStorage:",e)}}if(!l||!l.schoolId)throw Error("School ID not found. Please login again.");let t={firstName:P.firstName,lastName:P.lastName,email:P.email,mobile:P.mobile||null,dateOfBirth:P.dateOfBirth||null,address:P.address||null,city:P.city||null,state:P.state||null,country:P.country,postalCode:P.postalCode||null,qualification:P.qualification||null,specialization:P.specialization||null,experienceYears:P.experienceYears||null,department:P.department||null,designation:P.designation||null,subjects:P.subjects,classIds:F.length>0?F:[],joiningDate:P.joiningDate||null,salary:P.salary?parseFloat(P.salary):null,emergencyContact:P.emergencyContact||null,status:P.status};console.log("Updating teacher:",t);let r=await (0,y.pE)(`/teachers/${a}`,t,{token:e});console.log("Teacher updated successfully:",r),z("Teacher updated successfully!"),setTimeout(()=>{s.push("/school-admin/teachers")},1500)}catch(s){console.error("Error updating teacher:",s);let e=s?.message||"Error updating teacher. Please try again.";A(e)}finally{T(!1)}}};return E?l.jsx("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})}),l.jsx("p",{className:"mt-3 text-muted",children:"Loading teacher details..."})]})}):$&&!j?l.jsx("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:l.jsx("div",{className:"text-center",children:(0,l.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[l.jsx("h5",{className:"alert-heading",children:"Error Loading Teacher"}),l.jsx("p",{children:$}),l.jsx("hr",{}),(0,l.jsxs)("div",{className:"d-flex gap-2 justify-content-center",children:[l.jsx("button",{className:"btn btn-outline-danger",onClick:()=>window.location.reload(),children:"Try Again"}),l.jsx(b(),{href:"/school-admin/teachers",className:"btn btn-secondary",children:"Back to Teachers"})]})]})})}):(0,l.jsxs)("div",{className:"min-vh-100 bg-light",children:[l.jsx("div",{className:"bg-white shadow-sm border-bottom",children:l.jsx("div",{className:"container-fluid py-3",children:(0,l.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[l.jsx(b(),{href:`/school-admin/teachers/${a}`,className:"btn btn-outline-secondary",children:l.jsx(r.Z,{size:20})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"h3 mb-0 fw-bold text-dark",children:[l.jsx("i",{className:"fas fa-user-edit me-2 text-primary"}),"Edit Teacher"]}),l.jsx("p",{className:"text-muted mb-0",children:"Update teacher information and profile"})]})]}),l.jsx("div",{children:l.jsx(b(),{href:`/school-admin/teachers/${a}`,className:"btn btn-outline-secondary me-2",children:"Cancel"})})]})})}),l.jsx("div",{className:"container-fluid py-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-lg-10 col-xl-8",children:l.jsx("div",{className:"card border-0 shadow",children:(0,l.jsxs)("div",{className:"card-body p-4 p-lg-5",children:[q&&(0,l.jsxs)("div",{className:"alert alert-success d-flex align-items-center",role:"alert",children:[l.jsx("i",{className:"fas fa-check-circle me-2"}),l.jsx("div",{children:q})]}),$&&(0,l.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[l.jsx("i",{className:"fas fa-exclamation-circle me-2"}),l.jsx("div",{children:$})]}),(0,l.jsxs)("form",{onSubmit:handleSubmit,children:[(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:l.jsx(n.Z,{size:24,className:"text-primary"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Personal Information"})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["First Name ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("input",{type:"text",name:"firstName",value:P.firstName,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter first name",required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Last Name ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("input",{type:"text",name:"lastName",value:P.lastName,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter last name",required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Email Address ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("input",{type:"email",name:"email",value:P.email,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter email address",required:!0})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Mobile Number"}),l.jsx("input",{type:"tel",name:"mobile",value:P.mobile,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter mobile number"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Date of Birth"}),l.jsx("input",{type:"date",name:"dateOfBirth",value:P.dateOfBirth,onChange:handleInputChange,className:"form-control form-control-lg"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Status"}),(0,l.jsxs)("select",{name:"status",value:P.status,onChange:handleInputChange,className:"form-select form-select-lg",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"resigned",children:"Resigned"}),l.jsx("option",{value:"retired",children:"Retired"}),l.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-danger bg-opacity-10 p-3 rounded-circle",children:l.jsx(i.Z,{size:24,className:"text-danger"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Password Reset"})]}),l.jsx("div",{className:"card bg-light border-warning",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"alert alert-warning d-flex align-items-start mb-3",children:[l.jsx("i",{className:"fas fa-exclamation-triangle me-2 mt-1"}),(0,l.jsxs)("div",{children:[l.jsx("strong",{children:"Security Notice:"})," Reset the teacher's password if they forgot it or for security reasons. Make sure to share the new password securely."]})]}),(0,l.jsxs)("div",{className:"row g-3",children:[(0,l.jsxs)("div",{className:"col-12",children:[l.jsx("label",{className:"form-label fw-semibold",children:"New Password"}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("input",{type:L?"text":"password",value:M,onChange:e=>{let s=e.target.value;R(s);let a=(0,v.uo)(s);U(a)},className:"form-control",placeholder:"Enter new password or generate one"}),l.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>G(!L),title:L?"Hide password":"Show password",children:L?l.jsx(c.Z,{size:18}):l.jsx(o.Z,{size:18})}),(0,l.jsxs)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{let e=(0,v.G$)(12);R(e);let s=(0,v.uo)(e);U(s),G(!0)},title:"Generate secure password",children:[l.jsx(d.Z,{size:18})," Generate"]}),M&&l.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:handleCopyPassword,title:"Copy password",children:V?l.jsx(m.Z,{size:18}):l.jsx(h.Z,{size:18})})]}),H&&M&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[l.jsx("small",{className:"text-muted",children:"Password Strength:"}),l.jsx("small",{className:`text-${(0,v.zU)(H.strength)} fw-bold`,children:(0,v.sO)(H.strength)})]}),l.jsx("div",{className:"progress",style:{height:"6px"},children:l.jsx("div",{className:`progress-bar bg-${(0,v.zU)(H.strength)}`,role:"progressbar",style:{width:`${H.score}%`}})})]}),(0,l.jsxs)("small",{className:"text-muted d-block mt-2",children:[l.jsx("i",{className:"fas fa-info-circle me-1"}),"Password must contain: uppercase, lowercase, number, and special character"]})]}),l.jsx("div",{className:"col-12",children:l.jsx("button",{type:"button",onClick:handleResetPassword,disabled:J||!M,className:"btn btn-danger btn-lg w-100",children:J?(0,l.jsxs)(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Resetting Password..."]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(i.Z,{size:18,className:"me-2"}),"Reset Password"]})})})]})]})})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded-circle",children:l.jsx(u.Z,{size:24,className:"text-info"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Address Information"})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-12",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Address"}),l.jsx("textarea",{name:"address",value:P.address,onChange:handleInputChange,className:"form-control form-control-lg",rows:3,placeholder:"Enter complete address"})]}),(0,l.jsxs)("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label fw-semibold",children:"City"}),l.jsx("input",{type:"text",name:"city",value:P.city,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter city"})]}),(0,l.jsxs)("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label fw-semibold",children:"State"}),l.jsx("input",{type:"text",name:"state",value:P.state,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter state"})]}),(0,l.jsxs)("div",{className:"col-md-4",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Country"}),l.jsx("input",{type:"text",name:"country",value:P.country,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter country"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Postal Code"}),l.jsx("input",{type:"text",name:"postalCode",value:P.postalCode,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter postal code"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Emergency Contact"}),l.jsx("input",{type:"tel",name:"emergencyContact",value:P.emergencyContact,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter emergency contact number"})]})]})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:l.jsx(p.Z,{size:24,className:"text-success"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Professional Information"})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Department"}),(0,l.jsxs)("select",{name:"department",value:P.department,onChange:handleInputChange,className:"form-select form-select-lg",children:[l.jsx("option",{value:"",children:"Select Department"}),["Mathematics","Science","English","Hindi","Social Studies","Computer Science","Physical Education","Art","Music","Administration"].map(e=>l.jsx("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Designation"}),(0,l.jsxs)("select",{name:"designation",value:P.designation,onChange:handleInputChange,className:"form-select form-select-lg",children:[l.jsx("option",{value:"",children:"Select Designation"}),["Teacher","Senior Teacher","Head Teacher","Vice Principal","Principal","Subject Coordinator","Class Teacher","Librarian","Counselor"].map(e=>l.jsx("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Qualification"}),l.jsx("input",{type:"text",name:"qualification",value:P.qualification,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"e.g., M.Sc, B.Ed, Ph.D"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Specialization"}),l.jsx("input",{type:"text",name:"specialization",value:P.specialization,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"e.g., Mathematics, Physics"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Experience (Years)"}),l.jsx("input",{type:"number",name:"experienceYears",value:P.experienceYears,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter years of experience",min:"0",max:"50"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Joining Date"}),l.jsx("input",{type:"date",name:"joiningDate",value:P.joiningDate,onChange:handleInputChange,className:"form-control form-control-lg"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Salary"}),l.jsx("input",{type:"number",name:"salary",value:P.salary,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter salary amount",min:"0"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Employee ID"}),l.jsx("input",{type:"text",name:"employeeId",value:P.employeeId||"",onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter employee ID",readOnly:!0}),l.jsx("small",{className:"text-muted",children:"Employee ID cannot be changed"})]})]})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:l.jsx(x.Z,{size:24,className:"text-warning"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Subjects"})]}),l.jsx("div",{className:"row g-4",children:(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Select Subjects",X&&l.jsx("span",{className:"spinner-border spinner-border-sm ms-2",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})})]}),X?(0,l.jsxs)("div",{className:"border rounded p-4 text-center",children:[l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading subjects..."})}),l.jsx("p",{className:"mt-2 mb-0 text-muted",children:"Loading subjects..."})]}):0===Q.length?(0,l.jsxs)("div",{className:"alert alert-info",children:[l.jsx("i",{className:"fas fa-info-circle me-2"}),"No subjects available. Please create subjects first from the"," ",l.jsx(b(),{href:"/school-admin/subjects",className:"text-primary fw-bold",children:"Subjects"})," ","page."]}):(0,l.jsxs)("div",{className:"border rounded p-4",children:[l.jsx("div",{className:"row g-3",children:Q.map(e=>l.jsx("div",{className:"col-md-4 col-sm-6",children:(0,l.jsxs)("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`subject-${e}`,checked:P.subjects.includes(e),onChange:()=>handleSubjectChange(e)}),l.jsx("label",{className:"form-check-label",htmlFor:`subject-${e}`,children:e})]})},e))}),P.subjects.length>0&&l.jsx("div",{className:"mt-3 p-2 bg-success bg-opacity-10 rounded",children:(0,l.jsxs)("small",{className:"text-success",children:[l.jsx("i",{className:"fas fa-check-circle me-1"}),P.subjects.length," subject(s) selected"]})})]})]})})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded-circle",children:l.jsx(f.Z,{size:24,className:"text-info"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Class Assignment"})]}),l.jsx("div",{className:"row g-4",children:(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Assign to Classes (Multiple Selection)",D&&l.jsx("span",{className:"spinner-border spinner-border-sm ms-2",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})})]}),l.jsx("div",{className:"border rounded p-4",children:D?l.jsx("div",{className:"text-center py-3",children:l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading classes..."})})}):0===_.length?(0,l.jsxs)("div",{className:"alert alert-info mb-0",children:[l.jsx("i",{className:"fas fa-info-circle me-2"}),"No classes available. Please create classes first from the"," ",l.jsx(b(),{href:"/school-admin/create-class",className:"text-primary",children:"Create Class"})," ","page."]}):l.jsx("div",{className:"row g-3",children:_.map(e=>l.jsx("div",{className:"col-md-4 col-sm-6",children:(0,l.jsxs)("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`class-${e.id}`,checked:F.includes(e.id),onChange:()=>handleClassChange(e.id)}),l.jsx("label",{className:"form-check-label",htmlFor:`class-${e.id}`,children:e.name})]})},e.id))})}),F.length>0&&(0,l.jsxs)("small",{className:"text-success d-block mt-2",children:[l.jsx("i",{className:"fas fa-check-circle me-1"}),F.length," class(es) selected"]})]})})]}),(0,l.jsxs)("div",{className:"d-flex gap-3 justify-content-end pt-4 border-top",children:[(0,l.jsxs)(b(),{href:`/school-admin/teachers/${a}`,className:"btn btn-secondary btn-lg px-5",children:[l.jsx("i",{className:"fas fa-times me-2"}),"Cancel"]}),l.jsx("button",{type:"submit",disabled:I,className:"btn btn-primary btn-lg px-5",children:I?(0,l.jsxs)(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Updating..."]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(g.Z,{size:18,className:"me-2"}),"Update Teacher"]})})]})]})]})})})})})]})}},6613:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>r,default:()=>c});var l=a(95153);let t=(0,l.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\school-admin\teachers\[id]\edit\page.tsx`),{__esModule:r,$$typeof:n}=t,i=t.default,c=i}};var s=require("../../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[659,1336,9675,3528,4301,4154,9300,5724,5125,3653,656,5525,7565,3462],()=>__webpack_exec__(27925));module.exports=a})();