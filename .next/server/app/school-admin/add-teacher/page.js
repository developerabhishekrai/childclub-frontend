(()=>{var e={};e.id=182,e.ids=[182],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},85633:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var l=a(67096),r=a(16132),t=a(37284),n=a.n(t),i=a(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let c=["",{children:["school-admin",{children:["add-teacher",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,91143)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\add-teacher\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25803)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\add-teacher\\page.tsx"],m="/school-admin/add-teacher/page",h={require:a,loadChunk:()=>Promise.resolve()},u=new l.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/school-admin/add-teacher/page",pathname:"/school-admin/add-teacher",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},88536:(e,s,a)=>{Promise.resolve().then(a.bind(a,15392))},15392:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>AddTeacherPage});var l=a(30784),r=a(9885),t=a(79803),n=a(93680),i=a(59490),o=a(14571),c=a(517),d=a(43250),m=a(28626),h=a(20644),u=a(1264),p=a(56388),x=a(16920),g=a(78937),b=a(87094),j=a(11440),f=a.n(j),N=a(57114),v=a(11501),y=a(85525),w=a(73462);function AddTeacherPage(){let e=(0,N.useRouter)(),[s,a]=(0,r.useState)({firstName:"",lastName:"",email:"",mobile:"",password:"",dateOfBirth:"",address:"",city:"",state:"",country:"India",postalCode:"",qualification:"",specialization:"",experienceYears:"",department:"",designation:"",subjects:[],classIds:[],joiningDate:"",salary:"",emergencyContact:""}),[j,C]=(0,r.useState)({}),[I,S]=(0,r.useState)(!1),[k,P]=(0,r.useState)(""),[E,A]=(0,r.useState)(null),[T,q]=(0,r.useState)([]),[z,D]=(0,r.useState)(!0),[_,$]=(0,r.useState)(!1),[M,F]=(0,r.useState)(!1),[Z,O]=(0,r.useState)(null),[Y,B]=(0,r.useState)([]),[R,G]=(0,r.useState)(!0),fetchSubjects=async()=>{try{G(!0);let e=(0,y.hV)();if(!e){console.error("No authentication token found"),G(!1);return}console.log("Making API call to /subjects...");let s=await fetch(`${y.CT}/subjects`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Subjects fetch response status:",s.status),!s.ok)throw Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(console.log("Subjects API Response:",a),Array.isArray(a)){let e=a.filter(e=>"active"===e.status).map(e=>e.name);console.log("Active subjects:",e),B(e)}else console.error("Invalid response format:",a),B([])}catch(e){console.error("Error fetching subjects:",e),console.error("Error details:",e.message),B(["Mathematics","Physics","Chemistry","Biology","English","Hindi","History","Geography","Civics","Economics","Computer Science","Physical Education","Art","Music","Sanskrit"])}finally{G(!1)}},fetchClasses=async()=>{try{D(!0);let e=(0,y.hV)();if(console.log("=== Fetch Classes Debug ==="),console.log("Token available:",!!e),!e){console.error("No authentication token found"),D(!1);return}console.log("Making API call to /classes...");let s=await fetch(`${y.CT}/classes`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Direct fetch response status:",s.status),console.log("Direct fetch response ok:",s.ok),!s.ok)throw Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(console.log("Classes API Response:",a),console.log("Response type:",typeof a),console.log("Is array:",Array.isArray(a)),Array.isArray(a)){console.log("Total classes received:",a.length);let e=a.filter(e=>"ACTIVE"===e.status||"active"===e.status);console.log("Active classes after filtering:",e.length),console.log("Active classes data:",e),q(e)}else console.error("Invalid response format:",a),q([])}catch(e){console.error("Error fetching classes:",e),console.error("Error details:",e.message),q([])}finally{D(!1)}};(0,r.useEffect)(()=>{console.log("=== Page Load Debug ===");let s=localStorage.getItem("token"),a=localStorage.getItem("user");console.log("Raw token from localStorage:",s?"Present":"Missing"),console.log("Raw user from localStorage:",a);let l=null;if(a)try{l=JSON.parse(a),console.log("Parsed user successfully:",l)}catch(e){console.error("Failed to parse user:",e)}let r=(0,y.vF)(),t=(0,y.hV)();console.log("Token from getStoredToken():",!!t),console.log("User from getStoredUser():",r),console.log("School ID:",r?.schoolId||l?.schoolId),A({hasToken:!!t||!!s,hasUser:!!r||!!l,hasSchoolId:!!(r?.schoolId||l?.schoolId),schoolId:r?.schoolId||l?.schoolId,userRole:r?.role||l?.role,userEmail:r?.email||l?.email}),t||s?(fetchClasses(),fetchSubjects()):(alert("You are not logged in. Redirecting to login..."),e.push("/school-admin/login"))},[e]);let handleInputChange=e=>{let{name:s,value:l}=e.target;if(a(e=>({...e,[s]:l})),j[s]&&C(e=>({...e,[s]:""})),"password"===s){let e=(0,w.uo)(l);O(e)}},handleCopyPassword=async()=>{if(s.password)try{await navigator.clipboard.writeText(s.password),F(!0),setTimeout(()=>F(!1),2e3)}catch(e){console.error("Failed to copy password:",e)}},handleSubjectChange=e=>{a(s=>({...s,subjects:s.subjects.includes(e)?s.subjects.filter(s=>s!==e):[...s.subjects,e]}))},handleClassChange=e=>{a(s=>({...s,classIds:s.classIds.includes(e)?s.classIds.filter(s=>s!==e):[...s.classIds,e]}))},validateForm=()=>{let e={};if(s.firstName.trim()||(e.firstName="First name is required"),s.lastName.trim()||(e.lastName="Last name is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="Email is invalid"):e.email="Email is required",s.password){let a=(0,w.uo)(s.password);a.isValid||(e.password=a.errors.join(", "))}else e.password="Password is required";return s.mobile&&!/^\d{10}$/.test(s.mobile)&&(e.mobile="Mobile number must be 10 digits"),s.qualification.trim()||(e.qualification="Qualification is required"),s.experienceYears.trim()||(e.experienceYears="Experience is required"),0===s.subjects.length&&(e.subjects="At least one subject is required"),C(e),0===Object.keys(e).length},handleSubmit=async l=>{if(l.preventDefault(),validateForm()){S(!0),P("");try{let l=(0,y.vF)();if(!l){let e=localStorage.getItem("user");if(e)try{l=JSON.parse(e),console.log("✅ Got user from direct localStorage read")}catch(e){console.error("Failed to parse user from localStorage:",e)}}if(console.log("=== Add Teacher Debug ==="),console.log("Logged in user:",l),console.log("School ID:",l?.schoolId),console.log("All localStorage keys:",Object.keys(localStorage)),!l)throw Error("User not logged in. Please login again and make sure cookies are enabled.");if(!l.schoolId)throw Error("School ID not found in your profile. Backend response may be missing schoolId. Check console logs during login.");let r={firstName:s.firstName,lastName:s.lastName,email:s.email,mobile:s.mobile,password:s.password,dateOfBirth:s.dateOfBirth||void 0,address:s.address,city:s.city,state:s.state,country:s.country,postalCode:s.postalCode,schoolId:Number(l.schoolId),qualification:s.qualification,specialization:s.specialization||void 0,experienceYears:s.experienceYears?parseInt(s.experienceYears):0,department:s.department||void 0,designation:s.designation||void 0,subjects:s.subjects,classIds:s.classIds.length>0?s.classIds:void 0,joiningDate:s.joiningDate?new Date(s.joiningDate):void 0,salary:s.salary?parseFloat(s.salary):void 0,emergencyContact:s.emergencyContact||void 0};console.log("Creating teacher with data:",r);let t=await v.zF.create(r);console.log("✅ Teacher created successfully:",t),P("✅ Teacher added successfully! Redirecting..."),a({firstName:"",lastName:"",email:"",mobile:"",password:"",dateOfBirth:"",address:"",city:"",state:"",country:"India",postalCode:"",qualification:"",specialization:"",experienceYears:"",department:"",designation:"",subjects:[],classIds:[],joiningDate:"",salary:"",emergencyContact:""}),C({}),setTimeout(()=>{e.push("/school-admin/teachers")},2e3)}catch(s){console.error("❌ Error adding teacher:",s);let e="Error adding teacher. Please try again.";s instanceof y.MS?(e=`Error: ${s.message}`,console.error("API Error Status:",s.status),console.error("API Error Data:",s.data)):s instanceof Error&&(e=s.message),C({submit:e}),alert(e)}finally{S(!1)}}};return(0,l.jsxs)("div",{className:"min-vh-100 bg-light",children:[l.jsx("div",{className:"bg-white shadow-sm border-bottom",children:l.jsx("div",{className:"container-fluid py-3",children:(0,l.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[l.jsx(f(),{href:"/school-admin/dashboard",className:"btn btn-outline-secondary",children:l.jsx(t.Z,{size:20})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"h3 mb-0 fw-bold text-dark",children:[l.jsx("i",{className:"fas fa-chalkboard-teacher me-2 text-success"}),"Add New Teacher"]}),l.jsx("p",{className:"text-muted mb-0",children:"Hire a new faculty member"})]})]})})}),l.jsx("div",{className:"container-fluid py-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-lg-10 col-xl-8",children:l.jsx("div",{className:"card border-0 shadow",children:(0,l.jsxs)("div",{className:"card-body p-4 p-lg-5",children:[E&&!E.hasSchoolId&&(0,l.jsxs)("div",{className:"alert alert-warning mb-4",children:[l.jsx("h6",{className:"alert-heading",children:"⚠️ Debug Information"}),(0,l.jsxs)("ul",{className:"mb-0 small",children:[(0,l.jsxs)("li",{children:["Token: ",E.hasToken?"✅ Present":"❌ Missing"]}),(0,l.jsxs)("li",{children:["User Data: ",E.hasUser?"✅ Present":"❌ Missing"]}),(0,l.jsxs)("li",{children:["School ID: ",E.hasSchoolId?`✅ ${E.schoolId}`:"❌ Missing"]}),(0,l.jsxs)("li",{children:["Role: ",E.userRole||"N/A"]}),(0,l.jsxs)("li",{children:["Email: ",E.userEmail||"N/A"]})]}),l.jsx("hr",{}),(0,l.jsxs)("p",{className:"mb-0 small",children:[l.jsx("strong",{children:"Issue:"})," School ID is missing. Please login again as School Admin."]})]}),k&&(0,l.jsxs)("div",{className:"alert alert-success alert-dismissible fade show mb-4",role:"alert",children:[k,l.jsx("button",{type:"button",className:"btn-close",onClick:()=>P("")})]}),j.submit&&(0,l.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show mb-4",role:"alert",children:[j.submit,l.jsx("button",{type:"button",className:"btn-close",onClick:()=>C({...j,submit:""})})]}),(0,l.jsxs)("form",{onSubmit:handleSubmit,children:[(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:l.jsx(n.Z,{size:24,className:"text-success"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Personal Information"})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["First Name ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:handleInputChange,className:`form-control form-control-lg ${j.firstName?"is-invalid":""}`,placeholder:"Enter first name"}),j.firstName&&l.jsx("div",{className:"invalid-feedback",children:j.firstName})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Last Name ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:handleInputChange,className:`form-control form-control-lg ${j.lastName?"is-invalid":""}`,placeholder:"Enter last name"}),j.lastName&&l.jsx("div",{className:"invalid-feedback",children:j.lastName})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Email Address ",l.jsx("span",{className:"text-danger",children:"*"})]}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("span",{className:"input-group-text bg-light border-end-0",children:l.jsx(i.Z,{size:18,className:"text-muted"})}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:handleInputChange,className:`form-control border-start-0 ${j.email?"is-invalid":""}`,placeholder:"Enter email address"}),j.email&&l.jsx("div",{className:"invalid-feedback",children:j.email})]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Mobile Number"}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("span",{className:"input-group-text bg-light border-end-0",children:l.jsx(o.Z,{size:18,className:"text-muted"})}),l.jsx("input",{type:"tel",name:"mobile",value:s.mobile,onChange:handleInputChange,className:`form-control border-start-0 ${j.mobile?"is-invalid":""}`,placeholder:"Enter mobile number"}),j.mobile&&l.jsx("div",{className:"invalid-feedback",children:j.mobile})]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Date of Birth"}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("span",{className:"input-group-text bg-light border-end-0",children:l.jsx(c.Z,{size:18,className:"text-muted"})}),l.jsx("input",{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:handleInputChange,className:"form-control border-start-0"})]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Password ",l.jsx("span",{className:"text-danger",children:"*"})]}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("input",{type:_?"text":"password",name:"password",value:s.password,onChange:handleInputChange,className:`form-control ${j.password?"is-invalid":""}`,placeholder:"Enter or generate password"}),l.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>$(!_),title:_?"Hide password":"Show password",children:_?l.jsx(d.Z,{size:18}):l.jsx(m.Z,{size:18})}),l.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{let e=(0,w.G$)(12);a(s=>({...s,password:e}));let s=(0,w.uo)(e);O(s),$(!0),j.password&&C(e=>({...e,password:""}))},title:"Generate secure password",children:l.jsx(h.Z,{size:18})}),s.password&&l.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:handleCopyPassword,title:"Copy password",children:M?l.jsx(u.Z,{size:18}):l.jsx(p.Z,{size:18})})]}),Z&&s.password&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[l.jsx("small",{className:"text-muted",children:"Password Strength:"}),l.jsx("small",{className:`text-${(0,w.zU)(Z.strength)} fw-bold`,children:(0,w.sO)(Z.strength)})]}),l.jsx("div",{className:"progress",style:{height:"6px"},children:l.jsx("div",{className:`progress-bar bg-${(0,w.zU)(Z.strength)}`,role:"progressbar",style:{width:`${Z.score}%`}})})]}),j.password&&l.jsx("div",{className:"text-danger small mt-2",children:j.password}),(0,l.jsxs)("small",{className:"text-muted d-block mt-2",children:[l.jsx("i",{className:"fas fa-info-circle me-1"}),"Password must contain: uppercase, lowercase, number, and special character"]})]})]})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:l.jsx(x.Z,{size:24,className:"text-primary"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Professional Information"})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Qualification ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("input",{type:"text",name:"qualification",value:s.qualification,onChange:handleInputChange,className:`form-control form-control-lg ${j.qualification?"is-invalid":""}`,placeholder:"e.g., M.Sc., B.Ed."}),j.qualification&&l.jsx("div",{className:"invalid-feedback",children:j.qualification})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Experience (Years) ",l.jsx("span",{className:"text-danger",children:"*"})]}),l.jsx("input",{type:"number",name:"experienceYears",value:s.experienceYears,onChange:handleInputChange,className:`form-control form-control-lg ${j.experienceYears?"is-invalid":""}`,placeholder:"e.g., 5",min:"0"}),j.experienceYears&&l.jsx("div",{className:"invalid-feedback",children:j.experienceYears})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Specialization"}),l.jsx("input",{type:"text",name:"specialization",value:s.specialization,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"e.g., Mathematics, Physics"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Department"}),l.jsx("input",{type:"text",name:"department",value:s.department,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"e.g., Science, Arts"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Designation"}),l.jsx("input",{type:"text",name:"designation",value:s.designation,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"e.g., Senior Teacher, HOD"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Emergency Contact"}),l.jsx("input",{type:"tel",name:"emergencyContact",value:s.emergencyContact,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Emergency contact number"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Joining Date"}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("span",{className:"input-group-text bg-light border-end-0",children:l.jsx(c.Z,{size:18,className:"text-muted"})}),l.jsx("input",{type:"date",name:"joiningDate",value:s.joiningDate,onChange:handleInputChange,className:"form-control border-start-0"})]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Salary (Monthly)"}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("span",{className:"input-group-text bg-light border-end-0",children:"₹"}),l.jsx("input",{type:"number",name:"salary",value:s.salary,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"Enter salary amount"})]})]})]})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:l.jsx(g.Z,{size:24,className:"text-warning"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Subjects & Classes"})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Subjects ",l.jsx("span",{className:"text-danger",children:"*"}),R&&l.jsx("span",{className:"spinner-border spinner-border-sm ms-2",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})})]}),R?(0,l.jsxs)("div",{className:"border rounded p-4 text-center",children:[l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading subjects..."})}),l.jsx("p",{className:"mt-2 mb-0 text-muted",children:"Loading subjects..."})]}):0===Y.length?(0,l.jsxs)("div",{className:"alert alert-info",children:[l.jsx("i",{className:"fas fa-info-circle me-2"}),"No subjects available. Please create subjects first from the"," ",l.jsx(f(),{href:"/school-admin/subjects",className:"text-primary fw-bold",children:"Subjects"})," ","page."]}):(0,l.jsxs)("div",{className:"border rounded p-4",children:[l.jsx("div",{className:"row g-3",children:Y.map(e=>l.jsx("div",{className:"col-md-4 col-sm-6",children:(0,l.jsxs)("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`subject-${e}`,checked:s.subjects.includes(e),onChange:()=>handleSubjectChange(e)}),l.jsx("label",{className:"form-check-label",htmlFor:`subject-${e}`,children:e})]})},e))}),s.subjects.length>0&&l.jsx("div",{className:"mt-3 p-2 bg-success bg-opacity-10 rounded",children:(0,l.jsxs)("small",{className:"text-success",children:[l.jsx("i",{className:"fas fa-check-circle me-1"}),s.subjects.length," subject(s) selected"]})})]}),j.subjects&&l.jsx("div",{className:"text-danger small mt-2",children:j.subjects})]}),(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsxs)("label",{className:"form-label fw-semibold",children:["Assign to Classes (Optional - Multiple Selection)",z&&l.jsx("span",{className:"spinner-border spinner-border-sm ms-2",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})})]}),z?(0,l.jsxs)("div",{className:"border rounded p-4 text-center",children:[l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading classes..."})}),l.jsx("p",{className:"mt-2 mb-0 text-muted",children:"Loading classes..."})]}):0===T.length?(0,l.jsxs)("div",{className:"alert alert-info",children:[l.jsx("i",{className:"fas fa-info-circle me-2"}),"No classes available. Please create a class first from the"," ",l.jsx(f(),{href:"/school-admin/create-class",className:"text-primary fw-bold",children:"Create Class"})," ","page."]}):(0,l.jsxs)("div",{className:"border rounded p-4 bg-light",children:[l.jsx("div",{className:"row g-3",children:T.map(e=>l.jsx("div",{className:"col-md-4 col-sm-6",children:(0,l.jsxs)("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",id:`class-${e.id}`,checked:s.classIds.includes(e.id),onChange:()=>handleClassChange(e.id)}),(0,l.jsxs)("label",{className:"form-check-label",htmlFor:`class-${e.id}`,children:[l.jsx("strong",{children:e.name}),e.grade&&(0,l.jsxs)("span",{className:"text-muted ms-1",children:["(",e.grade,")"]})]})]})},e.id))}),s.classIds.length>0&&l.jsx("div",{className:"mt-3 p-2 bg-success bg-opacity-10 rounded",children:(0,l.jsxs)("small",{className:"text-success",children:[l.jsx("i",{className:"fas fa-check-circle me-1"}),s.classIds.length," class(es) selected"]})})]})]})]})]}),(0,l.jsxs)("div",{className:"mb-5",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[l.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded-circle",children:l.jsx(b.Z,{size:24,className:"text-info"})}),l.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Address Information"})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-12",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Address"}),(0,l.jsxs)("div",{className:"input-group input-group-lg",children:[l.jsx("span",{className:"input-group-text bg-light border-end-0",children:l.jsx(b.Z,{size:18,className:"text-muted"})}),l.jsx("input",{type:"text",name:"address",value:s.address,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"Enter full address"})]})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"City"}),l.jsx("input",{type:"text",name:"city",value:s.city,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter city"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"State"}),l.jsx("input",{type:"text",name:"state",value:s.state,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter state"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Country"}),l.jsx("input",{type:"text",name:"country",value:s.country,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter country"})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label fw-semibold",children:"Postal Code"}),l.jsx("input",{type:"text",name:"postalCode",value:s.postalCode,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter postal code"})]})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-3 justify-content-end pt-4 border-top",children:[(0,l.jsxs)(f(),{href:"/school-admin/dashboard",className:"btn btn-secondary btn-lg px-5",children:[l.jsx("i",{className:"fas fa-times me-2"}),"Cancel"]}),l.jsx("button",{type:"submit",disabled:I,className:"btn btn-success btn-lg px-5",children:I?(0,l.jsxs)(l.Fragment,{children:[l.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Adding Teacher..."]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx("i",{className:"fas fa-plus me-2"}),"Add Teacher"]})})]})]})]})})})})})]})}},91143:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>t,default:()=>o});var l=a(95153);let r=(0,l.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\school-admin\add-teacher\page.tsx`),{__esModule:t,$$typeof:n}=r,i=r.default,o=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[659,1336,9675,3528,4301,4154,5724,5125,4119,656,5525,7565,3462,1501],()=>__webpack_exec__(85633));module.exports=a})();