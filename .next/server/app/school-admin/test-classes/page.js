(()=>{var e={};e.id=6647,e.ids=[6647],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},40321:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>o,routeModule:()=>u,tree:()=>d});var r=t(67096),a=t(16132),n=t(37284),l=t.n(n),i=t(32564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["school-admin",{children:["test-classes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,22264)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\test-classes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,25803)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\test-classes\\page.tsx"],h="/school-admin/test-classes/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/school-admin/test-classes/page",pathname:"/school-admin/test-classes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49140:(e,s,t)=>{Promise.resolve().then(t.bind(t,14344))},14344:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>TestClassesPage});var r=t(30784),a=t(9885),n=t(85525);function TestClassesPage(){let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(!0),[i,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{testClassesAPI()},[]);let testClassesAPI=async()=>{try{l(!0),c(null);let e=(0,n.hV)();if(console.log("Token available:",!!e),!e)throw Error("No authentication token found");console.log("Testing classes API...");let t=await fetch(`${n.CT}/classes`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Response status:",t.status),console.log("Response ok:",t.ok),console.log("Response headers:",Object.fromEntries(t.headers.entries())),!t.ok){let e=await t.text();throw Error(`HTTP ${t.status}: ${e}`)}let r=await t.json();if(console.log("Response data:",r),o({status:t.status,ok:t.ok,dataType:typeof r,isArray:Array.isArray(r),dataLength:Array.isArray(r)?r.length:"N/A",data:r}),Array.isArray(r))s(r);else throw Error("Response is not an array")}catch(e){console.error("Error testing classes API:",e),c(e.message)}finally{l(!1)}};return r.jsx("div",{className:"container py-5",children:r.jsx("div",{className:"row justify-content-center",children:r.jsx("div",{className:"col-md-10",children:(0,r.jsxs)("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"mb-0",children:"Classes API Test Page"})}),(0,r.jsxs)("div",{className:"card-body",children:[t&&(0,r.jsxs)("div",{className:"text-center py-4",children:[r.jsx("div",{className:"spinner-border",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})}),r.jsx("p",{className:"mt-2",children:"Testing Classes API..."})]}),i&&(0,r.jsxs)("div",{className:"alert alert-danger",children:[r.jsx("h5",{children:"Error:"}),r.jsx("p",{children:i}),r.jsx("button",{className:"btn btn-primary",onClick:testClassesAPI,children:"Retry"})]}),d&&(0,r.jsxs)("div",{className:"alert alert-info",children:[r.jsx("h5",{children:"Debug Information:"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Status:"})," ",d.status]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"OK:"})," ",d.ok?"Yes":"No"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Data Type:"})," ",d.dataType]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Is Array:"})," ",d.isArray?"Yes":"No"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Data Length:"})," ",d.dataLength]})]})]}),e.length>0&&(0,r.jsxs)("div",{className:"alert alert-success",children:[(0,r.jsxs)("h5",{children:["Success! Found ",e.length," classes:"]}),r.jsx("div",{className:"table-responsive",children:(0,r.jsxs)("table",{className:"table table-striped",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{children:"ID"}),r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Grade"}),r.jsx("th",{children:"Section"}),r.jsx("th",{children:"Academic Year"}),r.jsx("th",{children:"Max Students"}),r.jsx("th",{children:"Current Students"}),r.jsx("th",{children:"Status"})]})}),r.jsx("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{children:e.id}),r.jsx("td",{children:e.name}),r.jsx("td",{children:e.grade}),r.jsx("td",{children:e.section}),r.jsx("td",{children:e.academicYear}),r.jsx("td",{children:e.maxStudents}),r.jsx("td",{children:e.currentStudents||0}),r.jsx("td",{children:r.jsx("span",{className:`badge ${"ACTIVE"===e.status?"bg-success":"bg-secondary"}`,children:e.status})})]},e.id))})]})})]}),!t&&!i&&0===e.length&&(0,r.jsxs)("div",{className:"alert alert-warning",children:[r.jsx("h5",{children:"No Classes Found"}),r.jsx("p",{children:"No classes were returned from the API. This could mean:"}),(0,r.jsxs)("ul",{children:[r.jsx("li",{children:"No classes have been created yet"}),r.jsx("li",{children:"All classes are inactive"}),r.jsx("li",{children:"There's a filtering issue"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("button",{className:"btn btn-primary",onClick:testClassesAPI,children:"Test Again"}),r.jsx("a",{href:"/school-admin/add-teacher",className:"btn btn-secondary ms-2",children:"Back to Add Teacher"})]})]})]})})})})}},22264:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>n,default:()=>c});var r=t(95153);let a=(0,r.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\school-admin\test-classes\page.tsx`),{__esModule:n,$$typeof:l}=a,i=a.default,c=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[659,1336,9675,3528,4301,4154,656,5525,7565],()=>__webpack_exec__(40321));module.exports=t})();