(()=>{var e={};e.id=1482,e.ids=[1482],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},27800:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(3528);let l=(0,t.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},52995:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(3528);let l=(0,t.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},14106:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=a(67096),l=a(16132),r=a(37284),n=a.n(r),i=a(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let c=["",{children:["school-admin",{children:["students",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,23081)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\students\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25803)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\students\\[id]\\edit\\page.tsx"],m="/school-admin/students/[id]/edit/page",h={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/school-admin/students/[id]/edit/page",pathname:"/school-admin/students/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},83668:(e,s,a)=>{Promise.resolve().then(a.bind(a,32455))},32455:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>StudentEditPage});var t=a(30784),l=a(9885),r=a(79803),n=a(93680),i=a(27800),o=a(43250),c=a(28626),d=a(20644),m=a(1264),h=a(56388),u=a(87094),p=a(91672),x=a(78937),f=a(52995),g=a(11440),b=a.n(g),N=a(57114),j=a(85525),v=a(73462),y=a(19300);function StudentEditPage(){let e=(0,N.useParams)(),s=(0,N.useRouter)(),a=e.id,[g,w]=(0,l.useState)(null),[C,P]=(0,l.useState)({firstName:"",lastName:"",email:"",mobile:"",dateOfBirth:"",gender:"other",address:"",city:"",state:"",country:"India",postalCode:"",enrollNumber:"",parentName:"",parentPhone:"",parentEmail:"",emergencyContact:"",previousSchool:"",classId:"",status:"active"}),[E,S]=(0,l.useState)(!0),[I,k]=(0,l.useState)(!1),[_,q]=(0,l.useState)(""),[Z,$]=(0,l.useState)(""),[T,A]=(0,l.useState)([]),[z,B]=(0,l.useState)(!0),[O,F]=(0,l.useState)(""),[G,R]=(0,l.useState)(!1),[M,L]=(0,l.useState)(!1),[V,U]=(0,l.useState)(null),[D,H]=(0,l.useState)(!1);(0,l.useEffect)(()=>{a&&(fetchStudent(),fetchClasses())},[a]);let fetchClasses=async()=>{try{B(!0);let e=(0,j.hV)();if(!e){console.error("No authentication token found");return}let s=await fetch(`${j.CT}/classes`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);let a=await s.json();if(Array.isArray(a)){let e=a.filter(e=>"ACTIVE"===e.status||"active"===e.status);A(e)}else A([])}catch(e){console.error("Error fetching classes:",e),A([])}finally{B(!1)}},fetchStudent=async()=>{try{S(!0),q("");let e=(0,j.hV)();if(!e)throw Error("Authentication required. Please login again.");let s=await (0,j.R1)(`/students/${a}`,{token:e});w(s),P({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",mobile:s.mobile||"",dateOfBirth:s.dateOfBirth?s.dateOfBirth.split("T")[0]:"",gender:s.gender||"other",address:s.address||"",city:s.city||"",state:s.state||"",country:s.country||"India",postalCode:s.postalCode||"",enrollNumber:s.enrollNumber||"",parentName:s.parentName||"",parentPhone:s.parentPhone||"",parentEmail:s.parentEmail||"",emergencyContact:s.emergencyContact||"",previousSchool:s.previousSchool||"",classId:s.currentClassId?s.currentClassId.toString():"",status:s.status||"active"}),console.log("Student fetched:",s)}catch(e){console.error("Error fetching student:",e),q(e?.message||"Failed to fetch student details")}finally{S(!1)}},handleInputChange=e=>{let{name:s,value:a}=e.target;P(e=>({...e,[s]:a})),_&&q(""),Z&&$("")},handleCopyPassword=async()=>{if(O)try{await navigator.clipboard.writeText(O),L(!0),setTimeout(()=>L(!1),2e3)}catch(e){console.error("Failed to copy password:",e)}},handleResetPassword=async()=>{if(!O){y.Z.fire({icon:"warning",title:"No Password",text:"Please generate or enter a password first"});return}let e=(0,v.uo)(O);if(!e.isValid){y.Z.fire({icon:"error",title:"Weak Password",html:`<div class="text-start">
          <p>Password requirements not met:</p>
          <ul>${e.errors.map(e=>`<li>${e}</li>`).join("")}</ul>
        </div>`});return}let s=await y.Z.fire({icon:"question",title:"Reset Password?",html:`
        <p>Are you sure you want to reset the password for <strong>${g?.firstName} ${g?.lastName}</strong>?</p>
        <div class="alert alert-warning mt-3">
          <i class="fas fa-exclamation-triangle me-2"></i>
          The student will need to use the new password to login.
        </div>
      `,showCancelButton:!0,confirmButtonText:"Yes, Reset Password",cancelButtonText:"Cancel",confirmButtonColor:"#dc3545"});if(s.isConfirmed){H(!0);try{let e=(0,j.hV)();if(!e)throw Error("Authentication required");let s=await fetch(`${j.CT}/students/${a}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:O})});if(!s.ok)throw Error("Failed to reset password");await y.Z.fire({icon:"success",title:"Password Reset Successful!",html:`
          <p>Password has been successfully reset for ${g?.firstName} ${g?.lastName}</p>
          <div class="alert alert-info mt-3">
            <strong>New Password:</strong> <code>${O}</code>
            <button class="btn btn-sm btn-outline-primary ms-2" onclick="navigator.clipboard.writeText('${O}')">
              <i class="fas fa-copy"></i> Copy
            </button>
          </div>
          <p class="text-muted small">Make sure to share this password with the student and parent securely.</p>
        `,confirmButtonText:"OK"}),F(""),U(null),R(!1)}catch(e){console.error("Error resetting password:",e),y.Z.fire({icon:"error",title:"Error",text:e?.message||"Failed to reset password. Please try again."})}finally{H(!1)}}},validateForm=()=>{let e={};return C.firstName.trim()||(e.firstName="First name is required"),C.lastName.trim()||(e.lastName="Last name is required"),C.email.trim()||(e.email="Email is required"),q(Object.values(e).join(", ")),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){k(!0),q(""),$("");try{let e=(0,j.hV)();if(!e)throw Error("Authentication required. Please login again.");let t=(0,j.vF)();if(!t){let e=localStorage.getItem("user");if(e)try{t=JSON.parse(e)}catch(e){console.error("Failed to parse user from localStorage:",e)}}if(!t||!t.schoolId)throw Error("School ID not found. Please login again.");let l={firstName:C.firstName,lastName:C.lastName,email:C.email,mobile:C.mobile||null,dateOfBirth:C.dateOfBirth||null,gender:C.gender,address:C.address||null,city:C.city||null,state:C.state||null,country:C.country,postalCode:C.postalCode||null,enrollNumber:C.enrollNumber||null,parentName:C.parentName||null,parentPhone:C.parentPhone||null,parentEmail:C.parentEmail||null,emergencyContact:C.emergencyContact||null,previousSchool:C.previousSchool||null,classId:C.classId||null,status:C.status};console.log("Updating student:",l);let r=await (0,j.pE)(`/students/${a}`,l,{token:e});console.log("Student updated successfully:",r),$("Student updated successfully!"),await y.Z.fire({icon:"success",title:"Success!",text:"Student information has been updated successfully.",timer:1500,showConfirmButton:!1}),s.push("/school-admin/students")}catch(s){console.error("Error updating student:",s);let e=s?.message||"Error updating student. Please try again.";e.includes("Enrollment number already exists")&&(e="This enrollment number already exists in the selected class. Please use a different enrollment number."),q(e),y.Z.fire({icon:"error",title:"Error",text:e})}finally{k(!1)}}};return E?t.jsx("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading..."})}),t.jsx("p",{className:"mt-3 text-muted",children:"Loading student details..."})]})}):_&&!g?t.jsx("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:t.jsx("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[t.jsx("h5",{className:"alert-heading",children:"Error Loading Student"}),t.jsx("p",{children:_}),t.jsx("hr",{}),(0,t.jsxs)("div",{className:"d-flex gap-2 justify-content-center",children:[t.jsx("button",{className:"btn btn-outline-danger",onClick:()=>window.location.reload(),children:"Try Again"}),t.jsx(b(),{href:"/school-admin/students",className:"btn btn-secondary",children:"Back to Students"})]})]})})}):(0,t.jsxs)("div",{className:"min-vh-100 bg-light",children:[t.jsx("div",{className:"bg-white shadow-sm border-bottom",children:t.jsx("div",{className:"container-fluid py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[t.jsx(b(),{href:"/school-admin/students",className:"btn btn-outline-secondary",children:t.jsx(r.Z,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"h3 mb-0 fw-bold text-dark",children:[t.jsx("i",{className:"fas fa-user-edit me-2 text-primary"}),"Edit Student"]}),t.jsx("p",{className:"text-muted mb-0",children:"Update student information and profile"})]})]}),t.jsx("div",{children:t.jsx(b(),{href:"/school-admin/students",className:"btn btn-outline-secondary me-2",children:"Cancel"})})]})})}),t.jsx("div",{className:"container-fluid py-4",children:t.jsx("div",{className:"row justify-content-center",children:t.jsx("div",{className:"col-lg-10 col-xl-8",children:t.jsx("div",{className:"card border-0 shadow",children:(0,t.jsxs)("div",{className:"card-body p-4 p-lg-5",children:[Z&&(0,t.jsxs)("div",{className:"alert alert-success d-flex align-items-center",role:"alert",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),t.jsx("div",{children:Z})]}),_&&(0,t.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[t.jsx("i",{className:"fas fa-exclamation-circle me-2"}),t.jsx("div",{children:_})]}),(0,t.jsxs)("form",{onSubmit:handleSubmit,children:[(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[t.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:t.jsx(n.Z,{size:24,className:"text-primary"})}),t.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Personal Information"})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["First Name ",t.jsx("span",{className:"text-danger",children:"*"})]}),t.jsx("input",{type:"text",name:"firstName",value:C.firstName,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter first name",required:!0})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Last Name ",t.jsx("span",{className:"text-danger",children:"*"})]}),t.jsx("input",{type:"text",name:"lastName",value:C.lastName,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter last name",required:!0})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Email Address ",t.jsx("span",{className:"text-danger",children:"*"})]}),t.jsx("input",{type:"email",name:"email",value:C.email,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter email address",required:!0})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Mobile Number"}),t.jsx("input",{type:"tel",name:"mobile",value:C.mobile,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter mobile number"})]}),(0,t.jsxs)("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Date of Birth"}),t.jsx("input",{type:"date",name:"dateOfBirth",value:C.dateOfBirth,onChange:handleInputChange,className:"form-control form-control-lg"})]}),(0,t.jsxs)("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Gender"}),(0,t.jsxs)("select",{name:"gender",value:C.gender,onChange:handleInputChange,className:"form-select form-select-lg",children:[t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"}),t.jsx("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Status"}),(0,t.jsxs)("select",{name:"status",value:C.status,onChange:handleInputChange,className:"form-select form-select-lg",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"graduated",children:"Graduated"}),t.jsx("option",{value:"transferred",children:"Transferred"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Enrollment Number"}),t.jsx("input",{type:"text",name:"enrollNumber",value:C.enrollNumber,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter enrollment number"}),(0,t.jsxs)("small",{className:"text-muted d-block mt-2",children:[t.jsx("i",{className:"fas fa-info-circle me-1"}),"Enrollment number must be unique within the selected class"]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Previous School"}),t.jsx("input",{type:"text",name:"previousSchool",value:C.previousSchool,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter previous school name"})]})]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[t.jsx("div",{className:"bg-danger bg-opacity-10 p-3 rounded-circle",children:t.jsx(i.Z,{size:24,className:"text-danger"})}),t.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Password Reset"})]}),t.jsx("div",{className:"card bg-light border-warning",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"alert alert-warning d-flex align-items-start mb-3",children:[t.jsx("i",{className:"fas fa-exclamation-triangle me-2 mt-1"}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Security Notice:"})," Reset the student's password if they forgot it or for security reasons. Make sure to share the new password securely with the student and parent."]})]}),(0,t.jsxs)("div",{className:"row g-3",children:[(0,t.jsxs)("div",{className:"col-12",children:[t.jsx("label",{className:"form-label fw-semibold",children:"New Password"}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[t.jsx("input",{type:G?"text":"password",value:O,onChange:e=>{let s=e.target.value;F(s);let a=(0,v.uo)(s);U(a)},className:"form-control",placeholder:"Enter new password or generate one"}),t.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>R(!G),title:G?"Hide password":"Show password",children:G?t.jsx(o.Z,{size:18}):t.jsx(c.Z,{size:18})}),(0,t.jsxs)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{let e=(0,v.G$)(12);F(e);let s=(0,v.uo)(e);U(s),R(!0)},title:"Generate secure password",children:[t.jsx(d.Z,{size:18})," Generate"]}),O&&t.jsx("button",{type:"button",className:"btn btn-outline-success",onClick:handleCopyPassword,title:"Copy password",children:M?t.jsx(m.Z,{size:18}):t.jsx(h.Z,{size:18})})]}),V&&O&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[t.jsx("small",{className:"text-muted",children:"Password Strength:"}),t.jsx("small",{className:`text-${(0,v.zU)(V.strength)} fw-bold`,children:(0,v.sO)(V.strength)})]}),t.jsx("div",{className:"progress",style:{height:"6px"},children:t.jsx("div",{className:`progress-bar bg-${(0,v.zU)(V.strength)}`,role:"progressbar",style:{width:`${V.score}%`}})})]}),(0,t.jsxs)("small",{className:"text-muted d-block mt-2",children:[t.jsx("i",{className:"fas fa-info-circle me-1"}),"Password must contain: uppercase, lowercase, number, and special character"]})]}),t.jsx("div",{className:"col-12",children:t.jsx("button",{type:"button",onClick:handleResetPassword,disabled:D||!O,className:"btn btn-danger btn-lg w-100",children:D?(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Resetting Password..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.Z,{size:18,className:"me-2"}),"Reset Password"]})})})]})]})})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[t.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded-circle",children:t.jsx(u.Z,{size:24,className:"text-info"})}),t.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Address Information"})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-12",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Address"}),t.jsx("textarea",{name:"address",value:C.address,onChange:handleInputChange,className:"form-control form-control-lg",rows:3,placeholder:"Enter complete address"})]}),(0,t.jsxs)("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"City"}),t.jsx("input",{type:"text",name:"city",value:C.city,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter city"})]}),(0,t.jsxs)("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"State"}),t.jsx("input",{type:"text",name:"state",value:C.state,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter state"})]}),(0,t.jsxs)("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Country"}),t.jsx("input",{type:"text",name:"country",value:C.country,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter country"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Postal Code"}),t.jsx("input",{type:"text",name:"postalCode",value:C.postalCode,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter postal code"})]})]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[t.jsx("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:t.jsx(p.Z,{size:24,className:"text-success"})}),t.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Parent/Guardian Information"})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Parent/Guardian Name"}),t.jsx("input",{type:"text",name:"parentName",value:C.parentName,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter parent/guardian name"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Parent Phone"}),t.jsx("input",{type:"tel",name:"parentPhone",value:C.parentPhone,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter parent phone number"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Parent Email"}),t.jsx("input",{type:"email",name:"parentEmail",value:C.parentEmail,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter parent email address"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[t.jsx("label",{className:"form-label fw-semibold",children:"Emergency Contact"}),t.jsx("input",{type:"tel",name:"emergencyContact",value:C.emergencyContact,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter emergency contact number"})]})]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[t.jsx("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:t.jsx(x.Z,{size:24,className:"text-warning"})}),t.jsx("h3",{className:"mb-0 fw-bold text-dark",children:"Class Assignment"})]}),t.jsx("div",{className:"row g-4",children:(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Assign to Class",z&&t.jsx("span",{className:"spinner-border spinner-border-sm ms-2",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading..."})})]}),(0,t.jsxs)("select",{name:"classId",value:C.classId,onChange:handleInputChange,className:"form-select form-select-lg",disabled:z,children:[t.jsx("option",{value:"",children:z?"Loading classes...":0===T.length?"No classes available":"Select a class (optional)"}),!z&&T.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]}),!z&&0===T.length&&(0,t.jsxs)("small",{className:"text-muted mt-2 d-block",children:[t.jsx("i",{className:"fas fa-info-circle me-1"}),"No classes available. Please create classes first from the"," ",t.jsx(b(),{href:"/school-admin/create-class",className:"text-primary",children:"Create Class"})," ","page."]})]})})]}),(0,t.jsxs)("div",{className:"d-flex gap-3 justify-content-end pt-4 border-top",children:[(0,t.jsxs)(b(),{href:"/school-admin/students",className:"btn btn-secondary btn-lg px-5",children:[t.jsx("i",{className:"fas fa-times me-2"}),"Cancel"]}),t.jsx("button",{type:"submit",disabled:I,className:"btn btn-primary btn-lg px-5",children:I?(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(f.Z,{size:18,className:"me-2"}),"Update Student"]})})]})]})]})})})})})]})}},23081:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});var t=a(95153);let l=(0,t.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\school-admin\students\[id]\edit\page.tsx`),{__esModule:r,$$typeof:n}=l,i=l.default,o=i}};var s=require("../../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[659,1336,9675,3528,4301,4154,9300,5724,5125,656,5525,7565,3462],()=>__webpack_exec__(14106));module.exports=a})();