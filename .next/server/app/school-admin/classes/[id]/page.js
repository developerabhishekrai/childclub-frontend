(()=>{var e={};e.id=2511,e.ids=[2511],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},38584:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>t.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>h,tree:()=>n});var l=a(67096),c=a(16132),d=a(37284),t=a.n(d),r=a(32564),i={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>r[e]);a.d(s,i);let n=["",{children:["school-admin",{children:["classes",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,91599)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\classes\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25803)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\school-admin\\classes\\[id]\\page.tsx"],o="/school-admin/classes/[id]/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:c.x.APP_PAGE,page:"/school-admin/classes/[id]/page",pathname:"/school-admin/classes/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},91468:(e,s,a)=>{Promise.resolve().then(a.bind(a,83829))},83829:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>ClassDetailsPage});var l=a(30784),c=a(9885),d=a(57114),t=a(11440),r=a.n(t),i=a(79803),n=a(85574),m=a(59494),o=a(26303),x=a(91672),h=a(78937),u=a(517),j=a(15441),b=a(85525);function ClassDetailsPage(){let e=(0,d.useParams)(),s=(0,d.useRouter)(),a=e.id,[t,N]=(0,c.useState)(null),[p,v]=(0,c.useState)(!0),[g,y]=(0,c.useState)("");(0,c.useEffect)(()=>{let fetchClassDetails=async()=>{try{v(!0);let e=(0,b.hV)();if(!e)throw Error("Authentication required");let s=await (0,b.R1)(`/classes/${a}`,{token:e});N(s)}catch(e){console.error("Error fetching class details:",e),y(e?.message||"Failed to fetch class details")}finally{v(!1)}};a&&fetchClassDetails()},[a]);let handleDelete=async()=>{if(confirm("Are you sure you want to delete this class?"))try{let e=(0,b.hV)();await (0,b.QW)(`/classes/${a}`,{token:e}),alert("Class deleted successfully!"),s.push("/school-admin/classes")}catch(e){console.error("Error deleting class:",e),alert(e?.message||"Failed to delete class")}};return p?l.jsx("div",{className:"container-fluid",children:(0,l.jsxs)("div",{className:"text-center py-5",children:[l.jsx("div",{className:"spinner-border text-primary",role:"status",children:l.jsx("span",{className:"visually-hidden",children:"Loading..."})}),l.jsx("p",{className:"mt-3 text-muted",children:"Loading class details..."})]})}):g||!t?l.jsx("div",{className:"container-fluid",children:(0,l.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[l.jsx("h5",{className:"alert-heading",children:"Error"}),l.jsx("p",{children:g||"Class not found"}),l.jsx("hr",{}),l.jsx(r(),{href:"/school-admin/classes",className:"btn btn-outline-danger",children:"Back to Classes"})]})}):(0,l.jsxs)("div",{className:"container-fluid",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[l.jsx(r(),{href:"/school-admin/classes",className:"btn btn-outline-secondary me-3",children:l.jsx(i.Z,{size:20})}),(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"h3 mb-0",children:t.name}),(0,l.jsxs)("p",{className:"text-muted mb-0",children:["Grade ",t.grade," - Section ",t.section]})]})]}),(0,l.jsxs)("div",{className:"d-flex gap-2",children:[(0,l.jsxs)("button",{className:"btn btn-outline-primary",children:[l.jsx(n.Z,{size:16,className:"me-2"}),"Export"]}),(0,l.jsxs)(r(),{href:`/school-admin/classes/${a}/edit`,className:"btn btn-warning",children:[l.jsx(m.Z,{size:16,className:"me-2"}),"Edit"]}),(0,l.jsxs)("button",{className:"btn btn-danger",onClick:handleDelete,children:[l.jsx(o.Z,{size:16,className:"me-2"}),"Delete"]})]})]}),(0,l.jsxs)("div",{className:"row g-4 mb-4",children:[l.jsx("div",{className:"col-md-3",children:l.jsx("div",{className:"card border-0 shadow-sm",children:(0,l.jsxs)("div",{className:"card-body text-center",children:[l.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:l.jsx(x.Z,{size:24,className:"text-primary"})}),l.jsx("h4",{className:"mb-1",children:t.currentStudents}),l.jsx("p",{className:"text-muted mb-0",children:"Current Students"})]})})}),l.jsx("div",{className:"col-md-3",children:l.jsx("div",{className:"card border-0 shadow-sm",children:(0,l.jsxs)("div",{className:"card-body text-center",children:[l.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:l.jsx(h.Z,{size:24,className:"text-success"})}),l.jsx("h4",{className:"mb-1",children:t.maxStudents}),l.jsx("p",{className:"text-muted mb-0",children:"Max Capacity"})]})})}),l.jsx("div",{className:"col-md-3",children:l.jsx("div",{className:"card border-0 shadow-sm",children:(0,l.jsxs)("div",{className:"card-body text-center",children:[l.jsx("div",{className:"bg-info bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:l.jsx(u.Z,{size:24,className:"text-info"})}),l.jsx("h4",{className:"mb-1",children:t.academicYear||"N/A"}),l.jsx("p",{className:"text-muted mb-0",children:"Academic Year"})]})})}),l.jsx("div",{className:"col-md-3",children:l.jsx("div",{className:"card border-0 shadow-sm",children:(0,l.jsxs)("div",{className:"card-body text-center",children:[l.jsx("div",{className:"bg-warning bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:l.jsx(j.Z,{size:24,className:"text-warning"})}),l.jsx("h4",{className:"mb-1",children:l.jsx("span",{className:`badge ${"ACTIVE"===t.status?"bg-success":"bg-secondary"}`,children:t.status})}),l.jsx("p",{className:"text-muted mb-0",children:"Status"})]})})})]}),(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsxs)("div",{className:"col-lg-8",children:[(0,l.jsxs)("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Basic Information"})}),l.jsx("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row g-3",children:[(0,l.jsxs)("div",{className:"col-md-6",children:[l.jsx("label",{className:"text-muted small",children:"Class Name"}),l.jsx("p",{className:"fw-semibold mb-0",children:t.name})]}),(0,l.jsxs)("div",{className:"col-md-3",children:[l.jsx("label",{className:"text-muted small",children:"Grade"}),l.jsx("p",{className:"fw-semibold mb-0",children:t.grade})]}),(0,l.jsxs)("div",{className:"col-md-3",children:[l.jsx("label",{className:"text-muted small",children:"Section"}),l.jsx("p",{className:"fw-semibold mb-0",children:t.section})]}),(0,l.jsxs)("div",{className:"col-12",children:[l.jsx("label",{className:"text-muted small",children:"Description"}),l.jsx("p",{className:"mb-0",children:t.description||"No description provided"})]})]})})]}),(0,l.jsxs)("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Subjects"})}),l.jsx("div",{className:"card-body",children:t.subjects?l.jsx("p",{className:"mb-0",children:Array.isArray(t.subjects)?t.subjects.join(", "):"object"==typeof t.subjects?Object.values(t.subjects).join(", "):t.subjects}):l.jsx("p",{className:"text-muted mb-0",children:"No subjects assigned"})})]}),(0,l.jsxs)("div",{className:"card",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Syllabus & Rules"})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"mb-3",children:[l.jsx("label",{className:"text-muted small",children:"Syllabus"}),l.jsx("p",{className:"mb-0",children:t.syllabus||"No syllabus information"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-muted small",children:"Rules"}),l.jsx("p",{className:"mb-0",children:t.rules||"No rules specified"})]})]})]})]}),(0,l.jsxs)("div",{className:"col-lg-4",children:[(0,l.jsxs)("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Class Teacher"})}),l.jsx("div",{className:"card-body",children:t.classTeacher?(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:l.jsx(x.Z,{size:24,className:"text-primary"})}),(0,l.jsxs)("h6",{className:"mb-0",children:[t.classTeacher.firstName," ",t.classTeacher.lastName]}),l.jsx("small",{className:"text-muted",children:"Class Teacher"})]}):l.jsx("p",{className:"text-muted text-center mb-0",children:"No teacher assigned"})})]}),(0,l.jsxs)("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Schedule"})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[l.jsx(u.Z,{size:16,className:"text-muted me-2"}),l.jsx("small",{className:"text-muted",children:"Start Date"})]}),l.jsx("p",{className:"mb-0",children:t.startDate?new Date(t.startDate).toLocaleDateString():"Not set"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[l.jsx(u.Z,{size:16,className:"text-muted me-2"}),l.jsx("small",{className:"text-muted",children:"End Date"})]}),l.jsx("p",{className:"mb-0",children:t.endDate?new Date(t.endDate).toLocaleDateString():"Not set"})]})]})]}),(0,l.jsxs)("div",{className:"card",children:[l.jsx("div",{className:"card-header",children:l.jsx("h5",{className:"mb-0",children:"Capacity"})}),(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[l.jsx("span",{children:"Current Students"}),l.jsx("span",{className:"fw-bold",children:t.currentStudents})]}),l.jsx("div",{className:"progress mb-2",style:{height:"10px"},children:l.jsx("div",{className:"progress-bar",style:{width:`${t.currentStudents/t.maxStudents*100}%`}})}),(0,l.jsxs)("small",{className:"text-muted",children:[(t.currentStudents/t.maxStudents*100).toFixed(0),"% filled"]})]})]})]})]})]})}},91599:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>t,__esModule:()=>d,default:()=>i});var l=a(95153);let c=(0,l.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\school-admin\classes\[id]\page.tsx`),{__esModule:d,$$typeof:t}=c,r=c.default,i=r}};var s=require("../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[659,1336,9675,3528,4301,4154,7720,656,5525,7565],()=>__webpack_exec__(38584));module.exports=a})();