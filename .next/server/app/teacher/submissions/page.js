(()=>{var e={};e.id=9186,e.ids=[9186],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},41459:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var a=t(67096),l=t(16132),i=t(37284),r=t.n(i),n=t(32564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["teacher",{children:["submissions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,96911)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\teacher\\submissions\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3539)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\teacher\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\teacher\\submissions\\page.tsx"],m="/teacher/submissions/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/teacher/submissions/page",pathname:"/teacher/submissions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},18131:(e,s,t)=>{Promise.resolve().then(t.bind(t,48975))},48975:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>TeacherSubmissionsPage});var a=t(30784),l=t(9885),i=t(11440),r=t.n(i),n=t(57114),d=t(85525),c=t(15441),o=t(39546),m=t(28626),x=t(92032),h=t(81057),u=t(80443),b=t(95595),j=t(79803),g=t(69518),p=t(12029),N=t(93680),v=t(78937),f=t(517),w=t(48973),y=t(18310),S=t(85574),k=t(28089),C=t(19300);function TeacherSubmissionsPage(){let e=(0,n.useRouter)(),[s,t]=(0,l.useState)([]),[i,Z]=(0,l.useState)([]),[z,P]=(0,l.useState)(!0),[A,_]=(0,l.useState)(null),[F,R]=(0,l.useState)(!1),[T,L]=(0,l.useState)(!1),[$,q]=(0,l.useState)(""),[E,G]=(0,l.useState)(""),[D,B]=(0,l.useState)(""),[I,M]=(0,l.useState)("reviewed"),[O,V]=(0,l.useState)(""),[Y,H]=(0,l.useState)("all"),[J,K]=(0,l.useState)("date");(0,l.useEffect)(()=>{fetchSubmissions()},[]),(0,l.useEffect)(()=>{filterAndSortSubmissions()},[s,O,Y,J]);let fetchSubmissions=async()=>{try{P(!0);let s=localStorage.getItem("token");if(!s){C.Z.fire({icon:"error",title:"Authentication Error",text:"Please login again"}),e.push("/teacher/login");return}console.log("[Frontend] Fetching teacher submissions...");let a=await fetch(`${d.CT}/submissions/teacher/my-submissions`,{headers:{Authorization:`Bearer ${s}`}});if(!a.ok)throw Error("Failed to fetch submissions");let l=await a.json();console.log("[Frontend] Fetched",l.length,"submissions"),t(l)}catch(e){console.error("Error fetching submissions:",e),C.Z.fire({icon:"error",title:"Error",text:e.message||"Failed to fetch submissions"})}finally{P(!1)}},filterAndSortSubmissions=()=>{let e=[...s];if(O.trim()){let s=O.toLowerCase();e=e.filter(e=>e.student?.firstName.toLowerCase().includes(s)||e.student?.lastName.toLowerCase().includes(s)||e.task?.title.toLowerCase().includes(s)||e.content?.toLowerCase().includes(s))}"all"!==Y&&(e=e.filter(e=>e.status===Y)),e.sort((e,s)=>{if("date"===J)return new Date(s.submittedAt).getTime()-new Date(e.submittedAt).getTime();if("student"===J){let t=`${e.student?.firstName} ${e.student?.lastName}`.toLowerCase(),a=`${s.student?.firstName} ${s.student?.lastName}`.toLowerCase();return t.localeCompare(a)}return"grade"===J?(s.grade||0)-(e.grade||0):0}),Z(e)},handleViewDetails=e=>{_(e),R(!0)},handleStartReview=e=>{_(e),q(e.grade?.toString()||""),G(e.feedback||""),B(e.teacherNotes||""),M("submitted"===e.status?"reviewed":e.status),L(!0)},handleSubmitReview=async()=>{if(A){if(!$||0>parseFloat($)){C.Z.fire({icon:"warning",title:"Invalid Grade",text:"Please enter a valid grade (0 or higher)"});return}if(parseFloat($)>(A.task?.maxScore||100)){C.Z.fire({icon:"warning",title:"Grade Too High",text:`Grade cannot exceed ${A.task?.maxScore}`});return}if(!E.trim()){let e=await C.Z.fire({icon:"question",title:"No Feedback",text:"Are you sure you want to submit without feedback?",showCancelButton:!0,confirmButtonText:"Yes, Submit",cancelButtonText:"Cancel"});if(!e.isConfirmed)return}try{let e=localStorage.getItem("token"),s=await fetch(`${d.CT}/submissions/${A.id}/review`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({grade:parseFloat($),feedback:E.trim(),teacherNotes:D.trim(),status:I})});if(s.ok)await C.Z.fire({icon:"success",title:"Review Submitted!",text:"Your review has been saved successfully",confirmButtonColor:"#10b981"}),L(!1),R(!1),fetchSubmissions();else throw Error("Failed to submit review")}catch(e){console.error("Error submitting review:",e),C.Z.fire({icon:"error",title:"Error",text:"Failed to submit review. Please try again."})}}},getStatusBadge=e=>{let s={draft:{class:"warning",icon:c.Z,label:"Draft"},submitted:{class:"info",icon:o.Z,label:"Submitted"},reviewed:{class:"primary",icon:m.Z,label:"Reviewed"},approved:{class:"success",icon:x.Z,label:"Approved"},rejected:{class:"danger",icon:h.Z,label:"Rejected"},resubmit:{class:"warning",icon:c.Z,label:"Resubmit Required"}},t=s[e]||s.submitted,l=t.icon;return(0,a.jsxs)("span",{className:`badge bg-${t.class} d-flex align-items-center gap-1`,style:{width:"fit-content"},children:[a.jsx(l,{size:14}),t.label]})},getFileIcon=e=>e.includes("image")?a.jsx(u.Z,{size:16,className:"text-primary"}):e.includes("pdf")?a.jsx(b.Z,{size:16,className:"text-danger"}):a.jsx(b.Z,{size:16,className:"text-secondary"}),formatFileSize=e=>e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB",U={total:s.length,submitted:s.filter(e=>"submitted"===e.status).length,reviewed:s.filter(e=>"reviewed"===e.status).length,approved:s.filter(e=>"approved"===e.status).length,pending:s.filter(e=>"submitted"===e.status).length};return z?a.jsx("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"spinner-border text-warning",style:{width:"3rem",height:"3rem"},role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})}),a.jsx("p",{className:"mt-3 text-muted fw-semibold",children:"Loading submissions..."})]})}):(0,a.jsxs)("div",{className:"min-vh-100 bg-light",children:[a.jsx("div",{className:"bg-white shadow-sm border-bottom",children:a.jsx("div",{className:"container-fluid py-3",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[a.jsx(r(),{href:"/teacher/dashboard",className:"btn btn-outline-secondary",children:a.jsx(j.Z,{size:20})}),(0,a.jsxs)("div",{className:"flex-grow-1",children:[(0,a.jsxs)("h1",{className:"h3 mb-0 fw-bold text-dark d-flex align-items-center gap-2",children:[a.jsx(o.Z,{className:"text-warning",size:28}),"Student Submissions"]}),a.jsx("p",{className:"text-muted mb-0",children:"Review aur grade karein apne students ke kaam ko"})]})]})})}),(0,a.jsxs)("div",{className:"container-fluid py-4",children:[(0,a.jsxs)("div",{className:"row g-3 mb-4",children:[a.jsx("div",{className:"col-md-3 col-sm-6",children:a.jsx("div",{className:"card border-0 shadow-sm h-100",children:a.jsx("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:a.jsx(o.Z,{className:"text-primary",size:24})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted mb-0 small",children:"Total Submissions"}),a.jsx("h3",{className:"mb-0 fw-bold",children:U.total})]})]})})})}),a.jsx("div",{className:"col-md-3 col-sm-6",children:a.jsx("div",{className:"card border-0 shadow-sm h-100",children:a.jsx("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:a.jsx(c.Z,{className:"text-warning",size:24})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted mb-0 small",children:"Pending Review"}),a.jsx("h3",{className:"mb-0 fw-bold",children:U.pending})]})]})})})}),a.jsx("div",{className:"col-md-3 col-sm-6",children:a.jsx("div",{className:"card border-0 shadow-sm h-100",children:a.jsx("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("div",{className:"bg-info bg-opacity-10 p-3 rounded-circle",children:a.jsx(m.Z,{className:"text-info",size:24})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted mb-0 small",children:"Reviewed"}),a.jsx("h3",{className:"mb-0 fw-bold",children:U.reviewed})]})]})})})}),a.jsx("div",{className:"col-md-3 col-sm-6",children:a.jsx("div",{className:"card border-0 shadow-sm h-100",children:a.jsx("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:a.jsx(x.Z,{className:"text-success",size:24})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-muted mb-0 small",children:"Approved"}),a.jsx("h3",{className:"mb-0 fw-bold",children:U.approved})]})]})})})})]}),a.jsx("div",{className:"card border-0 shadow-sm mb-4",children:a.jsx("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"row g-3",children:[a.jsx("div",{className:"col-md-5",children:(0,a.jsxs)("div",{className:"input-group",children:[a.jsx("span",{className:"input-group-text bg-light border-end-0",children:a.jsx(g.Z,{size:18,className:"text-muted"})}),a.jsx("input",{type:"text",className:"form-control border-start-0",placeholder:"Search by student name, assignment title...",value:O,onChange:e=>V(e.target.value)})]})}),a.jsx("div",{className:"col-md-3",children:(0,a.jsxs)("select",{className:"form-select",value:Y,onChange:e=>H(e.target.value),children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"submitted",children:"Submitted"}),a.jsx("option",{value:"reviewed",children:"Reviewed"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"resubmit",children:"Resubmit Required"})]})}),a.jsx("div",{className:"col-md-3",children:(0,a.jsxs)("select",{className:"form-select",value:J,onChange:e=>K(e.target.value),children:[a.jsx("option",{value:"date",children:"Sort by Date"}),a.jsx("option",{value:"student",children:"Sort by Student"}),a.jsx("option",{value:"grade",children:"Sort by Grade"})]})}),a.jsx("div",{className:"col-md-1",children:a.jsx("button",{className:"btn btn-outline-secondary w-100",onClick:()=>{V(""),H("all"),K("date")},title:"Clear Filters",children:a.jsx(p.Z,{size:18})})})]})})}),(0,a.jsxs)("div",{className:"card border-0 shadow-sm",children:[a.jsx("div",{className:"card-header bg-white border-bottom",children:(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx("h5",{className:"mb-0 fw-bold",children:"Submissions List"}),(0,a.jsxs)("span",{className:"badge bg-primary rounded-pill",children:[i.length," submissions"]})]})}),a.jsx("div",{className:"card-body p-0",children:0===i.length?(0,a.jsxs)("div",{className:"text-center py-5",children:[a.jsx(o.Z,{size:64,className:"text-muted mb-3"}),a.jsx("h5",{className:"text-muted",children:"No submissions found"}),a.jsx("p",{className:"text-muted",children:O||"all"!==Y?"Try changing your filters":"Student submissions will appear here"})]}):a.jsx("div",{className:"table-responsive",children:(0,a.jsxs)("table",{className:"table table-hover mb-0",children:[a.jsx("thead",{className:"table-light",children:(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{style:{width:"20%"},children:[a.jsx(N.Z,{size:16,className:"me-2"}),"Student"]}),(0,a.jsxs)("th",{style:{width:"25%"},children:[a.jsx(v.Z,{size:16,className:"me-2"}),"Assignment"]}),(0,a.jsxs)("th",{style:{width:"15%"},children:[a.jsx(f.Z,{size:16,className:"me-2"}),"Submitted"]}),a.jsx("th",{style:{width:"10%"},children:"Status"}),(0,a.jsxs)("th",{style:{width:"10%"},children:[a.jsx(w.Z,{size:16,className:"me-2"}),"Grade"]}),a.jsx("th",{style:{width:"10%"},children:"Files"}),a.jsx("th",{style:{width:"10%"},children:"Actions"})]})}),a.jsx("tbody",{children:i.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"fw-semibold text-dark",children:[e.student?.firstName," ",e.student?.lastName]}),a.jsx("small",{className:"text-muted",children:e.student?.email})]})}),a.jsx("td",{children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"fw-semibold text-dark",children:e.task?.title}),(0,a.jsxs)("small",{className:"text-muted",children:["Max Score: ",e.task?.maxScore," pts",1===e.isLate&&a.jsx("span",{className:"badge bg-danger ms-2",style:{fontSize:"0.7rem"},children:"Late"})]})]})}),a.jsx("td",{children:(0,a.jsxs)("small",{children:[new Date(e.submittedAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),a.jsx("br",{}),a.jsx("span",{className:"text-muted",children:new Date(e.submittedAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]})}),a.jsx("td",{children:getStatusBadge(e.status)}),a.jsx("td",{children:null!==e.grade&&void 0!==e.grade?(0,a.jsxs)("div",{children:[a.jsx("span",{className:"fw-bold text-success fs-5",children:e.grade}),(0,a.jsxs)("span",{className:"text-muted",children:["/",e.task?.maxScore]})]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:e.attachments&&e.attachments.length>0?(0,a.jsxs)("span",{className:"badge bg-secondary",children:[a.jsx(b.Z,{size:12,className:"me-1"}),e.attachments.length]}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:(0,a.jsxs)("div",{className:"d-flex gap-1",children:[a.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>handleViewDetails(e),title:"View Details",children:a.jsx(m.Z,{size:14})}),a.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>handleStartReview(e),title:"Review & Grade",children:a.jsx(y.Z,{size:14})})]})})]},e.id))})]})})})]})]}),F&&A&&a.jsx("div",{className:"modal show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>R(!1),children:a.jsx("div",{className:"modal-dialog modal-lg modal-dialog-scrollable modal-dialog-centered",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"modal-content border-0 shadow-lg",children:[(0,a.jsxs)("div",{className:"modal-header bg-gradient",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[(0,a.jsxs)("h5",{className:"modal-title text-white fw-bold d-flex align-items-center gap-2",children:[a.jsx(o.Z,{size:24}),"Submission Details"]}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>R(!1)})]}),(0,a.jsxs)("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[a.jsx("div",{className:"card border-0 bg-light mb-3",children:a.jsx("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx(N.Z,{size:18,className:"text-primary"}),a.jsx("strong",{children:"Student"})]}),(0,a.jsxs)("p",{className:"mb-0",children:[A.student?.firstName," ",A.student?.lastName]}),a.jsx("small",{className:"text-muted",children:A.student?.email})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx(v.Z,{size:18,className:"text-primary"}),a.jsx("strong",{children:"Assignment"})]}),a.jsx("p",{className:"mb-0",children:A.task?.title}),(0,a.jsxs)("small",{className:"text-muted",children:["Max Score: ",A.task?.maxScore," pts"]})]})]})})}),(0,a.jsxs)("div",{className:"row g-3 mb-3",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[(0,a.jsxs)("strong",{className:"d-flex align-items-center gap-2",children:[a.jsx(f.Z,{size:16,className:"text-primary"}),"Submitted At:"]}),a.jsx("p",{className:"mb-0",children:new Date(A.submittedAt).toLocaleString("en-IN")})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[a.jsx("strong",{children:"Status:"}),a.jsx("div",{className:"mt-1",children:getStatusBadge(A.status)})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[a.jsx("strong",{children:"Attempts:"}),a.jsx("p",{className:"mb-0",children:A.attempts})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[a.jsx("strong",{children:"Late Submission:"}),a.jsx("p",{className:"mb-0",children:1===A.isLate?a.jsx("span",{className:"badge bg-danger",children:"Yes"}):a.jsx("span",{className:"badge bg-success",children:"No"})})]})]}),a.jsx("hr",{}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("strong",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx(y.Z,{size:16,className:"text-primary"}),"Submission Content:"]}),a.jsx("div",{className:"p-3 bg-light rounded border",children:A.content?a.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:A.content}):a.jsx("em",{className:"text-muted",children:"No content provided"})})]}),A.attachments&&A.attachments.length>0&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("strong",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx(b.Z,{size:16,className:"text-primary"}),"Attached Files (",A.attachments.length,"):"]}),a.jsx("div",{className:"list-group",children:A.attachments.map((e,s)=>(0,a.jsxs)("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[getFileIcon(e.mimetype),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"fw-semibold",children:e.originalName}),a.jsx("small",{className:"text-muted",children:formatFileSize(e.size)})]})]}),(0,a.jsxs)("div",{className:"d-flex gap-2",children:[(0,a.jsxs)("a",{href:`${d.CT}${e.url}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:[a.jsx(m.Z,{size:14,className:"me-1"})," View"]}),(0,a.jsxs)("a",{href:`${d.CT}${e.url}`,download:e.originalName,className:"btn btn-sm btn-outline-success",children:[a.jsx(S.Z,{size:14,className:"me-1"})," Download"]})]})]},s))})]}),null!==A.grade&&void 0!==A.grade&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("hr",{}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("strong",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx(w.Z,{size:16,className:"text-success"}),"Grade:"]}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("span",{className:"fs-3 fw-bold text-success",children:A.grade}),(0,a.jsxs)("span",{className:"text-muted",children:["/ ",A.task?.maxScore]}),(0,a.jsxs)("span",{className:"badge bg-success",children:[(A.grade/(A.task?.maxScore||100)*100).toFixed(1),"%"]})]})]})]}),A.feedback&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("strong",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx(y.Z,{size:16,className:"text-info"}),"Teacher Feedback:"]}),a.jsx("div",{className:"p-3 bg-info bg-opacity-10 rounded border border-info",children:a.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:A.feedback})})]}),A.teacherNotes&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("strong",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx(o.Z,{size:16,className:"text-warning"}),"Private Notes:"]}),a.jsx("div",{className:"p-3 bg-warning bg-opacity-10 rounded border border-warning",children:a.jsx("p",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:A.teacherNotes})})]})]}),(0,a.jsxs)("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>R(!1),children:"Close"}),(0,a.jsxs)("button",{type:"button",className:"btn btn-success",onClick:()=>{R(!1),handleStartReview(A)},children:[a.jsx(y.Z,{size:16,className:"me-2"}),"Review & Grade"]})]})]})})}),T&&A&&a.jsx("div",{className:"modal show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>L(!1),children:a.jsx("div",{className:"modal-dialog modal-lg modal-dialog-centered",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"modal-content border-0 shadow-lg",children:[(0,a.jsxs)("div",{className:"modal-header bg-gradient",style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"},children:[(0,a.jsxs)("h5",{className:"modal-title text-white fw-bold d-flex align-items-center gap-2",children:[a.jsx(x.Z,{size:24}),"Review & Grade Submission"]}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>L(!1)})]}),(0,a.jsxs)("div",{className:"modal-body",children:[a.jsx("div",{className:"card border-0 bg-light mb-3",children:a.jsx("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-md-6",children:[a.jsx("small",{className:"text-muted",children:"Student"}),(0,a.jsxs)("p",{className:"mb-0 fw-semibold",children:[A.student?.firstName," ",A.student?.lastName]})]}),(0,a.jsxs)("div",{className:"col-md-6",children:[a.jsx("small",{className:"text-muted",children:"Assignment"}),a.jsx("p",{className:"mb-0 fw-semibold",children:A.task?.title})]})]})})}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center gap-2",children:[a.jsx(w.Z,{size:18,className:"text-warning"}),"Grade (out of ",A.task?.maxScore,") ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"number",className:"form-control form-control-lg",min:"0",max:A.task?.maxScore,step:"0.5",value:$,onChange:e=>q(e.target.value),placeholder:"Enter grade"}),$&&(0,a.jsxs)("small",{className:"text-muted mt-1",children:["Percentage: ",(parseFloat($)/(A.task?.maxScore||100)*100).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[a.jsx("label",{className:"form-label fw-semibold",children:"Status"}),(0,a.jsxs)("select",{className:"form-select",value:I,onChange:e=>M(e.target.value),children:[a.jsx("option",{value:"reviewed",children:"Reviewed"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"resubmit",children:"Resubmit Required"})]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center gap-2",children:[a.jsx(y.Z,{size:18,className:"text-info"}),"Feedback for Student"]}),a.jsx("textarea",{className:"form-control",rows:5,value:E,onChange:e=>G(e.target.value),placeholder:"Provide detailed feedback to help the student improve..."}),a.jsx("small",{className:"text-muted",children:"This will be visible to the student"})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center gap-2",children:[a.jsx(o.Z,{size:18,className:"text-warning"}),"Private Notes (Optional)"]}),a.jsx("textarea",{className:"form-control",rows:3,value:D,onChange:e=>B(e.target.value),placeholder:"Add private notes for your reference (not visible to student)..."}),a.jsx("small",{className:"text-muted",children:"Only visible to teachers"})]})]}),(0,a.jsxs)("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>L(!1),children:"Cancel"}),(0,a.jsxs)("button",{type:"button",className:"btn btn-success btn-lg",onClick:handleSubmitReview,children:[a.jsx(k.Z,{size:18,className:"me-2"}),"Submit Review"]})]})]})})})]})}},96911:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>i,default:()=>d});var a=t(95153);let l=(0,a.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\teacher\submissions\page.tsx`),{__esModule:i,$$typeof:r}=l,n=l.default,d=n}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[659,1336,9675,3528,9300,1812,5621,710,4172,656,5525,4133],()=>__webpack_exec__(41459));module.exports=t})();