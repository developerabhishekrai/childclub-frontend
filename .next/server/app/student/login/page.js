(()=>{var e={};e.id=3237,e.ids=[3237],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},25472:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(67096),a=s(16132),n=s(37284),o=s.n(n),l=s(32564),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let d=["",{children:["student",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,46248)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\student\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,10703)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\student\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,79113)),"C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\xampp\\htdocs\\childclub\\childclub-frontend\\src\\app\\student\\login\\page.tsx"],u="/student/login/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/student/login/page",pathname:"/student/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},81224:(e,t,s)=>{Promise.resolve().then(s.bind(s,96540))},96540:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>StudentLoginPage});var r=s(30784),a=s(9885),n=s(57114);s(99973);var o=s(85525);function StudentLoginPage(){(0,n.useRouter)();let[e,t]=(0,a.useState)({email:"",password:""}),[s,l]=(0,a.useState)(!1),[i,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),handleSubmit=async t=>{t.preventDefault(),d(""),u(!0);try{let t=await fetch(`${o.CT}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();console.log("Student Login Response:",s),t.ok?"student"===s.user.role?(localStorage.setItem("token",s.access_token),localStorage.setItem("userId",s.user.id.toString()),localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("userName",`${s.user.firstName} ${s.user.lastName}`),localStorage.setItem("userRole",s.user.role),s.user.schoolId&&(localStorage.setItem("schoolId",s.user.schoolId.toString()),console.log("Stored schoolId:",s.user.schoolId)),console.log("Student login successful, userId:",s.user.id),setTimeout(()=>{window.location.href="/student/dashboard"},100)):d("This login is only for students. Please use the correct portal."):d(s.message||"Login failed")}catch(e){d("Network error. Please try again."),console.error("Login error:",e)}finally{u(!1)}},handleChange=s=>{t({...e,[s.target.name]:s.target.value})};return r.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center py-5",style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"},children:r.jsx("div",{className:"container",children:r.jsx("div",{className:"row justify-content-center",children:(0,r.jsxs)("div",{className:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"mb-3",children:r.jsx("span",{style:{fontSize:"4rem"},children:"\uD83C\uDF93"})}),r.jsx("h2",{className:"text-white fw-bold mb-2",children:"Student Login"}),r.jsx("p",{className:"text-white-50",children:"Sign in to access your portal"})]}),r.jsx("div",{className:"card border-0 shadow-lg",children:(0,r.jsxs)("div",{className:"card-body p-4 p-md-5",children:[i&&(0,r.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[r.jsx("strong",{children:"Error:"})," ",i,r.jsx("button",{type:"button",className:"btn-close",onClick:()=>d(""),"aria-label":"Close"})]}),(0,r.jsxs)("form",{onSubmit:handleSubmit,children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"email",className:"form-label fw-semibold text-dark",children:"\uD83D\uDCE7 Email Address"}),r.jsx("input",{type:"email",className:"form-control form-control-lg border-2",id:"email",name:"email",placeholder:"student@example.com",value:e.email,onChange:handleChange,required:!0,style:{borderRadius:"10px",transition:"all 0.3s ease"}})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"password",className:"form-label fw-semibold text-dark",children:"\uD83D\uDD12 Password"}),(0,r.jsxs)("div",{className:"input-group",children:[r.jsx("input",{type:s?"text":"password",className:"form-control form-control-lg border-2",id:"password",name:"password",placeholder:"Enter your password",value:e.password,onChange:handleChange,required:!0,style:{borderRadius:"10px 0 0 10px",transition:"all 0.3s ease"}}),r.jsx("button",{className:"btn btn-outline-secondary border-2",type:"button",onClick:()=>l(!s),style:{borderRadius:"0 10px 10px 0"},children:s?"\uD83D\uDE48":"\uD83D\uDC41️"})]})]}),r.jsx("button",{type:"submit",className:"btn btn-lg w-100 mb-3 text-white fw-bold",style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",border:"none"},disabled:c,children:c?(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Signing In..."]}):"\uD83D\uDE80 Sign In to Portal"}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"#",className:"text-decoration-none text-muted small",children:"Forgot your password?"})})]})]})}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("a",{href:"/",className:"text-decoration-none text-white",children:r.jsx("small",{children:"← Back to Home"})})})]})})})})}},46248:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var r=s(95153);let a=(0,r.createProxy)(String.raw`C:\xampp\htdocs\childclub\childclub-frontend\src\app\student\login\page.tsx`),{__esModule:n,$$typeof:o}=a,l=a.default,i=l},99973:()=>{},30784:(e,t,s)=>{"use strict";e.exports=s(10316).vendored["react-ssr"].ReactJsxRuntime}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[659,9675,656,5525,4171],()=>__webpack_exec__(25472));module.exports=s})();