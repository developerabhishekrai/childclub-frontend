(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9018],{2898:function(e,s,t){"use strict";t.d(s,{Z:function(){return createLucideIcon}});var a=t(2265),c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:d=24,strokeWidth:r=2,absoluteStrokeWidth:n,children:l,...o},i)=>(0,a.createElement)("svg",{ref:i,...c,width:d,height:d,stroke:t,strokeWidth:n?24*Number(r)/Number(d):r,className:`lucide lucide-${toKebabCase(e)}`,...o},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${e}`,t}},1981:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3067:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8203:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3008:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6141:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6245:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},5750:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2104:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(2898);let c=(0,a.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6829:function(e,s,t){Promise.resolve().then(t.bind(t,6802))},6802:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return TeacherAttendancePage}});var a=t(7437),c=t(9738),d=t.n(c),r=t(2265),n=t(1396),l=t.n(n),o=t(3067),i=t(8203),f=t(3008),m=t(2104),x=t(6141),u=t(1981),h=t(5750),b=t(6245),j=t(6820),N=t.n(j),g=t(6454);function TeacherAttendancePage(){let[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)(null),[n,j]=(0,r.useState)([]),[p,y]=(0,r.useState)(new Date().toISOString().split("T")[0]),[v,k]=(0,r.useState)(new Map),[w,S]=(0,r.useState)(!1),[A,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{fetchTeacherClasses()},[]),(0,r.useEffect)(()=>{t&&(fetchClassStudents(t),fetchExistingAttendance(t,p))},[t,p]);let fetchTeacherClasses=async()=>{try{S(!0);let e=localStorage.getItem("token"),t=localStorage.getItem("userId"),a=await fetch("".concat(g.CT,"/teachers/user/").concat(t,"/classes"),{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();s(e)}else{let t=await fetch("".concat(g.CT,"/classes"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();s(e)}}}catch(e){console.error("Error fetching classes:",e),N().fire({icon:"error",title:"Error",text:"Failed to load classes"})}finally{S(!1)}},fetchClassStudents=async e=>{try{S(!0);let s=localStorage.getItem("token"),t=await fetch("".concat(g.CT,"/students/class/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}});if(t.ok){let s=await t.json();console.log("Fetched students for teacher class:",e,"Count:",s.length),j(s);let a=new Map;s.forEach(e=>{a.set(e.userId,{studentId:e.userId,status:"present"})}),k(a)}}catch(e){console.error("Error fetching students:",e)}finally{S(!1)}},fetchExistingAttendance=async(e,s)=>{try{let t=localStorage.getItem("token"),a=await fetch("".concat(g.CT,"/attendance/class/").concat(e,"?date=").concat(s),{headers:{Authorization:"Bearer ".concat(t)}});if(a.ok){let e=await a.json();if(e.length>0){let s=new Map;e.forEach(e=>{s.set(e.studentId,{studentId:e.studentId,status:e.status,remarks:e.remarks,mood:e.mood})}),k(s)}}}catch(e){console.error("Error fetching attendance:",e)}},updateAttendance=(e,s,t)=>{k(a=>{let c=new Map(a),d=c.get(e)||{studentId:e,status:"present",mood:"",remarks:""};return c.set(e,{...d,[s]:t}),c})},markAllAs=e=>{k(s=>{let t=new Map(s);return n.forEach(s=>{let a=s.userId,c=t.get(a)||{studentId:a,status:"present",mood:"",remarks:""};t.set(a,{...c,status:e})}),t})},handleSubmit=async()=>{if(!t){N().fire({icon:"warning",title:"Warning",text:"Please select a class"});return}let e=await N().fire({title:"Submit Attendance?",text:"Marking attendance for ".concat(n.length," students on ").concat(p),icon:"question",showCancelButton:!0,confirmButtonText:"Yes, submit",cancelButtonText:"Cancel"});if(e.isConfirmed){C(!0);try{let e=localStorage.getItem("token"),s=Array.from(v.values()),a={classId:t,date:p,attendance:s};console.log("Teacher submitting attendance:",a);let c=await fetch("".concat(g.CT,"/attendance"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)}),d=await c.json();if(console.log("Attendance response:",d),c.ok)N().fire({icon:"success",title:"Success!",text:"Attendance marked successfully",timer:2e3,showConfirmButton:!1}),fetchExistingAttendance(t,p);else throw Error(d.message||"Failed to mark attendance")}catch(e){console.error("Error marking attendance:",e),N().fire({icon:"error",title:"Error",text:e.message||"Failed to mark attendance. Please try again."})}finally{C(!1)}}},E=(()=>{let e={present:0,absent:0,late:0,excused:0};return v.forEach(s=>{e[s.status]++}),e})();return(0,a.jsxs)("div",{style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",minHeight:"100vh"},className:"jsx-f1e16b29cd989d1f",children:[(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f container-fluid p-4",children:[(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f row mb-4",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-12",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow-lg bg-primary",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body text-white p-4",children:[(0,a.jsxs)(l(),{href:"/teacher/dashboard",className:"btn btn-light btn-sm mb-3",children:[(0,a.jsx)(o.Z,{size:16,className:"me-2"}),"Back to Dashboard"]}),(0,a.jsxs)("h1",{className:"jsx-f1e16b29cd989d1f display-5 fw-bold mb-2",children:[(0,a.jsx)(i.Z,{size:50,className:"me-3"}),"Mark Attendance"]}),(0,a.jsx)("p",{className:"jsx-f1e16b29cd989d1f mb-0 opacity-75",children:"Record daily attendance for your class"})]})})})}),(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f row mb-4",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-12",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body",children:[(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f row g-3",children:[(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f col-12 col-md-6",children:[(0,a.jsx)("label",{className:"jsx-f1e16b29cd989d1f form-label fw-semibold",children:"Select Class"}),(0,a.jsxs)("select",{value:t||"",onChange:e=>c(Number(e.target.value)),className:"jsx-f1e16b29cd989d1f form-select form-select-lg",children:[(0,a.jsx)("option",{value:"",className:"jsx-f1e16b29cd989d1f",children:"Choose a class..."}),e.map(e=>(0,a.jsx)("option",{value:e.id,className:"jsx-f1e16b29cd989d1f",children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f col-12 col-md-6",children:[(0,a.jsx)("label",{className:"jsx-f1e16b29cd989d1f form-label fw-semibold",children:"Date"}),(0,a.jsx)("input",{type:"date",value:p,onChange:e=>y(e.target.value),className:"jsx-f1e16b29cd989d1f form-control form-control-lg"})]})]}),t&&n.length>0&&(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f mt-4",children:[(0,a.jsx)("label",{className:"jsx-f1e16b29cd989d1f form-label fw-semibold",children:"Quick Actions"}),(0,a.jsxs)("div",{role:"group",className:"jsx-f1e16b29cd989d1f btn-group w-100",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>markAllAs("present"),className:"jsx-f1e16b29cd989d1f btn btn-outline-success",children:[(0,a.jsx)(f.Z,{size:18,className:"me-2"}),"Mark All Present"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>markAllAs("absent"),className:"jsx-f1e16b29cd989d1f btn btn-outline-danger",children:[(0,a.jsx)(m.Z,{size:18,className:"me-2"}),"Mark All Absent"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>markAllAs("late"),className:"jsx-f1e16b29cd989d1f btn btn-outline-warning",children:[(0,a.jsx)(x.Z,{size:18,className:"me-2"}),"Mark All Late"]})]})]})]})})})}),t&&n.length>0&&(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f row g-3 mb-4",children:[(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-6 col-md-3",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow h-100 bg-success text-white",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body text-center",children:[(0,a.jsx)(f.Z,{size:30,className:"mb-2"}),(0,a.jsx)("h3",{className:"jsx-f1e16b29cd989d1f mb-0",children:E.present}),(0,a.jsx)("small",{className:"jsx-f1e16b29cd989d1f",children:"Present"})]})})}),(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-6 col-md-3",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow h-100 bg-danger text-white",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body text-center",children:[(0,a.jsx)(m.Z,{size:30,className:"mb-2"}),(0,a.jsx)("h3",{className:"jsx-f1e16b29cd989d1f mb-0",children:E.absent}),(0,a.jsx)("small",{className:"jsx-f1e16b29cd989d1f",children:"Absent"})]})})}),(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-6 col-md-3",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow h-100 bg-warning text-white",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body text-center",children:[(0,a.jsx)(x.Z,{size:30,className:"mb-2"}),(0,a.jsx)("h3",{className:"jsx-f1e16b29cd989d1f mb-0",children:E.late}),(0,a.jsx)("small",{className:"jsx-f1e16b29cd989d1f",children:"Late"})]})})}),(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-6 col-md-3",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow h-100 bg-info text-white",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body text-center",children:[(0,a.jsx)(u.Z,{size:30,className:"mb-2"}),(0,a.jsx)("h3",{className:"jsx-f1e16b29cd989d1f mb-0",children:E.excused}),(0,a.jsx)("small",{className:"jsx-f1e16b29cd989d1f",children:"Excused"})]})})})]}),t&&n.length>0&&(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f row",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-12",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow",children:[(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card-header bg-white border-0 py-3",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("h5",{className:"jsx-f1e16b29cd989d1f mb-0 fw-bold",children:[(0,a.jsx)(h.Z,{size:20,className:"me-2"}),"Student List (",n.length," students)"]}),(0,a.jsxs)("button",{onClick:handleSubmit,disabled:A,className:"jsx-f1e16b29cd989d1f btn btn-primary",children:[(0,a.jsx)(b.Z,{size:18,className:"me-2"}),A?"Saving...":"Save Attendance"]})]})}),(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card-body p-0",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f table-responsive",children:(0,a.jsxs)("table",{className:"jsx-f1e16b29cd989d1f table table-hover mb-0",children:[(0,a.jsx)("thead",{className:"jsx-f1e16b29cd989d1f bg-light",children:(0,a.jsxs)("tr",{className:"jsx-f1e16b29cd989d1f",children:[(0,a.jsx)("th",{className:"jsx-f1e16b29cd989d1f border-0 py-3",children:"Roll No"}),(0,a.jsx)("th",{className:"jsx-f1e16b29cd989d1f border-0 py-3",children:"Student Name"}),(0,a.jsx)("th",{className:"jsx-f1e16b29cd989d1f border-0 py-3",children:"Status"}),(0,a.jsx)("th",{className:"jsx-f1e16b29cd989d1f border-0 py-3",children:"Mood"}),(0,a.jsx)("th",{className:"jsx-f1e16b29cd989d1f border-0 py-3",children:"Remarks"})]})}),(0,a.jsx)("tbody",{className:"jsx-f1e16b29cd989d1f",children:n.map(e=>{let s=e.userId,t=v.get(s)||{studentId:s,status:"present",mood:"",remarks:""};return(0,a.jsxs)("tr",{className:"jsx-f1e16b29cd989d1f",children:[(0,a.jsx)("td",{className:"jsx-f1e16b29cd989d1f py-3 align-middle",children:(0,a.jsx)("span",{className:"jsx-f1e16b29cd989d1f badge bg-secondary",children:e.enrollmentNumber||"N/A"})}),(0,a.jsx)("td",{className:"jsx-f1e16b29cd989d1f py-3 align-middle",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f fw-semibold",children:[e.firstName," ",e.lastName]})}),(0,a.jsx)("td",{className:"jsx-f1e16b29cd989d1f py-3 align-middle",children:(0,a.jsxs)("select",{value:t.status,onChange:e=>updateAttendance(s,"status",e.target.value),style:{minWidth:"120px"},className:"jsx-f1e16b29cd989d1f "+"form-select form-select-sm w-auto bg-".concat("present"===t.status?"success":"absent"===t.status?"danger":"late"===t.status?"warning":"info"," text-white border-0"),children:[(0,a.jsx)("option",{value:"present",className:"jsx-f1e16b29cd989d1f",children:"✓ Present"}),(0,a.jsx)("option",{value:"absent",className:"jsx-f1e16b29cd989d1f",children:"✗ Absent"}),(0,a.jsx)("option",{value:"late",className:"jsx-f1e16b29cd989d1f",children:"⏰ Late"}),(0,a.jsx)("option",{value:"excused",className:"jsx-f1e16b29cd989d1f",children:"\uD83D\uDCCB Excused"})]})}),(0,a.jsx)("td",{className:"jsx-f1e16b29cd989d1f py-3 align-middle",children:(0,a.jsxs)("select",{value:t.mood||"",onChange:e=>updateAttendance(s,"mood",e.target.value),style:{minWidth:"140px"},className:"jsx-f1e16b29cd989d1f form-select form-select-sm w-auto",children:[(0,a.jsx)("option",{value:"",className:"jsx-f1e16b29cd989d1f",children:"Select mood..."}),(0,a.jsx)("option",{value:"happy",className:"jsx-f1e16b29cd989d1f",children:"\uD83D\uDE0A Happy"}),(0,a.jsx)("option",{value:"sad",className:"jsx-f1e16b29cd989d1f",children:"\uD83D\uDE22 Sad"}),(0,a.jsx)("option",{value:"sick",className:"jsx-f1e16b29cd989d1f",children:"\uD83E\uDD12 Sick"}),(0,a.jsx)("option",{value:"energetic",className:"jsx-f1e16b29cd989d1f",children:"⚡ Energetic"}),(0,a.jsx)("option",{value:"tired",className:"jsx-f1e16b29cd989d1f",children:"\uD83D\uDE34 Tired"})]})}),(0,a.jsx)("td",{className:"jsx-f1e16b29cd989d1f py-3 align-middle",children:(0,a.jsx)("input",{type:"text",value:t.remarks||"",onChange:e=>updateAttendance(s,"remarks",e.target.value),placeholder:"Add remarks...",className:"jsx-f1e16b29cd989d1f form-control form-control-sm"})})]},e.id)})})]})})}),(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card-footer bg-white border-0 py-3",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f d-flex justify-content-between align-items-center",children:[(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f text-muted",children:(0,a.jsxs)("small",{className:"jsx-f1e16b29cd989d1f",children:["Total: ",n.length," students"]})}),(0,a.jsxs)("button",{onClick:handleSubmit,disabled:A,className:"jsx-f1e16b29cd989d1f btn btn-primary btn-lg",children:[(0,a.jsx)(b.Z,{size:20,className:"me-2"}),A?"Saving...":"Save Attendance"]})]})})]})})}),t&&0===n.length&&!w&&(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f row",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-12",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body text-center py-5",children:[(0,a.jsx)(h.Z,{size:60,style:{opacity:.3},className:"text-muted mb-3"}),(0,a.jsx)("h5",{className:"jsx-f1e16b29cd989d1f text-muted",children:"No students found in this class"}),(0,a.jsx)("p",{className:"jsx-f1e16b29cd989d1f text-muted",children:"Please select a different class or add students first."})]})})})}),!t&&(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f row",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f col-12",children:(0,a.jsx)("div",{className:"jsx-f1e16b29cd989d1f card border-0 shadow",children:(0,a.jsxs)("div",{className:"jsx-f1e16b29cd989d1f card-body text-center py-5",children:[(0,a.jsx)(i.Z,{size:60,style:{opacity:.3},className:"text-muted mb-3"}),(0,a.jsx)("h5",{className:"jsx-f1e16b29cd989d1f text-muted",children:"Select a class to mark attendance"}),(0,a.jsx)("p",{className:"jsx-f1e16b29cd989d1f text-muted",children:"Choose a class from the dropdown above to get started."})]})})})})]}),(0,a.jsx)(d(),{id:"f1e16b29cd989d1f",children:".card.jsx-f1e16b29cd989d1f{-webkit-transition:-webkit-transform.2s ease,box-shadow.2s ease;-moz-transition:-moz-transform.2s ease,box-shadow.2s ease;-o-transition:-o-transform.2s ease,box-shadow.2s ease;transition:-webkit-transform.2s ease,box-shadow.2s ease;transition:-moz-transform.2s ease,box-shadow.2s ease;transition:-o-transform.2s ease,box-shadow.2s ease;transition:transform.2s ease,box-shadow.2s ease}.table.jsx-f1e16b29cd989d1f tbody.jsx-f1e16b29cd989d1f tr.jsx-f1e16b29cd989d1f{-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease}.table.jsx-f1e16b29cd989d1f tbody.jsx-f1e16b29cd989d1f tr.jsx-f1e16b29cd989d1f:hover{background-color:#f8f9fa}"})]})}},6454:function(e,s,t){"use strict";t.d(s,{CT:function(){return a},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let a="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,s,t){super(s),this.status=e,this.message=s,this.data=t,this.name="ApiError"}};async function apiRequest(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:t,params:c,headers:d,...r}=s,n="".concat(a).concat(e);if(c){let e=new URLSearchParams(Object.entries(c).reduce((e,s)=>{let[t,a]=s;return null!=a&&(e[t]=String(a)),e},{})).toString();e&&(n+="?".concat(e))}let l={"Content-Type":"application/json",...d};t&&(l.Authorization="Bearer ".concat(t));try{let e=await fetch(n,{...r,headers:l}),s=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,s.message||"Request failed with status ".concat(e.status),s);return s}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,s){return apiRequest(e,{...s,method:"GET"})}async function apiPost(e,s,t){return apiRequest(e,{...t,method:"POST",body:s?JSON.stringify(s):void 0})}async function apiPut(e,s,t){return apiRequest(e,{...t,method:"PUT",body:s?JSON.stringify(s):void 0})}async function apiPatch(e,s,t){return apiRequest(e,{...t,method:"PATCH",body:s?JSON.stringify(s):void 0})}async function apiDelete(e,s){return apiRequest(e,{...s,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}}},function(e){e.O(0,[9461,1176,9738,2971,2472,1744],function(){return e(e.s=6829)}),_N_E=e.O()}]);