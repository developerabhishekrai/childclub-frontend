(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8987],{5153:function(e,t,r){Promise.resolve().then(r.bind(r,4211))},4211:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return TeacherLoginPage}});var n=r(7437),a=r(2265),o=r(4033);r(8117);var s=r(6454);function TeacherLoginPage(){(0,o.useRouter)();let[e,t]=(0,a.useState)({email:"",password:""}),[r,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(!1),handleSubmit=async t=>{t.preventDefault(),c(""),d(!0);try{let t=await fetch("".concat(s.CT,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();t.ok?"teacher"===r.user.role?(localStorage.setItem("token",r.access_token),localStorage.setItem("userId",r.user.id),localStorage.setItem("userName","".concat(r.user.firstName," ").concat(r.user.lastName)),localStorage.setItem("userRole",r.user.role),setTimeout(()=>{window.location.href="/teacher/dashboard"},100)):c("This login is only for teachers. Please use the correct portal."):c(r.message||"Login failed")}catch(e){c("Network error. Please try again."),console.error("Login error:",e)}finally{d(!1)}},handleChange=r=>{t({...e,[r.target.name]:r.target.value})};return(0,n.jsx)("div",{className:"min-vh-100 d-flex align-items-center justify-content-center py-5",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row justify-content-center",children:(0,n.jsxs)("div",{className:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5",children:[(0,n.jsxs)("div",{className:"text-center mb-4",children:[(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("span",{style:{fontSize:"4rem"},children:"\uD83D\uDC68‍\uD83C\uDFEB"})}),(0,n.jsx)("h2",{className:"text-white fw-bold mb-2",children:"Teacher Login"}),(0,n.jsx)("p",{className:"text-white-50",children:"Sign in to access your dashboard"})]}),(0,n.jsx)("div",{className:"card border-0 shadow-lg",children:(0,n.jsxs)("div",{className:"card-body p-4 p-md-5",children:[l&&(0,n.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[(0,n.jsx)("strong",{children:"Error:"})," ",l,(0,n.jsx)("button",{type:"button",className:"btn-close",onClick:()=>c(""),"aria-label":"Close"})]}),(0,n.jsxs)("form",{onSubmit:handleSubmit,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"email",className:"form-label fw-semibold text-dark",children:"\uD83D\uDCE7 Email Address"}),(0,n.jsx)("input",{type:"email",className:"form-control form-control-lg border-2",id:"email",name:"email",placeholder:"teacher@example.com",value:e.email,onChange:handleChange,required:!0,style:{borderRadius:"10px",transition:"all 0.3s ease"}})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"password",className:"form-label fw-semibold text-dark",children:"\uD83D\uDD12 Password"}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("input",{type:r?"text":"password",className:"form-control form-control-lg border-2",id:"password",name:"password",placeholder:"Enter your password",value:e.password,onChange:handleChange,required:!0,style:{borderRadius:"10px 0 0 10px",transition:"all 0.3s ease"}}),(0,n.jsx)("button",{className:"btn btn-outline-secondary border-2",type:"button",onClick:()=>i(!r),style:{borderRadius:"0 10px 10px 0"},children:r?"\uD83D\uDE48":"\uD83D\uDC41️"})]})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-lg w-100 mb-3 text-white fw-bold",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none"},disabled:u,children:u?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Signing In..."]}):"\uD83D\uDE80 Sign In to Dashboard"}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("a",{href:"#",className:"text-decoration-none text-muted small",children:"Forgot your password?"})})]})]})}),(0,n.jsx)("div",{className:"text-center mt-4",children:(0,n.jsx)("a",{href:"/",className:"text-decoration-none text-white",children:(0,n.jsx)("small",{children:"← Back to Home"})})})]})})})})}},6454:function(e,t,r){"use strict";r.d(t,{CT:function(){return n},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let n="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,t,r){super(t),this.status=e,this.message=t,this.data=r,this.name="ApiError"}};async function apiRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:r,params:a,headers:o,...s}=t,i="".concat(n).concat(e);if(a){let e=new URLSearchParams(Object.entries(a).reduce((e,t)=>{let[r,n]=t;return null!=n&&(e[r]=String(n)),e},{})).toString();e&&(i+="?".concat(e))}let l={"Content-Type":"application/json",...o};r&&(l.Authorization="Bearer ".concat(r));try{let e=await fetch(i,{...s,headers:l}),t=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,t.message||"Request failed with status ".concat(e.status),t);return t}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,t){return apiRequest(e,{...t,method:"GET"})}async function apiPost(e,t,r){return apiRequest(e,{...r,method:"POST",body:t?JSON.stringify(t):void 0})}async function apiPut(e,t,r){return apiRequest(e,{...r,method:"PUT",body:t?JSON.stringify(t):void 0})}async function apiPatch(e,t,r){return apiRequest(e,{...r,method:"PATCH",body:t?JSON.stringify(t):void 0})}async function apiDelete(e,t){return apiRequest(e,{...t,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},8117:function(){},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,o={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:i.current}}t.Fragment=o,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[6685,2971,2472,1744],function(){return e(e.s=5153)}),_N_E=e.O()}]);