(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5939],{2898:function(e,a,s){"use strict";s.d(a,{Z:function(){return createLucideIcon}});var t=s(2265),d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,a)=>{let s=(0,t.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:l,children:c,...i},o)=>(0,t.createElement)("svg",{ref:o,...d,width:r,height:r,stroke:s,strokeWidth:l?24*Number(n)/Number(r):n,className:`lucide lucide-${toKebabCase(e)}`,...i},[...a.map(([e,a])=>(0,t.createElement)(e,a)),...(Array.isArray(c)?c:[c])||[]]));return s.displayName=`${e}`,s}},3067:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2505:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},2457:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9865:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},5817:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},1827:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6654:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},5790:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(2898);let d=(0,t.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9237:function(e,a,s){Promise.resolve().then(s.bind(s,264))},264:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return StudentGradesPage}});var t=s(7437),d=s(9738),r=s.n(d),n=s(2265),l=s(1396),c=s.n(l),i=s(3067),o=s(5817),x=s(2505),b=s(6654),h=s(5790),m=s(9865),j=s(2457),u=s(1827),g=s(6820),v=s.n(g),f=s(6454);function StudentGradesPage(){let[e,a]=(0,n.useState)(""),[s,d]=(0,n.useState)("all"),[l,g]=(0,n.useState)("recent"),[p,N]=(0,n.useState)([]),[y,w]=(0,n.useState)(!0),[k,S]=(0,n.useState)({totalGraded:0,averageGrade:0,highestGrade:0,lowestGrade:0,totalPossible:0,totalEarned:0,percentageScore:0,gradeBySubject:{}}),[G,A]=(0,n.useState)([]);(0,n.useEffect)(()=>{fetchGrades()},[]);let fetchGrades=async()=>{try{let a=localStorage.getItem("token"),s=localStorage.getItem("userId"),t=localStorage.getItem("user");if(!s&&t)try{var e;let a=JSON.parse(t);(s=null===(e=a.id)||void 0===e?void 0:e.toString())&&localStorage.setItem("userId",s)}catch(e){console.error("Error parsing user:",e)}if(!s||!a){v().fire({icon:"error",title:"Error",text:"Please login again"}),w(!1);return}console.log("Fetching grades for student userId:",s);let d=await fetch("".concat(f.CT,"/submissions/student/").concat(s),{headers:{Authorization:"Bearer ".concat(a)}});if(d.ok){let e=await d.json();console.log("Fetched submissions:",e);let a=e.filter(e=>null!==e.grade&&void 0!==e.grade&&"approved"===e.status);N(a),calculateStats(a);let s=Array.from(new Set(a.filter(e=>{var a,s;return null===(s=e.task)||void 0===s?void 0:null===(a=s.subject)||void 0===a?void 0:a.name}).map(e=>e.task.subject.name)));A(s)}else throw Error("Failed to fetch grades")}catch(e){console.error("Error fetching grades:",e),v().fire({icon:"error",title:"Error",text:"Failed to load grades. Please try again."})}finally{w(!1)}},calculateStats=e=>{if(0===e.length){S({totalGraded:0,averageGrade:0,highestGrade:0,lowestGrade:0,totalPossible:0,totalEarned:0,percentageScore:0,gradeBySubject:{}});return}let a=e.map(e=>e.grade||0),s=a.reduce((e,a)=>e+a,0),t=e.reduce((e,a)=>{var s;return e+((null===(s=a.task)||void 0===s?void 0:s.maxScore)||20)},0),d={};e.forEach(e=>{var a,s;let t=(null===(s=e.task)||void 0===s?void 0:null===(a=s.subject)||void 0===a?void 0:a.name)||"General";d[t]||(d[t]={total:0,count:0,average:0}),d[t].total+=e.grade||0,d[t].count+=1}),Object.keys(d).forEach(e=>{d[e].average=d[e].total/d[e].count}),S({totalGraded:e.length,averageGrade:s/e.length,highestGrade:Math.max(...a),lowestGrade:Math.min(...a),totalPossible:t,totalEarned:s,percentageScore:s/t*100,gradeBySubject:d})},getGradeColor=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=e/a*100;return s>=90?"success":s>=75?"info":s>=60?"warning":"danger"},getGradeLetter=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=e/a*100;return s>=90?"A+":s>=80?"A":s>=70?"B":s>=60?"C":s>=50?"D":"F"};if(y)return(0,t.jsx)("div",{className:"container-fluid vh-100 d-flex justify-content-center align-items-center",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"spinner-border text-light",role:"status",style:{width:"4rem",height:"4rem"},children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,t.jsx)("h4",{className:"text-white mt-3",children:"Loading Grades..."})]})});let E=(()=>{let a=p;switch(e&&(a=a.filter(a=>{var s,t,d,r,n;return(null===(t=a.task)||void 0===t?void 0:null===(s=t.title)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))||(null===(n=a.task)||void 0===n?void 0:null===(r=n.subject)||void 0===r?void 0:null===(d=r.name)||void 0===d?void 0:d.toLowerCase().includes(e.toLowerCase()))})),"all"!==s&&(a=a.filter(e=>{var a,t;return(null===(t=e.task)||void 0===t?void 0:null===(a=t.subject)||void 0===a?void 0:a.name)===s})),l){case"highest":a.sort((e,a)=>(a.grade||0)-(e.grade||0));break;case"lowest":a.sort((e,a)=>(e.grade||0)-(a.grade||0));break;default:a.sort((e,a)=>new Date(a.reviewedAt||a.submittedAt).getTime()-new Date(e.reviewedAt||e.submittedAt).getTime())}return a})();return(0,t.jsxs)("div",{style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",minHeight:"100vh"},className:"jsx-4db63d5a76631a20",children:[(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 container-fluid p-4",children:[(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 row mb-4",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12",children:(0,t.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},className:"jsx-4db63d5a76631a20 card border-0 shadow-lg",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body text-white p-4",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20",children:[(0,t.jsxs)(c(),{href:"/student/dashboard",className:"btn btn-light btn-sm mb-3",children:[(0,t.jsx)(i.Z,{size:16,className:"me-2"}),"Back to Dashboard"]}),(0,t.jsx)("h1",{className:"jsx-4db63d5a76631a20 display-5 fw-bold mb-2",children:"\uD83C\uDFAF My Grades"}),(0,t.jsx)("p",{className:"jsx-4db63d5a76631a20 mb-0 opacity-75",children:"View all your grades and performance"})]}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20",children:(0,t.jsxs)("button",{onClick:()=>{let e=[["Assignment","Subject","Grade","Max Score","Percentage","Date","Feedback"],...p.map(e=>{var a,s,t,d,r;return[(null===(a=e.task)||void 0===a?void 0:a.title)||"N/A",(null===(t=e.task)||void 0===t?void 0:null===(s=t.subject)||void 0===s?void 0:s.name)||"General",e.grade||0,(null===(d=e.task)||void 0===d?void 0:d.maxScore)||20,"".concat(((e.grade||0)/((null===(r=e.task)||void 0===r?void 0:r.maxScore)||20)*100).toFixed(1),"%"),new Date(e.reviewedAt||e.submittedAt).toLocaleDateString("en-IN"),e.feedback||"No feedback"]})].map(e=>e.join(",")).join("\n"),a=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download="grades-".concat(new Date().toISOString().split("T")[0],".csv"),t.click(),window.URL.revokeObjectURL(s),v().fire({icon:"success",title:"Exported!",text:"Your grades have been exported successfully.",timer:2e3,showConfirmButton:!1})},disabled:0===p.length,className:"jsx-4db63d5a76631a20 btn btn-light",children:[(0,t.jsx)(o.Z,{size:18,className:"me-2"}),"Export"]})})]})})})})}),(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 row g-3 mb-4",children:[(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-6 col-xl-3",children:(0,t.jsx)("div",{style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"},className:"jsx-4db63d5a76631a20 card border-0 shadow h-100",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body text-white",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20",children:[(0,t.jsx)("h6",{className:"jsx-4db63d5a76631a20 card-subtitle mb-2",children:"Average Grade"}),(0,t.jsx)("h2",{className:"jsx-4db63d5a76631a20 card-title display-4 fw-bold",children:k.averageGrade.toFixed(1)}),(0,t.jsx)("p",{className:"jsx-4db63d5a76631a20 card-text small",children:"Out of 20"})]}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20",children:(0,t.jsx)(x.Z,{size:60,style:{opacity:.7}})})]})})})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-6 col-xl-3",children:(0,t.jsx)("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},className:"jsx-4db63d5a76631a20 card border-0 shadow h-100",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body text-white",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20",children:[(0,t.jsx)("h6",{className:"jsx-4db63d5a76631a20 card-subtitle mb-2",children:"Overall Score"}),(0,t.jsxs)("h2",{className:"jsx-4db63d5a76631a20 card-title display-4 fw-bold",children:[k.percentageScore.toFixed(1),"%"]}),(0,t.jsxs)("p",{className:"jsx-4db63d5a76631a20 card-text small",children:[k.totalEarned," / ",k.totalPossible," points"]})]}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20",children:(0,t.jsx)(b.Z,{size:60,style:{opacity:.7}})})]})})})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-6 col-xl-3",children:(0,t.jsx)("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},className:"jsx-4db63d5a76631a20 card border-0 shadow h-100",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body text-white",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20",children:[(0,t.jsx)("h6",{className:"jsx-4db63d5a76631a20 card-subtitle mb-2",children:"Highest Grade"}),(0,t.jsx)("h2",{className:"jsx-4db63d5a76631a20 card-title display-4 fw-bold",children:k.highestGrade}),(0,t.jsx)("p",{className:"jsx-4db63d5a76631a20 card-text small",children:"Best performance"})]}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20",children:(0,t.jsx)(h.Z,{size:60,style:{opacity:.7}})})]})})})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-6 col-xl-3",children:(0,t.jsx)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},className:"jsx-4db63d5a76631a20 card border-0 shadow h-100",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body text-white",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex justify-content-between align-items-center",children:[(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20",children:[(0,t.jsx)("h6",{className:"jsx-4db63d5a76631a20 card-subtitle mb-2",children:"Total Graded"}),(0,t.jsx)("h2",{className:"jsx-4db63d5a76631a20 card-title display-4 fw-bold",children:k.totalGraded}),(0,t.jsx)("p",{className:"jsx-4db63d5a76631a20 card-text small",children:"Assignments"})]}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20",children:(0,t.jsx)(m.Z,{size:60,style:{opacity:.7}})})]})})})})]}),Object.keys(k.gradeBySubject).length>0&&(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 row mb-4",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 card border-0 shadow",children:[(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-header bg-white border-0 py-3",children:(0,t.jsxs)("h5",{className:"jsx-4db63d5a76631a20 mb-0 fw-bold",children:[(0,t.jsx)(j.Z,{size:20,className:"me-2"}),"Subject-wise Performance"]})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 row g-3",children:Object.entries(k.gradeBySubject).map(e=>{let[a,s]=e,d=s.average/20*100;return(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-6 col-lg-4",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card bg-light border-0 h-100",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 card-body",children:[(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex justify-content-between align-items-center mb-2",children:[(0,t.jsx)("h6",{className:"jsx-4db63d5a76631a20 mb-0 fw-bold",children:a}),(0,t.jsx)("span",{className:"jsx-4db63d5a76631a20 "+"badge bg-".concat(getGradeColor(s.average)),children:getGradeLetter(s.average)})]}),(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex justify-content-between align-items-center mb-2",children:[(0,t.jsx)("span",{className:"jsx-4db63d5a76631a20 text-muted small",children:"Average:"}),(0,t.jsxs)("span",{className:"jsx-4db63d5a76631a20 fw-bold",children:[s.average.toFixed(1)," / 20"]})]}),(0,t.jsx)("div",{style:{height:"10px"},className:"jsx-4db63d5a76631a20 progress",children:(0,t.jsx)("div",{style:{width:"".concat(d,"%")},className:"jsx-4db63d5a76631a20 "+"progress-bar bg-".concat(getGradeColor(s.average))})}),(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 text-muted small mt-1",children:[s.count," assignment",s.count>1?"s":""," graded"]})]})})},a)})})})]})})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 row mb-4",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card border-0 shadow",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 row g-3",children:[(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-4",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 input-group",children:[(0,t.jsx)("span",{className:"jsx-4db63d5a76631a20 input-group-text bg-white border-end-0",children:(0,t.jsx)(u.Z,{size:18})}),(0,t.jsx)("input",{type:"text",placeholder:"Search assignments...",value:e,onChange:e=>a(e.target.value),className:"jsx-4db63d5a76631a20 form-control border-start-0"})]})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-4",children:(0,t.jsxs)("select",{value:s,onChange:e=>d(e.target.value),className:"jsx-4db63d5a76631a20 form-select",children:[(0,t.jsx)("option",{value:"all",className:"jsx-4db63d5a76631a20",children:"All Subjects"}),G.map(e=>(0,t.jsx)("option",{value:e,className:"jsx-4db63d5a76631a20",children:e},e))]})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12 col-md-4",children:(0,t.jsxs)("select",{value:l,onChange:e=>g(e.target.value),className:"jsx-4db63d5a76631a20 form-select",children:[(0,t.jsx)("option",{value:"recent",className:"jsx-4db63d5a76631a20",children:"Most Recent"}),(0,t.jsx)("option",{value:"highest",className:"jsx-4db63d5a76631a20",children:"Highest First"}),(0,t.jsx)("option",{value:"lowest",className:"jsx-4db63d5a76631a20",children:"Lowest First"})]})})]})})})})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 row",children:(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 col-12",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 card border-0 shadow",children:[(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-header bg-white border-0 py-3",children:(0,t.jsxs)("h5",{className:"jsx-4db63d5a76631a20 mb-0 fw-bold",children:["All Grades (",E.length,")"]})}),(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 card-body p-0",children:0===E.length?(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 text-center py-5 text-muted",children:[(0,t.jsx)(x.Z,{size:60,style:{opacity:.3}}),(0,t.jsx)("p",{className:"jsx-4db63d5a76631a20 mt-3",children:0===p.length?"No graded assignments yet":"No results found"})]}):(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 table-responsive",children:(0,t.jsxs)("table",{className:"jsx-4db63d5a76631a20 table table-hover mb-0",children:[(0,t.jsx)("thead",{className:"jsx-4db63d5a76631a20 bg-light",children:(0,t.jsxs)("tr",{className:"jsx-4db63d5a76631a20",children:[(0,t.jsx)("th",{className:"jsx-4db63d5a76631a20 border-0 py-3",children:"Assignment"}),(0,t.jsx)("th",{className:"jsx-4db63d5a76631a20 border-0 py-3",children:"Subject"}),(0,t.jsx)("th",{className:"jsx-4db63d5a76631a20 border-0 py-3",children:"Grade"}),(0,t.jsx)("th",{className:"jsx-4db63d5a76631a20 border-0 py-3",children:"Percentage"}),(0,t.jsx)("th",{className:"jsx-4db63d5a76631a20 border-0 py-3",children:"Letter Grade"}),(0,t.jsx)("th",{className:"jsx-4db63d5a76631a20 border-0 py-3",children:"Date"}),(0,t.jsx)("th",{className:"jsx-4db63d5a76631a20 border-0 py-3",children:"Feedback"})]})}),(0,t.jsx)("tbody",{className:"jsx-4db63d5a76631a20",children:E.map(e=>{var a,s,d,r,n;let l=(null===(a=e.task)||void 0===a?void 0:a.maxScore)||20,c=e.grade||0,i=c/l*100;return(0,t.jsxs)("tr",{className:"jsx-4db63d5a76631a20",children:[(0,t.jsxs)("td",{className:"jsx-4db63d5a76631a20 py-3",children:[(0,t.jsx)("div",{className:"jsx-4db63d5a76631a20 fw-semibold",children:(null===(s=e.task)||void 0===s?void 0:s.title)||"N/A"}),(0,t.jsx)("small",{className:"jsx-4db63d5a76631a20 text-muted",children:(null===(d=e.task)||void 0===d?void 0:d.type)||"assignment"})]}),(0,t.jsx)("td",{className:"jsx-4db63d5a76631a20 py-3",children:(0,t.jsx)("span",{className:"jsx-4db63d5a76631a20 badge bg-primary",children:(null===(n=e.task)||void 0===n?void 0:null===(r=n.subject)||void 0===r?void 0:r.name)||"General"})}),(0,t.jsx)("td",{className:"jsx-4db63d5a76631a20 py-3",children:(0,t.jsxs)("span",{className:"jsx-4db63d5a76631a20 "+"badge bg-".concat(getGradeColor(c,l)," fs-6"),children:[c," / ",l]})}),(0,t.jsx)("td",{className:"jsx-4db63d5a76631a20 py-3",children:(0,t.jsxs)("div",{className:"jsx-4db63d5a76631a20 d-flex align-items-center",children:[(0,t.jsx)("div",{style:{height:"8px",width:"80px"},className:"jsx-4db63d5a76631a20 progress flex-grow-1 me-2",children:(0,t.jsx)("div",{style:{width:"".concat(i,"%")},className:"jsx-4db63d5a76631a20 "+"progress-bar bg-".concat(getGradeColor(c,l))})}),(0,t.jsxs)("span",{className:"jsx-4db63d5a76631a20 small fw-semibold",children:[i.toFixed(0),"%"]})]})}),(0,t.jsx)("td",{className:"jsx-4db63d5a76631a20 py-3",children:(0,t.jsx)("span",{className:"jsx-4db63d5a76631a20 "+"badge bg-".concat(getGradeColor(c,l)),children:getGradeLetter(c,l)})}),(0,t.jsx)("td",{className:"jsx-4db63d5a76631a20 py-3",children:(0,t.jsx)("small",{className:"jsx-4db63d5a76631a20 text-muted",children:new Date(e.reviewedAt||e.submittedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})}),(0,t.jsx)("td",{className:"jsx-4db63d5a76631a20 py-3",children:e.feedback?(0,t.jsx)("button",{onClick:()=>{var a,s,t;v().fire({title:"Teacher Feedback",html:'\n                                          <div class="text-start">\n                                            <p><strong>Assignment:</strong> '.concat(null===(a=e.task)||void 0===a?void 0:a.title,"</p>\n                                            <p><strong>Reviewer:</strong> ").concat((null===(s=e.reviewer)||void 0===s?void 0:s.firstName)||""," ").concat((null===(t=e.reviewer)||void 0===t?void 0:t.lastName)||"","</p>\n                                            <hr />\n                                            <p>").concat(e.feedback,"</p>\n                                            ").concat(e.teacherNotes?"<hr /><p><strong>Notes:</strong> ".concat(e.teacherNotes,"</p>"):"","\n                                          </div>\n                                        "),icon:"info",confirmButtonText:"Close",width:"600px"})},className:"jsx-4db63d5a76631a20 btn btn-sm btn-outline-primary",children:"View"}):(0,t.jsx)("span",{className:"jsx-4db63d5a76631a20 text-muted small",children:"No feedback"})})]},e.id)})})]})})})]})})})]}),(0,t.jsx)(r(),{id:"4db63d5a76631a20",children:".table.jsx-4db63d5a76631a20 tbody.jsx-4db63d5a76631a20 tr.jsx-4db63d5a76631a20{-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease}.table.jsx-4db63d5a76631a20 tbody.jsx-4db63d5a76631a20 tr.jsx-4db63d5a76631a20:hover{background-color:#f8f9fa}.card.jsx-4db63d5a76631a20{-webkit-transition:-webkit-transform.2s ease,box-shadow.2s ease;-moz-transition:-moz-transform.2s ease,box-shadow.2s ease;-o-transition:-o-transform.2s ease,box-shadow.2s ease;transition:-webkit-transform.2s ease,box-shadow.2s ease;transition:-moz-transform.2s ease,box-shadow.2s ease;transition:-o-transform.2s ease,box-shadow.2s ease;transition:transform.2s ease,box-shadow.2s ease}.card.jsx-4db63d5a76631a20:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;-moz-box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}"})]})}},6454:function(e,a,s){"use strict";s.d(a,{CT:function(){return t},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let t="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,a,s){super(a),this.status=e,this.message=a,this.data=s,this.name="ApiError"}};async function apiRequest(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:s,params:d,headers:r,...n}=a,l="".concat(t).concat(e);if(d){let e=new URLSearchParams(Object.entries(d).reduce((e,a)=>{let[s,t]=a;return null!=t&&(e[s]=String(t)),e},{})).toString();e&&(l+="?".concat(e))}let c={"Content-Type":"application/json",...r};s&&(c.Authorization="Bearer ".concat(s));try{let e=await fetch(l,{...n,headers:c}),a=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,a.message||"Request failed with status ".concat(e.status),a);return a}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,a){return apiRequest(e,{...a,method:"GET"})}async function apiPost(e,a,s){return apiRequest(e,{...s,method:"POST",body:a?JSON.stringify(a):void 0})}async function apiPut(e,a,s){return apiRequest(e,{...s,method:"PUT",body:a?JSON.stringify(a):void 0})}async function apiPatch(e,a,s){return apiRequest(e,{...s,method:"PATCH",body:a?JSON.stringify(a):void 0})}async function apiDelete(e,a){return apiRequest(e,{...a,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}}},function(e){e.O(0,[9461,1176,9738,2971,2472,1744],function(){return e(e.s=9237)}),_N_E=e.O()}]);