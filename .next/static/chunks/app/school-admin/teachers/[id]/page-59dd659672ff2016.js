(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6348],{2898:function(e,s,a){"use strict";a.d(s,{Z:function(){return createLucideIcon}});var t=a(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,s)=>{let a=(0,t.forwardRef)(({color:a="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:i,children:n,...d},o)=>(0,t.createElement)("svg",{ref:o,...r,width:l,height:l,stroke:a,strokeWidth:i?24*Number(c)/Number(l):c,className:`lucide lucide-${toKebabCase(e)}`,...d},[...s.map(([e,s])=>(0,t.createElement)(e,s)),...(Array.isArray(n)?n:[n])||[]]));return a.displayName=`${e}`,a}},3067:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(2898);let r=(0,t.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9057:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(2898);let r=(0,t.Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},1295:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(2898);let r=(0,t.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},9617:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(2898);let r=(0,t.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},2741:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(2898);let r=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9890:function(e,s,a){Promise.resolve().then(a.bind(a,3146))},3146:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return TeacherViewPage}});var t=a(7437),r=a(2265),l=a(3067),c=a(9617),i=a(1295),n=a(2741),d=a(9057),o=a(1396),m=a.n(o),h=a(4033),u=a(6454);function TeacherViewPage(){var e,s,a;let o=(0,h.useParams)();(0,h.useRouter)();let x=o.id,[b,f]=(0,r.useState)(null),[N,j]=(0,r.useState)(!0),[p,v]=(0,r.useState)("");(0,r.useEffect)(()=>{x&&fetchTeacher()},[x]);let fetchTeacher=async()=>{try{j(!0),v("");let e=(0,u.hV)();if(!e)throw Error("Authentication required. Please login again.");let s=await (0,u.R1)("/teachers/".concat(x),{token:e});f(s),console.log("Teacher fetched:",s)}catch(e){console.error("Error fetching teacher:",e),v((null==e?void 0:e.message)||"Failed to fetch teacher details")}finally{j(!1)}},formatDate=e=>{if(!e)return"Not provided";let s=new Date(e);return s.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};return N?(0,t.jsx)("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,t.jsx)("p",{className:"mt-3 text-muted",children:"Loading teacher details..."})]})}):p?(0,t.jsx)("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,t.jsx)("h5",{className:"alert-heading",children:"Error Loading Teacher"}),(0,t.jsx)("p",{children:p}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"d-flex gap-2 justify-content-center",children:[(0,t.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>window.location.reload(),children:"Try Again"}),(0,t.jsx)(m(),{href:"/school-admin/teachers",className:"btn btn-secondary",children:"Back to Teachers"})]})]})})}):b?(0,t.jsxs)("div",{className:"min-vh-100 bg-light",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-bottom",children:(0,t.jsx)("div",{className:"container-fluid py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsx)(m(),{href:"/school-admin/teachers",className:"btn btn-outline-secondary",children:(0,t.jsx)(l.Z,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"h3 mb-0 fw-bold text-dark",children:[(0,t.jsx)("i",{className:"fas fa-user me-2 text-primary"}),"Teacher Details"]}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"View teacher information and profile"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(m(),{href:"/school-admin/teachers/".concat(b.id,"/edit"),className:"btn btn-primary",children:[(0,t.jsx)(c.Z,{size:18,className:"me-2"}),"Edit Teacher"]})})]})})}),(0,t.jsx)("div",{className:"container-fluid py-4",children:(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsx)("div",{className:"col-lg-4",children:(0,t.jsx)("div",{className:"card border-0 shadow",children:(0,t.jsxs)("div",{className:"card-body text-center p-4",children:[(0,t.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"100px",height:"100px"},children:(0,t.jsx)("span",{className:"text-primary fw-bold",style:{fontSize:"2rem"},children:(e=b.firstName,s=b.lastName,"".concat((null==e?void 0:e.charAt(0))||"").concat((null==s?void 0:s.charAt(0))||"").toUpperCase())})}),(0,t.jsxs)("h4",{className:"mb-1",children:[b.firstName," ",b.lastName]}),(0,t.jsx)("p",{className:"text-muted mb-3",children:b.designation||"Teacher"}),(a=b.status,(0,t.jsx)("span",{className:{active:"badge bg-success",inactive:"badge bg-secondary",pending:"badge bg-warning",suspended:"badge bg-danger"}[a],children:a})),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,t.jsx)(i.Z,{size:16,className:"text-muted me-2"}),(0,t.jsx)("span",{className:"small",children:b.email})]}),b.mobile&&(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,t.jsx)(n.Z,{size:16,className:"text-muted me-2"}),(0,t.jsx)("span",{className:"small",children:b.mobile})]}),b.department&&(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,t.jsx)(d.Z,{size:16,className:"text-muted me-2"}),(0,t.jsx)("span",{className:"small",children:b.department})]})]})]})})}),(0,t.jsxs)("div",{className:"col-lg-8",children:[(0,t.jsxs)("div",{className:"card border-0 shadow",children:[(0,t.jsx)("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsx)("h5",{className:"mb-0 fw-bold",children:"Personal Information"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Full Name"}),(0,t.jsxs)("p",{className:"mb-0",children:[b.firstName," ",b.lastName]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Email Address"}),(0,t.jsx)("p",{className:"mb-0",children:b.email})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Mobile Number"}),(0,t.jsx)("p",{className:"mb-0",children:b.mobile||"Not provided"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Date of Birth"}),(0,t.jsx)("p",{className:"mb-0",children:formatDate(b.dateOfBirth)})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Address"}),(0,t.jsx)("p",{className:"mb-0",children:b.address||"Not provided"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"City"}),(0,t.jsx)("p",{className:"mb-0",children:b.city||"Not provided"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"State"}),(0,t.jsx)("p",{className:"mb-0",children:b.state||"Not provided"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Country"}),(0,t.jsx)("p",{className:"mb-0",children:b.country||"Not provided"})]})]})]})})]}),(0,t.jsxs)("div",{className:"card border-0 shadow mt-4",children:[(0,t.jsx)("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsx)("h5",{className:"mb-0 fw-bold",children:"Professional Information"})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Employee ID"}),(0,t.jsx)("p",{className:"mb-0",children:b.id})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Department"}),(0,t.jsx)("p",{className:"mb-0",children:b.department||"Not assigned"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Designation"}),(0,t.jsx)("p",{className:"mb-0",children:b.designation||"Teacher"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Qualification"}),(0,t.jsx)("p",{className:"mb-0",children:b.qualification||"Not provided"})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Experience"}),(0,t.jsx)("p",{className:"mb-0",children:b.experienceYears?"".concat(b.experienceYears," years"):"Not provided"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Specialization"}),(0,t.jsx)("p",{className:"mb-0",children:b.specialization||"Not provided"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Joining Date"}),(0,t.jsx)("p",{className:"mb-0",children:formatDate(b.joiningDate)})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Salary"}),(0,t.jsx)("p",{className:"mb-0",children:b.salary?"â‚¹".concat(b.salary.toLocaleString()):"Not disclosed"})]})]})]}),b.subjects&&b.subjects.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Subjects"}),(0,t.jsx)("div",{className:"d-flex flex-wrap gap-2",children:b.subjects.map((e,s)=>(0,t.jsx)("span",{className:"badge bg-primary",children:e},s))})]}),b.emergencyContact&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Emergency Contact"}),(0,t.jsx)("p",{className:"mb-0",children:b.emergencyContact})]})]})]}),(0,t.jsxs)("div",{className:"card border-0 shadow mt-4",children:[(0,t.jsx)("div",{className:"card-header bg-white border-0 py-3",children:(0,t.jsx)("h5",{className:"mb-0 fw-bold",children:"System Information"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Created At"}),(0,t.jsx)("p",{className:"mb-0",children:formatDate(b.createdAt)})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-semibold text-muted",children:"Last Updated"}),(0,t.jsx)("p",{className:"mb-0",children:formatDate(b.updatedAt)})]})})]})})]})]})]})})]}):(0,t.jsx)("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h5",{children:"Teacher not found"}),(0,t.jsx)("p",{className:"text-muted",children:"The requested teacher could not be found."}),(0,t.jsx)(m(),{href:"/school-admin/teachers",className:"btn btn-primary",children:"Back to Teachers"})]})})}},6454:function(e,s,a){"use strict";a.d(s,{CT:function(){return t},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let t="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,s,a){super(s),this.status=e,this.message=s,this.data=a,this.name="ApiError"}};async function apiRequest(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:a,params:r,headers:l,...c}=s,i="".concat(t).concat(e);if(r){let e=new URLSearchParams(Object.entries(r).reduce((e,s)=>{let[a,t]=s;return null!=t&&(e[a]=String(t)),e},{})).toString();e&&(i+="?".concat(e))}let n={"Content-Type":"application/json",...l};a&&(n.Authorization="Bearer ".concat(a));try{let e=await fetch(i,{...c,headers:n}),s=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,s.message||"Request failed with status ".concat(e.status),s);return s}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,s){return apiRequest(e,{...s,method:"GET"})}async function apiPost(e,s,a){return apiRequest(e,{...a,method:"POST",body:s?JSON.stringify(s):void 0})}async function apiPut(e,s,a){return apiRequest(e,{...a,method:"PUT",body:s?JSON.stringify(s):void 0})}async function apiPatch(e,s,a){return apiRequest(e,{...a,method:"PATCH",body:s?JSON.stringify(s):void 0})}async function apiDelete(e,s){return apiRequest(e,{...s,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},4033:function(e,s,a){e.exports=a(94)}},function(e){e.O(0,[1176,2971,2472,1744],function(){return e(e.s=9890)}),_N_E=e.O()}]);