(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9273],{2898:function(e,a,s){"use strict";s.d(a,{Z:function(){return createLucideIcon}});var t=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,a)=>{let s=(0,t.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:o,children:i,...c},d)=>(0,t.createElement)("svg",{ref:d,...n,width:r,height:r,stroke:s,strokeWidth:o?24*Number(l)/Number(r):l,className:`lucide lucide-${toKebabCase(e)}`,...c},[...a.map(([e,a])=>(0,t.createElement)(e,a)),...(Array.isArray(i)?i:[i])||[]]));return s.displayName=`${e}`,s}},3067:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9865:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},8203:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},2442:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6224:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},7216:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9670:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1295:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6142:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2741:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},4280:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},2851:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},7972:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(2898);let n=(0,t.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4161:function(e,a,s){Promise.resolve().then(s.bind(s,18))},18:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return AddStudentPage}});var t=s(7437),n=s(2265),r=s(3067),l=s(7972),o=s(1295),i=s(2741),c=s(8203),d=s(7216),u=s(9670),m=s(4280),h=s(2442),p=s(6224),g=s(6142),x=s(9865),f=s(2851),b=s(1396),j=s.n(b),N=s(439),v=s(6454),w=s(1376);function AddStudentPage(){let[e,a]=(0,n.useState)({firstName:"",lastName:"",email:"",mobile:"",password:"",dateOfBirth:"",address:"",city:"",state:"Uttar Pradesh",country:"India",postalCode:"",classId:"",schoolId:"",enrollNumber:"",parentName:"",parentPhone:"",parentEmail:"",emergencyContact:"",previousSchool:"",gender:"other"}),[s,b]=(0,n.useState)({}),[y,C]=(0,n.useState)(!1),[k,S]=(0,n.useState)([]),[P,I]=(0,n.useState)(!0),[E,Z]=(0,n.useState)(!1),[M,A]=(0,n.useState)(!1),[D,B]=(0,n.useState)(null);(0,n.useEffect)(()=>{let fetchClasses=async()=>{try{let e=localStorage.getItem("token"),s=localStorage.getItem("user"),t=s?JSON.parse(s):null,n=null==t?void 0:t.schoolId;console.log("\uD83D\uDD0D Debug Info:",{userRaw:s,user:t,schoolId:n}),n&&a(e=>({...e,schoolId:String(n)}));let r=await fetch("".concat(v.CT,"/classes"),{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();S(e),console.log("Fetched classes:",e)}else console.error("Failed to fetch classes")}catch(e){console.error("Error fetching classes:",e)}finally{I(!1)}};fetchClasses()},[]);let handleInputChange=e=>{let{name:t,value:n}=e.target;if(a(e=>({...e,[t]:n})),s[t]&&b(e=>({...e,[t]:""})),"password"===t){let e=(0,w.uo)(n);B(e)}},handleCopyPassword=async()=>{if(e.password)try{await navigator.clipboard.writeText(e.password),A(!0),setTimeout(()=>A(!1),2e3)}catch(e){console.error("Failed to copy password:",e)}},validateForm=()=>{let a={};if(e.firstName.trim()||(a.firstName="First name is required"),e.lastName.trim()||(a.lastName="Last name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email is invalid"):a.email="Email is required",e.password){let s=(0,w.uo)(e.password);s.isValid||(a.password=s.errors.join(", "))}else a.password="Password is required";return e.mobile&&!/^\d{10}$/.test(e.mobile)&&(a.mobile="Mobile number must be 10 digits"),e.enrollNumber.trim()||(a.enrollNumber="Enrollment number is required"),e.classId||(a.classId="Please select a class"),e.state&&"Choose..."!==e.state||(a.state="Please select a valid state"),b(a),0===Object.keys(a).length},handleSubmit=async s=>{if(s.preventDefault(),validateForm()){C(!0);try{let s=localStorage.getItem("token");if(!s)throw Error("Authentication token not found. Please login again.");console.log("=== Add Student Debug ==="),console.log("Form Data:",e),console.log("Token available:",!!s);let t=e.schoolId;if(!t){let e=localStorage.getItem("user"),a=e?JSON.parse(e):null;t=null==a?void 0:a.schoolId,console.log("⚠️ SchoolId not in formData, fetched from localStorage:",t)}if(!t)throw Error("School ID not found. Please login again.");(0,N.QP)("Adding Student","Please wait while we add the student...");let n={firstName:e.firstName,lastName:e.lastName,email:e.email,mobile:e.mobile||null,password:e.password,dateOfBirth:e.dateOfBirth?new Date(e.dateOfBirth):null,gender:e.gender||"other",address:e.address||null,city:e.city||null,state:e.state||null,country:e.country,postalCode:e.postalCode||null,classId:e.classId?parseInt(e.classId):null,schoolId:parseInt(String(t)),enrollNumber:e.enrollNumber||null,parentName:e.parentName||null,parentPhone:e.parentPhone||null,parentEmail:e.parentEmail||null,emergencyContact:e.emergencyContact||null,previousSchool:e.previousSchool||null};console.log("Student Data (formatted):",n),console.log("✅ SchoolId type:",typeof n.schoolId,"Value:",n.schoolId);let r=await fetch("".concat(v.CT,"/students"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(n)});if(console.log("Response status:",r.status),console.log("Response ok:",r.ok),!r.ok){let e=await r.text();console.error("API Error:",e),(0,N.$q)();let a="An error occurred while adding the student. Please try again.";try{let s=JSON.parse(e);s.message&&(a=s.message).includes("Enrollment number already exists")&&b({enrollNumber:"This enrollment number already exists in the selected class"})}catch(s){a=e}throw Error(a)}let l=await r.json();console.log("Student created successfully:",l),(0,N.$q)(),await (0,N.s$)("Student Added Successfully! \uD83C\uDF89",'Student "'.concat(e.firstName," ").concat(e.lastName,'" has been added successfully to the school.'));let o=e.schoolId;a({firstName:"",lastName:"",email:"",mobile:"",password:"",dateOfBirth:"",address:"",city:"",state:"Uttar Pradesh",country:"India",postalCode:"",classId:"",schoolId:o,enrollNumber:"",parentName:"",parentPhone:"",parentEmail:"",emergencyContact:"",previousSchool:"",gender:"other"}),b({}),B(null)}catch(e){console.error("Error adding student:",e),(0,N.$q)(),await (0,N.x2)("Failed to Add Student",e.message||"An error occurred while adding the student. Please try again.")}finally{C(!1)}}};return(0,t.jsxs)("div",{className:"min-vh-100 bg-light",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-bottom",children:(0,t.jsx)("div",{className:"container-fluid py-3",children:(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,t.jsx)(j(),{href:"/school-admin/dashboard",className:"btn btn-outline-secondary",children:(0,t.jsx)(r.Z,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"h3 mb-0 fw-bold text-dark",children:[(0,t.jsx)("i",{className:"fas fa-user-plus me-2 text-primary"}),"Add New Student"]}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"Enroll a new student in the school"})]})]})})}),(0,t.jsx)("div",{className:"container-fluid py-4",children:(0,t.jsx)("div",{className:"row justify-content-center",children:(0,t.jsx)("div",{className:"col-lg-10 col-xl-8",children:(0,t.jsx)("div",{className:"card border-0 shadow",children:(0,t.jsx)("div",{className:"card-body p-4 p-lg-5",children:(0,t.jsxs)("form",{onSubmit:handleSubmit,children:[(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:(0,t.jsx)(l.Z,{size:24,className:"text-primary"})}),(0,t.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Personal Information"})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["First Name ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"firstName",value:e.firstName,onChange:handleInputChange,className:"form-control form-control-lg ".concat(s.firstName?"is-invalid":""),placeholder:"Enter first name"}),s.firstName&&(0,t.jsx)("div",{className:"invalid-feedback",children:s.firstName})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Last Name ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"lastName",value:e.lastName,onChange:handleInputChange,className:"form-control form-control-lg ".concat(s.lastName?"is-invalid":""),placeholder:"Enter last name"}),s.lastName&&(0,t.jsx)("div",{className:"invalid-feedback",children:s.lastName})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Email Address ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(o.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"email",name:"email",value:e.email,onChange:handleInputChange,className:"form-control border-start-0 ".concat(s.email?"is-invalid":""),placeholder:"Enter email address"}),s.email&&(0,t.jsx)("div",{className:"invalid-feedback",children:s.email})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Mobile Number"}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(i.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"tel",name:"mobile",value:e.mobile,onChange:handleInputChange,className:"form-control border-start-0 ".concat(s.mobile?"is-invalid":""),placeholder:"Enter mobile number"}),s.mobile&&(0,t.jsx)("div",{className:"invalid-feedback",children:s.mobile})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Date of Birth"}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(c.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"date",name:"dateOfBirth",value:e.dateOfBirth,onChange:handleInputChange,className:"form-control border-start-0"})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Gender"}),(0,t.jsxs)("select",{name:"gender",value:e.gender,onChange:handleInputChange,className:"form-select form-select-lg",children:[(0,t.jsx)("option",{value:"male",children:"Male"}),(0,t.jsx)("option",{value:"female",children:"Female"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{className:"col-md-12",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Previous School"}),(0,t.jsx)("input",{type:"text",name:"previousSchool",value:e.previousSchool,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter previous school name (if any)"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Password ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("input",{type:E?"text":"password",name:"password",value:e.password,onChange:handleInputChange,className:"form-control ".concat(s.password?"is-invalid":""),placeholder:"Enter or generate password"}),(0,t.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>Z(!E),title:E?"Hide password":"Show password",children:E?(0,t.jsx)(d.Z,{size:18}):(0,t.jsx)(u.Z,{size:18})}),(0,t.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{let e=(0,w.G$)(12);a(a=>({...a,password:e}));let t=(0,w.uo)(e);B(t),Z(!0),s.password&&b(e=>({...e,password:""}))},title:"Generate secure password",children:(0,t.jsx)(m.Z,{size:18})}),e.password&&(0,t.jsx)("button",{type:"button",className:"btn btn-outline-success",onClick:handleCopyPassword,title:"Copy password",children:M?(0,t.jsx)(h.Z,{size:18}):(0,t.jsx)(p.Z,{size:18})})]}),D&&e.password&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,t.jsx)("small",{className:"text-muted",children:"Password Strength:"}),(0,t.jsx)("small",{className:"text-".concat((0,w.zU)(D.strength)," fw-bold"),children:(0,w.sO)(D.strength)})]}),(0,t.jsx)("div",{className:"progress",style:{height:"6px"},children:(0,t.jsx)("div",{className:"progress-bar bg-".concat((0,w.zU)(D.strength)),role:"progressbar",style:{width:"".concat(D.score,"%")}})})]}),s.password&&(0,t.jsx)("div",{className:"text-danger small mt-2",children:s.password}),(0,t.jsxs)("small",{className:"text-muted d-block mt-2",children:[(0,t.jsx)("i",{className:"fas fa-info-circle me-1"}),"Password must contain: uppercase, lowercase, number, and special character"]})]})]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"bg-info bg-opacity-10 p-3 rounded-circle",children:(0,t.jsx)(g.Z,{size:24,className:"text-info"})}),(0,t.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Address Information"})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Address"}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(g.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"text",name:"address",value:e.address,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"Enter full address"})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"City"}),(0,t.jsx)("input",{type:"text",name:"city",value:e.city,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter city"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["State ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsxs)("select",{name:"state",value:e.state,onChange:handleInputChange,className:"form-select form-select-lg ".concat(s.state?"is-invalid":""),children:[(0,t.jsx)("option",{value:"",children:"Choose State"}),(0,t.jsx)("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),(0,t.jsx)("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),(0,t.jsx)("option",{value:"Assam",children:"Assam"}),(0,t.jsx)("option",{value:"Bihar",children:"Bihar"}),(0,t.jsx)("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),(0,t.jsx)("option",{value:"Goa",children:"Goa"}),(0,t.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,t.jsx)("option",{value:"Haryana",children:"Haryana"}),(0,t.jsx)("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),(0,t.jsx)("option",{value:"Jharkhand",children:"Jharkhand"}),(0,t.jsx)("option",{value:"Karnataka",children:"Karnataka"}),(0,t.jsx)("option",{value:"Kerala",children:"Kerala"}),(0,t.jsx)("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),(0,t.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,t.jsx)("option",{value:"Manipur",children:"Manipur"}),(0,t.jsx)("option",{value:"Meghalaya",children:"Meghalaya"}),(0,t.jsx)("option",{value:"Mizoram",children:"Mizoram"}),(0,t.jsx)("option",{value:"Nagaland",children:"Nagaland"}),(0,t.jsx)("option",{value:"Odisha",children:"Odisha"}),(0,t.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,t.jsx)("option",{value:"Rajasthan",children:"Rajasthan"}),(0,t.jsx)("option",{value:"Sikkim",children:"Sikkim"}),(0,t.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),(0,t.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,t.jsx)("option",{value:"Tripura",children:"Tripura"}),(0,t.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,t.jsx)("option",{value:"Uttarakhand",children:"Uttarakhand"}),(0,t.jsx)("option",{value:"West Bengal",children:"West Bengal"}),(0,t.jsx)("option",{value:"Delhi",children:"Delhi"}),(0,t.jsx)("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),(0,t.jsx)("option",{value:"Ladakh",children:"Ladakh"}),(0,t.jsx)("option",{value:"Chandigarh",children:"Chandigarh"}),(0,t.jsx)("option",{value:"Daman and Diu",children:"Daman and Diu"}),(0,t.jsx)("option",{value:"Dadra and Nagar Haveli",children:"Dadra and Nagar Haveli"}),(0,t.jsx)("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),(0,t.jsx)("option",{value:"Lakshadweep",children:"Lakshadweep"}),(0,t.jsx)("option",{value:"Puducherry",children:"Puducherry"})]}),s.state&&(0,t.jsx)("div",{className:"invalid-feedback",children:s.state})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Country"}),(0,t.jsx)("input",{type:"text",name:"country",value:e.country,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter country"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Postal Code"}),(0,t.jsx)("input",{type:"text",name:"postalCode",value:e.postalCode,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter postal code"})]})]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:(0,t.jsx)(l.Z,{size:24,className:"text-success"})}),(0,t.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Parent/Guardian Information"})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Parent/Guardian Name"}),(0,t.jsx)("input",{type:"text",name:"parentName",value:e.parentName,onChange:handleInputChange,className:"form-control form-control-lg",placeholder:"Enter parent/guardian name"})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Parent Phone"}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(i.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"tel",name:"parentPhone",value:e.parentPhone,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"Enter parent phone number"})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Parent Email"}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(o.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"email",name:"parentEmail",value:e.parentEmail,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"Enter parent email address"})]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-semibold",children:"Emergency Contact"}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(i.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"tel",name:"emergencyContact",value:e.emergencyContact,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"Enter emergency contact number"})]})]})]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:(0,t.jsx)(x.Z,{size:24,className:"text-warning"})}),(0,t.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Academic Information"})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Enrollment Number ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(x.Z,{size:18,className:"text-muted"})}),(0,t.jsx)("input",{type:"text",name:"enrollNumber",value:e.enrollNumber,onChange:handleInputChange,className:"form-control border-start-0 ".concat(s.enrollNumber?"is-invalid":""),placeholder:"Enter enrollment number"}),s.enrollNumber&&(0,t.jsx)("div",{className:"invalid-feedback",children:s.enrollNumber})]}),(0,t.jsxs)("small",{className:"text-muted d-block mt-2",children:[(0,t.jsx)("i",{className:"fas fa-info-circle me-1"}),"Enrollment number must be unique within the selected class"]})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsxs)("label",{className:"form-label fw-semibold",children:["Assign to Class ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsxs)("div",{className:"input-group input-group-lg",children:[(0,t.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,t.jsx)(x.Z,{size:18,className:"text-muted"})}),(0,t.jsxs)("select",{name:"classId",value:e.classId,onChange:handleInputChange,disabled:P,className:"form-select border-start-0 ".concat(s.classId?"is-invalid":""),children:[(0,t.jsx)("option",{value:"",children:P?"Loading classes...":"Select a class"}),k.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," - Grade ",e.grade," ",e.section?"(Section ".concat(e.section,")"):""]},e.id))]}),s.classId&&(0,t.jsx)("div",{className:"invalid-feedback",children:s.classId})]}),!P&&0===k.length&&(0,t.jsx)("small",{className:"text-muted",children:"No classes found. Please create a class first."})]})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-3 justify-content-end pt-4 border-top",children:[(0,t.jsxs)(j(),{href:"/school-admin/dashboard",className:"btn btn-secondary btn-lg px-5",children:[(0,t.jsx)("i",{className:"fas fa-times me-2"}),"Cancel"]}),(0,t.jsx)("button",{type:"submit",disabled:y,className:"btn btn-lg px-5 rounded-pill fw-bold",style:{background:y?"linear-gradient(135deg, #6c757d 0%, #495057 100%)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"white",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)",transition:"all 0.3s ease",minWidth:"180px"},children:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Adding Student..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Z,{size:20,className:"me-2"}),"Add Student"]})})]})]})})})})})})]})}},6454:function(e,a,s){"use strict";s.d(a,{CT:function(){return t},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let t="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,a,s){super(a),this.status=e,this.message=a,this.data=s,this.name="ApiError"}};async function apiRequest(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:s,params:n,headers:r,...l}=a,o="".concat(t).concat(e);if(n){let e=new URLSearchParams(Object.entries(n).reduce((e,a)=>{let[s,t]=a;return null!=t&&(e[s]=String(t)),e},{})).toString();e&&(o+="?".concat(e))}let i={"Content-Type":"application/json",...r};s&&(i.Authorization="Bearer ".concat(s));try{let e=await fetch(o,{...l,headers:i}),a=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,a.message||"Request failed with status ".concat(e.status),a);return a}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,a){return apiRequest(e,{...a,method:"GET"})}async function apiPost(e,a,s){return apiRequest(e,{...s,method:"POST",body:a?JSON.stringify(a):void 0})}async function apiPut(e,a,s){return apiRequest(e,{...s,method:"PUT",body:a?JSON.stringify(a):void 0})}async function apiPatch(e,a,s){return apiRequest(e,{...s,method:"PATCH",body:a?JSON.stringify(a):void 0})}async function apiDelete(e,a){return apiRequest(e,{...a,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},1376:function(e,a,s){"use strict";s.d(a,{G$:function(){return generateSecurePassword},GB:function(){return validatePasswordComprehensive},sO:function(){return getStrengthLabel},uo:function(){return validatePassword},zU:function(){return getStrengthColor}});let t={minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumber:!0,requireSpecial:!0};function validatePassword(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,s=[],n=0;return a.minLength&&e.length<a.minLength?s.push("Password must be at least ".concat(a.minLength," characters long")):n+=20,a.requireUppercase&&!/[A-Z]/.test(e)?s.push("Password must contain at least one uppercase letter"):/[A-Z]/.test(e)&&(n+=20),a.requireLowercase&&!/[a-z]/.test(e)?s.push("Password must contain at least one lowercase letter"):/[a-z]/.test(e)&&(n+=20),a.requireNumber&&!/[0-9]/.test(e)?s.push("Password must contain at least one number"):/[0-9]/.test(e)&&(n+=20),a.requireSpecial&&!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)?s.push("Password must contain at least one special character (!@#$%^&*...)"):/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)&&(n+=20),e.length>=12&&(n+=10),e.length>=16&&(n+=10),{isValid:0===s.length,errors:s,strength:n<40?"weak":n<60?"medium":n<80?"strong":"very-strong",score:Math.min(n,100)}}function passwordsMatch(e,a){return e===a}function getStrengthColor(e){switch(e){case"weak":return"danger";case"medium":return"warning";case"strong":return"info";case"very-strong":return"success";default:return"secondary"}}function getStrengthLabel(e){switch(e){case"weak":return"Weak \uD83D\uDE1F";case"medium":return"Medium \uD83D\uDE10";case"strong":return"Strong \uD83D\uDE42";case"very-strong":return"Very Strong \uD83D\uDE03";default:return""}}let n=["password","12345678","123456789","qwerty","abc123","password123","admin","letmein","welcome","monkey"];function isCommonPassword(e){return n.includes(e.toLowerCase())}function validatePasswordComprehensive(e,a,s){let t=[],n=validatePassword(e,s);return t.push(...n.errors),passwordsMatch(e,a)||t.push("Passwords do not match"),isCommonPassword(e)&&t.push("This password is too common. Please choose a more unique password"),{isValid:0===t.length,errors:t}}function generateSecurePassword(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="abcdefghijklmnopqrstuvwxyz",t="0123456789",n="!@#$%^&*()_+-=[]{}|;:,.<>?",r="";r+=a[Math.floor(Math.random()*a.length)]+s[Math.floor(Math.random()*s.length)]+t[Math.floor(Math.random()*t.length)]+n[Math.floor(Math.random()*n.length)];let l=a+s+t+n;for(let a=r.length;a<e;a++)r+=l[Math.floor(Math.random()*l.length)];return r.split("").sort(()=>Math.random()-.5).join("")}},439:function(e,a,s){"use strict";s.d(a,{$q:function(){return closeLoading},QP:function(){return showLoading},i0:function(){return showConfirm},s$:function(){return showSuccess},x2:function(){return showError}});var t=s(6820),n=s.n(t);let r={confirmButtonText:"OK",cancelButtonText:"Cancel",showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!1,customClass:{popup:"sweet-alert-popup",confirmButton:"btn btn-primary sweet-alert-confirm-btn",cancelButton:"btn btn-secondary sweet-alert-cancel-btn",closeButton:"sweet-alert-close-btn"}},showSuccess=(e,a)=>n().fire({icon:"success",title:e,text:a,confirmButtonText:"OK",confirmButtonColor:"#28a745",showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0,timer:3e3,timerProgressBar:!0}),showError=(e,a)=>n().fire({icon:"error",title:e,text:a,confirmButtonText:"OK",confirmButtonColor:"#dc3545",showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0}),showConfirm=(e,a,s,t)=>n().fire({icon:"question",title:e,text:a,confirmButtonText:s||"Yes",cancelButtonText:t||"No",showCancelButton:!0,showCloseButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#dc3545",allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0}),showLoading=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...",a=arguments.length>1?arguments[1]:void 0;return n().fire({...r,title:e,text:a,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{n().showLoading()}})},closeLoading=()=>{n().close()}}},function(e){e.O(0,[9461,1176,2971,2472,1744],function(){return e(e.s=4161)}),_N_E=e.O()}]);