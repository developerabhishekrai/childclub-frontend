(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{2898:function(e,t,a){"use strict";a.d(t,{Z:function(){return createLucideIcon}});var s=a(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let a=(0,s.forwardRef)(({color:a="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:c,children:i,...o},d)=>(0,s.createElement)("svg",{ref:d,...n,width:l,height:l,stroke:a,strokeWidth:c?24*Number(r)/Number(l):r,className:`lucide lucide-${toKebabCase(e)}`,...o},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...(Array.isArray(i)?i:[i])||[]]));return a.displayName=`${e}`,a}},3067:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9865:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},2482:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9617:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9883:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6245:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},1827:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5367:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2898);let n=(0,s.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1548:function(e,t,a){Promise.resolve().then(a.bind(a,1088))},1088:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return SubjectsPage}});var s=a(7437),n=a(2265),l=a(3067),r=a(9865),c=a(9883),i=a(1827),o=a(2482),d=a(9617),u=a(5367),m=a(6245),h=a(1396),b=a.n(h),p=a(6454),x=a(439);let g={name:"",code:"",description:"",gradeLevel:"",totalMarks:"100",passingMarks:"33",isElective:!1,color:"#3B82F6",icon:"\uD83D\uDCDA",status:"active"},f=["All Grades","Nursery","LKG","UKG","1","2","3","4","5","6","7","8","9","10","11","12"],v=["\uD83D\uDCDA","\uD83D\uDCD6","✏️","\uD83D\uDD2C","\uD83E\uDDEE","\uD83C\uDF0D","\uD83C\uDFA8","\uD83C\uDFB5","⚽","\uD83D\uDCBB","\uD83D\uDD2D","\uD83D\uDCD0","\uD83E\uDDEA","\uD83D\uDCDD","\uD83C\uDFAD","\uD83C\uDFC3"],j=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"];function SubjectsPage(){let[e,t]=(0,n.useState)([]),[a,h]=(0,n.useState)([]),[N,y]=(0,n.useState)(!0),[k,w]=(0,n.useState)(""),[C,S]=(0,n.useState)("all"),[D,E]=(0,n.useState)("all"),[M,B]=(0,n.useState)(!1),[L,A]=(0,n.useState)("create"),[Z,T]=(0,n.useState)(null),[F,I]=(0,n.useState)(g),[P,q]=(0,n.useState)({}),[O,z]=(0,n.useState)(!1),fetchSubjects=async()=>{try{y(!0);let e=(0,p.hV)();if(!e){await (0,x.x2)("Authentication Required","Please login again.");return}let a=await (0,p.R1)("/subjects",{token:e});t(a),h(a)}catch(e){console.error("Error fetching subjects:",e),await (0,x.x2)("Failed to Load Subjects",(null==e?void 0:e.message)||"Unable to fetch subjects.")}finally{y(!1)}};(0,n.useEffect)(()=>{fetchSubjects()},[]),(0,n.useEffect)(()=>{let t=[...e];k&&(t=t.filter(e=>e.name.toLowerCase().includes(k.toLowerCase())||e.code.toLowerCase().includes(k.toLowerCase()))),"all"!==C&&(t=t.filter(e=>e.status===C)),"all"!==D&&(t="All Grades"===D?t.filter(e=>!e.gradeLevel||"All Grades"===e.gradeLevel):t.filter(e=>e.gradeLevel===D)),h(t)},[e,k,C,D]);let handleCreateClick=()=>{A("create"),T(null),I(g),q({}),B(!0)},handleEditClick=e=>{var t,a;A("edit"),T(e),I({name:e.name,code:e.code,description:e.description||"",gradeLevel:e.gradeLevel||"",totalMarks:(null===(t=e.totalMarks)||void 0===t?void 0:t.toString())||"100",passingMarks:(null===(a=e.passingMarks)||void 0===a?void 0:a.toString())||"33",isElective:!!e.isElective,color:e.color||"#3B82F6",icon:e.icon||"\uD83D\uDCDA",status:e.status}),q({}),B(!0)},handleInputChange=e=>{let{name:t,value:a,type:s}=e.target,n=e.target.checked;I(e=>({...e,[t]:"checkbox"===s?n:a})),P[t]&&q(e=>({...e,[t]:""}))},validateForm=()=>{let e={};if(F.name.trim()||(e.name="Subject name is required"),F.code.trim()||(e.code="Subject code is required"),F.totalMarks&&0>=parseInt(F.totalMarks)&&(e.totalMarks="Total marks must be greater than 0"),F.passingMarks&&F.totalMarks){let t=parseInt(F.passingMarks),a=parseInt(F.totalMarks);t>a&&(e.passingMarks="Passing marks cannot be greater than total marks")}return q(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm()){z(!0);try{let e=(0,p.hV)();if(!e){await (0,x.x2)("Authentication Error","Please login again.");return}let t={name:F.name,code:F.code,description:F.description||void 0,gradeLevel:F.gradeLevel||void 0,totalMarks:F.totalMarks?parseInt(F.totalMarks):void 0,passingMarks:F.passingMarks?parseInt(F.passingMarks):void 0,isElective:F.isElective,color:F.color,icon:F.icon,status:F.status};(0,x.QP)("create"===L?"Creating Subject":"Updating Subject","Please wait..."),"create"===L?(await (0,p.sg)("/subjects",t,{token:e}),(0,x.$q)(),await (0,x.s$)("Subject Created!","".concat(F.name," has been added successfully."))):Z&&(await (0,p.pE)("/subjects/".concat(Z.id),t,{token:e}),(0,x.$q)(),await (0,x.s$)("Subject Updated!","".concat(F.name," has been updated successfully."))),B(!1),fetchSubjects()}catch(e){(0,x.$q)(),console.error("Error saving subject:",e),await (0,x.x2)("Failed to Save Subject",(null==e?void 0:e.message)||"Unable to save subject. Please try again.")}finally{z(!1)}}},handleDelete=async e=>{let t=await (0,x.i0)("Delete Subject?",'Are you sure you want to delete "'.concat(e.name,'"? This action cannot be undone.'));if(t)try{let t=(0,p.hV)();if(!t){await (0,x.x2)("Authentication Required","Please login again.");return}(0,x.QP)("Deleting Subject","Please wait..."),await (0,p.QW)("/subjects/".concat(e.id),{token:t}),(0,x.$q)(),await (0,x.s$)("Subject Deleted!","".concat(e.name," has been deleted successfully.")),fetchSubjects()}catch(e){(0,x.$q)(),console.error("Error deleting subject:",e),await (0,x.x2)("Failed to Delete Subject",(null==e?void 0:e.message)||"Unable to delete subject.")}};return N?(0,s.jsx)("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-3 text-muted",children:"Loading subjects..."})]})}):(0,s.jsxs)("div",{className:"min-vh-100 bg-light",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-bottom",children:(0,s.jsx)("div",{className:"container-fluid py-4",children:(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,s.jsx)(b(),{href:"/school-admin/dashboard",className:"btn btn-outline-secondary",children:(0,s.jsx)(l.Z,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"h3 mb-0 fw-bold text-dark",children:[(0,s.jsx)(r.Z,{size:28,className:"me-2 text-primary"}),"Subjects Management"]}),(0,s.jsx)("p",{className:"text-muted mb-0",children:"Create and manage subjects for your school"})]})]}),(0,s.jsxs)("button",{onClick:handleCreateClick,className:"btn btn-primary btn-lg d-flex align-items-center gap-2",children:[(0,s.jsx)(c.Z,{size:20}),"Add New Subject"]})]})})}),(0,s.jsxs)("div",{className:"container-fluid py-4",children:[(0,s.jsx)("div",{className:"card border-0 shadow-sm mb-4",children:(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{className:"row g-3",children:[(0,s.jsx)("div",{className:"col-md-4",children:(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text bg-light border-0",children:(0,s.jsx)(i.Z,{size:18,className:"text-muted"})}),(0,s.jsx)("input",{type:"text",className:"form-control border-0",placeholder:"Search subjects...",value:k,onChange:e=>w(e.target.value)})]})}),(0,s.jsx)("div",{className:"col-md-3",children:(0,s.jsxs)("select",{className:"form-select",value:C,onChange:e=>S(e.target.value),children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"})]})}),(0,s.jsx)("div",{className:"col-md-3",children:(0,s.jsxs)("select",{className:"form-select",value:D,onChange:e=>E(e.target.value),children:[(0,s.jsx)("option",{value:"all",children:"All Grades"}),f.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("div",{className:"col-md-2",children:(0,s.jsxs)("div",{className:"d-flex align-items-center gap-2 h-100",children:[(0,s.jsx)(o.Z,{size:18,className:"text-muted"}),(0,s.jsxs)("span",{className:"text-muted",children:[a.length," subject",1!==a.length?"s":""]})]})})]})})}),0===a.length?(0,s.jsx)("div",{className:"card border-0 shadow-sm",children:(0,s.jsxs)("div",{className:"card-body text-center py-5",children:[(0,s.jsx)(r.Z,{size:64,className:"text-muted mb-3"}),(0,s.jsx)("h4",{className:"text-muted",children:"No subjects found"}),(0,s.jsx)("p",{className:"text-muted",children:k||"all"!==C||"all"!==D?"Try adjusting your filters":"Get started by creating your first subject"}),!k&&"all"===C&&"all"===D&&(0,s.jsxs)("button",{onClick:handleCreateClick,className:"btn btn-primary mt-3",children:[(0,s.jsx)(c.Z,{size:18,className:"me-2"}),"Create First Subject"]})]})}):(0,s.jsx)("div",{className:"row g-4",children:a.map(e=>(0,s.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6",children:(0,s.jsx)("div",{className:"card border-0 shadow-sm h-100",style:{borderLeft:"4px solid ".concat(e.color||"#3B82F6"),transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-5px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.12)"},children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[(0,s.jsx)("div",{className:"p-3 rounded-circle",style:{backgroundColor:"".concat(e.color||"#3B82F6","20"),fontSize:"2rem"},children:e.icon||"\uD83D\uDCDA"}),(0,s.jsx)("span",{className:"badge ".concat("active"===e.status?"bg-success":"bg-secondary"),children:e.status})]}),(0,s.jsx)("h5",{className:"fw-bold mb-2",children:e.name}),(0,s.jsxs)("p",{className:"text-muted small mb-2",children:["Code: ",e.code]}),e.description&&(0,s.jsx)("p",{className:"text-muted small mb-3",style:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.description}),(0,s.jsxs)("div",{className:"d-flex flex-wrap gap-2 mb-3",children:[e.gradeLevel&&(0,s.jsxs)("span",{className:"badge bg-light text-dark",children:["Grade: ",e.gradeLevel]}),e.isElective?(0,s.jsx)("span",{className:"badge bg-warning text-dark",children:"Elective"}):(0,s.jsx)("span",{className:"badge bg-info text-dark",children:"Core"}),e.totalMarks&&(0,s.jsxs)("span",{className:"badge bg-light text-dark",children:["Marks: ",e.totalMarks]})]}),(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>handleEditClick(e),className:"btn btn-sm btn-outline-primary flex-grow-1",children:[(0,s.jsx)(d.Z,{size:14,className:"me-1"}),"Edit"]}),(0,s.jsx)("button",{onClick:()=>handleDelete(e),className:"btn btn-sm btn-outline-danger",children:(0,s.jsx)(u.Z,{size:14})})]})]})})},e.id))})]}),M&&(0,s.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>B(!1),children:(0,s.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"modal-content border-0 shadow-lg",children:[(0,s.jsxs)("div",{className:"modal-header border-0 pb-0",children:[(0,s.jsx)("h5",{className:"modal-title fw-bold",children:"create"===L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{size:24,className:"me-2 text-primary"}),"Create New Subject"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{size:24,className:"me-2 text-warning"}),"Edit Subject"]})}),(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:()=>B(!1)})]}),(0,s.jsxs)("form",{onSubmit:handleSubmit,children:[(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsxs)("div",{className:"row g-3",children:[(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsxs)("label",{className:"form-label fw-semibold",children:["Subject Name ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"name",value:F.name,onChange:handleInputChange,className:"form-control ".concat(P.name?"is-invalid":""),placeholder:"e.g., Mathematics"}),P.name&&(0,s.jsx)("div",{className:"invalid-feedback",children:P.name})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsxs)("label",{className:"form-label fw-semibold",children:["Subject Code ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)("input",{type:"text",name:"code",value:F.code,onChange:handleInputChange,className:"form-control ".concat(P.code?"is-invalid":""),placeholder:"e.g., MATH101"}),P.code&&(0,s.jsx)("div",{className:"invalid-feedback",children:P.code})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Grade Level"}),(0,s.jsxs)("select",{name:"gradeLevel",value:F.gradeLevel,onChange:handleInputChange,className:"form-select",children:[(0,s.jsx)("option",{value:"",children:"All Grades"}),f.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Status"}),(0,s.jsxs)("select",{name:"status",value:F.status,onChange:handleInputChange,className:"form-select",children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,s.jsxs)("div",{className:"col-md-4",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Total Marks"}),(0,s.jsx)("input",{type:"number",name:"totalMarks",value:F.totalMarks,onChange:handleInputChange,className:"form-control ".concat(P.totalMarks?"is-invalid":""),placeholder:"100",min:"0"}),P.totalMarks&&(0,s.jsx)("div",{className:"invalid-feedback",children:P.totalMarks})]}),(0,s.jsxs)("div",{className:"col-md-4",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Passing Marks"}),(0,s.jsx)("input",{type:"number",name:"passingMarks",value:F.passingMarks,onChange:handleInputChange,className:"form-control ".concat(P.passingMarks?"is-invalid":""),placeholder:"33",min:"0"}),P.passingMarks&&(0,s.jsx)("div",{className:"invalid-feedback",children:P.passingMarks})]}),(0,s.jsxs)("div",{className:"col-md-4",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Type"}),(0,s.jsxs)("div",{className:"form-check form-switch mt-2",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",name:"isElective",checked:F.isElective,onChange:handleInputChange,id:"isElective"}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"isElective",children:F.isElective?"Elective":"Core"})]})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Icon"}),(0,s.jsx)("div",{className:"d-flex flex-wrap gap-2",children:v.map(e=>(0,s.jsx)("button",{type:"button",className:"btn ".concat(F.icon===e?"btn-primary":"btn-outline-secondary"),onClick:()=>I(t=>({...t,icon:e})),style:{fontSize:"1.5rem",padding:"0.5rem 1rem"},children:e},e))})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Color"}),(0,s.jsx)("div",{className:"d-flex flex-wrap gap-2",children:j.map(e=>(0,s.jsx)("button",{type:"button",className:"btn p-0 border",onClick:()=>I(t=>({...t,color:e})),style:{width:"40px",height:"40px",backgroundColor:e,border:F.color===e?"3px solid #000":"1px solid #ddd",borderRadius:"8px"}},e))})]}),(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Description"}),(0,s.jsx)("textarea",{name:"description",value:F.description,onChange:handleInputChange,className:"form-control",rows:3,placeholder:"Brief description of the subject..."})]})]})}),(0,s.jsxs)("div",{className:"modal-footer border-0",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>B(!1),disabled:O,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{size:18,className:"me-2"}),"create"===L?"Create Subject":"Update Subject"]})})]})]})]})})})]})}},6454:function(e,t,a){"use strict";a.d(t,{CT:function(){return s},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let s="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,t,a){super(t),this.status=e,this.message=t,this.data=a,this.name="ApiError"}};async function apiRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:a,params:n,headers:l,...r}=t,c="".concat(s).concat(e);if(n){let e=new URLSearchParams(Object.entries(n).reduce((e,t)=>{let[a,s]=t;return null!=s&&(e[a]=String(s)),e},{})).toString();e&&(c+="?".concat(e))}let i={"Content-Type":"application/json",...l};a&&(i.Authorization="Bearer ".concat(a));try{let e=await fetch(c,{...r,headers:i}),t=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,t.message||"Request failed with status ".concat(e.status),t);return t}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,t){return apiRequest(e,{...t,method:"GET"})}async function apiPost(e,t,a){return apiRequest(e,{...a,method:"POST",body:t?JSON.stringify(t):void 0})}async function apiPut(e,t,a){return apiRequest(e,{...a,method:"PUT",body:t?JSON.stringify(t):void 0})}async function apiPatch(e,t,a){return apiRequest(e,{...a,method:"PATCH",body:t?JSON.stringify(t):void 0})}async function apiDelete(e,t){return apiRequest(e,{...t,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},439:function(e,t,a){"use strict";a.d(t,{$q:function(){return closeLoading},QP:function(){return showLoading},i0:function(){return showConfirm},s$:function(){return showSuccess},x2:function(){return showError}});var s=a(6820),n=a.n(s);let l={confirmButtonText:"OK",cancelButtonText:"Cancel",showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!1,customClass:{popup:"sweet-alert-popup",confirmButton:"btn btn-primary sweet-alert-confirm-btn",cancelButton:"btn btn-secondary sweet-alert-cancel-btn",closeButton:"sweet-alert-close-btn"}},showSuccess=(e,t)=>n().fire({icon:"success",title:e,text:t,confirmButtonText:"OK",confirmButtonColor:"#28a745",showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0,timer:3e3,timerProgressBar:!0}),showError=(e,t)=>n().fire({icon:"error",title:e,text:t,confirmButtonText:"OK",confirmButtonColor:"#dc3545",showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0}),showConfirm=(e,t,a,s)=>n().fire({icon:"question",title:e,text:t,confirmButtonText:a||"Yes",cancelButtonText:s||"No",showCancelButton:!0,showCloseButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#dc3545",allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0}),showLoading=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...",t=arguments.length>1?arguments[1]:void 0;return n().fire({...l,title:e,text:t,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{n().showLoading()}})},closeLoading=()=>{n().close()}}},function(e){e.O(0,[9461,1176,2971,2472,1744],function(){return e(e.s=1548)}),_N_E=e.O()}]);