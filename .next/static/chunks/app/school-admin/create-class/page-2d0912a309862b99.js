(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5268],{2898:function(e,a,s){"use strict";s.d(a,{Z:function(){return createLucideIcon}});var r=s(2265),t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,a)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:c,children:o,...i},d)=>(0,r.createElement)("svg",{ref:d,...t,width:l,height:l,stroke:s,strokeWidth:c?24*Number(n)/Number(l):n,className:`lucide lucide-${toKebabCase(e)}`,...i},[...a.map(([e,a])=>(0,r.createElement)(e,a)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${e}`,s}},3067:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2505:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},9865:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},8203:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},6141:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6637:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},3344:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]])},9409:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2851:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},5340:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6654:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},5750:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});var r=s(2898);let t=(0,r.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2549:function(e,a,s){Promise.resolve().then(s.bind(s,1225))},1225:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return CreateClassPage}});var r=s(7437),t=s(2265),l=s(3067),n=s(3344),c=s(2851),o=s(9865),i=s(2898);let d=(0,i.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var u=s(5340),m=s(6654),h=s(5750),x=s(2505),g=s(8203),b=s(6637),p=s(6141),f=s(9409),y=s(1396),j=s.n(y),v=s(6454),N=s(4033),w=s(439);function CreateClassPage(){let e=(0,N.useRouter)(),[a,s]=(0,t.useState)({grade:"",section:"",academicYear:"",maxStudents:"",description:"",subjects:[],syllabus:"",rules:"",classTeacherId:"",startDate:"",endDate:"",schedule:"",roomNumber:""}),[i,y]=(0,t.useState)({}),[k,C]=(0,t.useState)(!1),[S,T]=(0,t.useState)([]),[Z,I]=(0,t.useState)(!0),[P,E]=(0,t.useState)(""),[B,z]=(0,t.useState)([]),[M,A]=(0,t.useState)(!0),fetchSubjects=async()=>{try{A(!0);let e=(0,v.hV)();if(!e){console.error("No authentication token found for subjects"),A(!1);return}console.log("Making API call to /subjects...");let a=await (0,v.R1)("/subjects",{token:e});if(console.log("Subjects API Response:",a),Array.isArray(a)){let e=a.filter(e=>"active"===e.status).map(e=>e.name);console.log("Active subjects:",e),z(e)}else console.error("Invalid response format:",a),z([])}catch(e){console.error("Error fetching subjects:",e),z(["Mathematics","Physics","Chemistry","Biology","English","Hindi","History","Geography","Civics","Economics","Computer Science","Physical Education","Art","Music","Sanskrit"])}finally{A(!1)}};(0,t.useEffect)(()=>{let fetchTeachers=async()=>{try{let e=(0,v.hV)();if(!e){console.error("No token found"),I(!1);return}let a=await (0,v.R1)("/teachers",{token:e});T(a),console.log("Teachers fetched:",a)}catch(e){console.error("Error fetching teachers:",e)}finally{I(!1)}};fetchTeachers(),fetchSubjects()},[]);let handleInputChange=e=>{let{name:a,value:r}=e.target;s(e=>({...e,[a]:r})),i[a]&&y(e=>({...e,[a]:""}))},handleSubjectChange=e=>{s(a=>({...a,subjects:a.subjects.includes(e)?a.subjects.filter(a=>a!==e):[...a.subjects,e]}))},validateForm=()=>{let e={};return a.grade.trim()||(e.grade="Grade/Level is required"),a.section.trim()||(e.section="Section is required"),a.academicYear.trim()||(e.academicYear="Academic year is required"),a.maxStudents.trim()||(e.maxStudents="Maximum students is required"),0===a.subjects.length&&(e.subjects="At least one subject is required"),y(e),0===Object.keys(e).length},handleSubmit=async s=>{if(s.preventDefault(),validateForm()){C(!0),E("");try{let s=(0,v.hV)();if(!s){E("Authentication required. Please login again.");return}let r=(0,v.vF)();if(!r){let e=localStorage.getItem("user");if(e)try{r=JSON.parse(e),console.log("✅ Got user from direct localStorage read")}catch(e){console.error("Failed to parse user from localStorage:",e)}}if(console.log("=== Create Class Debug ==="),console.log("Logged in user:",r),console.log("School ID:",null==r?void 0:r.schoolId),!r)throw Error("User not logged in. Please login again.");if(!r.schoolId)throw Error("School ID not found. Please login again.");let t="".concat(a.grade,"-").concat(a.section),l={name:t,grade:a.grade,section:a.section,academicYear:a.academicYear,maxStudents:parseInt(a.maxStudents),description:a.description||null,subjects:a.subjects,syllabus:a.syllabus||null,rules:a.rules||null,classTeacherId:a.classTeacherId?parseInt(a.classTeacherId):null,startDate:a.startDate||null,endDate:a.endDate||null,schedule:a.schedule||null,roomNumber:a.roomNumber||null,schoolId:r.schoolId};console.log("Creating class:",l),(0,w.QP)("Creating Class","Please wait while we create your new class...");let n=await (0,v.sg)("/classes",l,{token:s});console.log("Class created successfully:",n),(0,w.$q)(),await (0,w.s$)("Class Created Successfully! \uD83C\uDF89",'Class "'.concat(t,'" has been created successfully. You can now assign students and teachers to this class.')),e.push("/school-admin/classes")}catch(a){console.error("Error creating class:",a),(0,w.$q)();let e=(null==a?void 0:a.message)||"Error creating class. Please try again.";E(e),await (0,w.x2)("Failed to Create Class",e)}finally{C(!1)}}};return(0,r.jsxs)("div",{className:"min-vh-100",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh"},children:[(0,r.jsx)("div",{className:"bg-white shadow-lg",style:{background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255,255,255,0.2)"},children:(0,r.jsx)("div",{className:"container-fluid py-4",children:(0,r.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,r.jsx)(j(),{href:"/school-admin/classes",className:"btn btn-outline-primary btn-lg rounded-pill px-4",style:{background:"rgba(13, 110, 253, 0.1)",border:"2px solid rgba(13, 110, 253, 0.3)",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(13, 110, 253, 0.2)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(13, 110, 253, 0.1)",e.currentTarget.style.transform="translateY(0)"},children:(0,r.jsx)(l.Z,{size:20})}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,r.jsx)("div",{className:"p-3 rounded-circle",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"},children:(0,r.jsx)(n.Z,{size:32,className:"text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"h2 mb-1 fw-bold",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Create New Class"}),(0,r.jsxs)("p",{className:"text-muted mb-0 fs-5",children:[(0,r.jsx)(c.Z,{size:16,className:"me-2 text-warning"}),"Set up a new academic section with modern tools"]})]})]})]})})}),(0,r.jsx)("div",{className:"container-fluid py-5",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("div",{className:"col-lg-10 col-xl-8",children:(0,r.jsx)("div",{className:"card border-0 shadow-lg",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.1)"},children:(0,r.jsx)("div",{className:"card-body p-5",children:(0,r.jsxs)("form",{onSubmit:handleSubmit,children:[(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"p-3 rounded-circle shadow-sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)"},children:(0,r.jsx)(o.Z,{size:28,className:"text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-1 fw-bold",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Basic Class Information"}),(0,r.jsxs)("p",{className:"text-muted mb-0 small",children:[(0,r.jsx)(d,{size:14,className:"me-1 text-success"}),"Essential details for your new class"]})]})]}),(0,r.jsxs)("div",{className:"row g-4",children:[a.grade&&a.section&&(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"d-flex align-items-center p-4 rounded-3 shadow-sm border-0",style:{background:"linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)",border:"2px solid rgba(102, 126, 234, 0.2) !important",backdropFilter:"blur(10px)"},children:[(0,r.jsx)("div",{className:"p-2 rounded-circle me-3",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},children:(0,r.jsx)(u.Z,{size:20,className:"text-white"})}),(0,r.jsxs)("div",{className:"flex-grow-1",children:[(0,r.jsx)("strong",{className:"text-dark mb-1 d-block",children:"Class Preview"}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted",children:"Class will be created as:"}),(0,r.jsxs)("span",{className:"badge px-3 py-2 fs-6 fw-bold",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px",boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)"},children:[a.grade,"-",a.section]})]})]})]})}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold mb-2",children:[(0,r.jsx)(n.Z,{size:16,className:"me-2 text-primary"}),"Grade/Level ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsxs)("select",{name:"grade",value:a.grade,onChange:handleInputChange,className:"form-select form-select-lg rounded-3 border-2 ".concat(i.grade?"is-invalid border-danger":"border-primary"),style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onFocus:e=>{e.target.style.boxShadow="0 8px 32px rgba(102, 126, 234, 0.3)",e.target.style.transform="translateY(-2px)"},onBlur:e=>{e.target.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.1)",e.target.style.transform="translateY(0)"},children:[(0,r.jsx)("option",{value:"",children:"Select Grade/Level"}),[{value:"Nursery",label:"Nursery (Pre-Primary)"},{value:"LKG",label:"LKG (Pre-Primary)"},{value:"UKG",label:"UKG (Pre-Primary)"},{value:"1",label:"Class 1 (Primary)"},{value:"2",label:"Class 2 (Primary)"},{value:"3",label:"Class 3 (Primary)"},{value:"4",label:"Class 4 (Primary)"},{value:"5",label:"Class 5 (Primary)"},{value:"6",label:"Class 6 (Middle)"},{value:"7",label:"Class 7 (Middle)"},{value:"8",label:"Class 8 (Middle)"},{value:"9",label:"Class 9 (Secondary)"},{value:"10",label:"Class 10 (Secondary)"},{value:"11",label:"Class 11 (Senior Secondary)"},{value:"12",label:"Class 12 (Senior Secondary)"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]}),i.grade&&(0,r.jsxs)("div",{className:"invalid-feedback d-flex align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"⚠️"}),i.grade]}),(0,r.jsxs)("small",{className:"text-muted d-flex align-items-center mt-2",children:[(0,r.jsx)(m.Z,{size:12,className:"me-2"}),"Select the grade/level: Pre-Primary, Primary, Middle, Secondary, or Senior Secondary"]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold mb-2",children:[(0,r.jsx)(h.Z,{size:16,className:"me-2 text-success"}),"Section ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsxs)("select",{name:"section",value:a.section,onChange:handleInputChange,className:"form-select form-select-lg rounded-3 border-2 ".concat(i.section?"is-invalid border-danger":"border-success"),style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onFocus:e=>{e.target.style.boxShadow="0 8px 32px rgba(25, 135, 84, 0.3)",e.target.style.transform="translateY(-2px)"},onBlur:e=>{e.target.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.1)",e.target.style.transform="translateY(0)"},children:[(0,r.jsx)("option",{value:"",children:"Select Section"}),["A","B","C","D","E","F","G","H"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),i.section&&(0,r.jsxs)("div",{className:"invalid-feedback d-flex align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"⚠️"}),i.section]}),(0,r.jsxs)("small",{className:"text-muted d-flex align-items-center mt-2",children:[(0,r.jsx)(x.Z,{size:12,className:"me-2"}),"Select section for this grade"]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold mb-2",children:[(0,r.jsx)(g.Z,{size:16,className:"me-2 text-warning"}),"Academic Year ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"academicYear",value:a.academicYear,onChange:handleInputChange,className:"form-control form-control-lg rounded-3 border-2 ".concat(i.academicYear?"is-invalid border-danger":"border-warning"),placeholder:"e.g., 2024-2025",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onFocus:e=>{e.target.style.boxShadow="0 8px 32px rgba(255, 193, 7, 0.3)",e.target.style.transform="translateY(-2px)"},onBlur:e=>{e.target.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.1)",e.target.style.transform="translateY(0)"}}),i.academicYear&&(0,r.jsxs)("div",{className:"invalid-feedback d-flex align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"⚠️"}),i.academicYear]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold mb-2",children:[(0,r.jsx)(h.Z,{size:16,className:"me-2 text-info"}),"Maximum Students ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)("input",{type:"number",name:"maxStudents",value:a.maxStudents,onChange:handleInputChange,className:"form-control form-control-lg rounded-3 border-2 ".concat(i.maxStudents?"is-invalid border-danger":"border-info"),placeholder:"e.g., 40",min:"1",max:"100",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},onFocus:e=>{e.target.style.boxShadow="0 8px 32px rgba(13, 202, 240, 0.3)",e.target.style.transform="translateY(-2px)"},onBlur:e=>{e.target.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.1)",e.target.style.transform="translateY(0)"}}),i.maxStudents&&(0,r.jsxs)("div",{className:"invalid-feedback d-flex align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"⚠️"}),i.maxStudents]})]}),(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold mb-2",children:[(0,r.jsx)(b.Z,{size:16,className:"me-2 text-secondary"}),"Description"]}),(0,r.jsx)("textarea",{name:"description",value:a.description,onChange:handleInputChange,className:"form-control form-control-lg rounded-3 border-2 border-secondary",rows:4,placeholder:"Brief description of the class...",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",resize:"vertical"},onFocus:e=>{e.target.style.boxShadow="0 8px 32px rgba(108, 117, 125, 0.3)",e.target.style.transform="translateY(-2px)"},onBlur:e=>{e.target.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.1)",e.target.style.transform="translateY(0)"}})]})]})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,r.jsx)("div",{className:"bg-primary bg-opacity-10 p-3 rounded-circle",children:(0,r.jsx)(g.Z,{size:24,className:"text-primary"})}),(0,r.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Academic Calendar"})]}),(0,r.jsxs)("div",{className:"row g-4",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label fw-semibold",children:"Start Date"}),(0,r.jsxs)("div",{className:"input-group input-group-lg",children:[(0,r.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,r.jsx)(g.Z,{size:18,className:"text-muted"})}),(0,r.jsx)("input",{type:"date",name:"startDate",value:a.startDate,onChange:handleInputChange,className:"form-control border-start-0"})]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label fw-semibold",children:"End Date"}),(0,r.jsxs)("div",{className:"input-group input-group-lg",children:[(0,r.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,r.jsx)(g.Z,{size:18,className:"text-muted"})}),(0,r.jsx)("input",{type:"date",name:"endDate",value:a.endDate,onChange:handleInputChange,className:"form-control border-start-0"})]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label fw-semibold",children:"Class Schedule"}),(0,r.jsxs)("div",{className:"input-group input-group-lg",children:[(0,r.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,r.jsx)(p.Z,{size:18,className:"text-muted"})}),(0,r.jsx)("input",{type:"text",name:"schedule",value:a.schedule,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"e.g., Monday to Friday, 8:00 AM - 2:00 PM"})]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label fw-semibold",children:"Room Number"}),(0,r.jsxs)("div",{className:"input-group input-group-lg",children:[(0,r.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,r.jsx)(o.Z,{size:18,className:"text-muted"})}),(0,r.jsx)("input",{type:"text",name:"roomNumber",value:a.roomNumber,onChange:handleInputChange,className:"form-control border-start-0",placeholder:"e.g., Room 101, Block A"})]})]})]})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,r.jsx)("div",{className:"bg-warning bg-opacity-10 p-3 rounded-circle",children:(0,r.jsx)(b.Z,{size:24,className:"text-warning"})}),(0,r.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Subjects"})]}),(0,r.jsx)("div",{className:"row g-4",children:(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsxs)("label",{className:"form-label fw-semibold",children:["Select Subjects ",(0,r.jsx)("span",{className:"text-danger",children:"*"}),M&&(0,r.jsx)("span",{className:"spinner-border spinner-border-sm ms-2",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]}),M?(0,r.jsxs)("div",{className:"border rounded p-4 text-center",children:[(0,r.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading subjects..."})}),(0,r.jsx)("p",{className:"mt-2 mb-0 text-muted",children:"Loading subjects..."})]}):0===B.length?(0,r.jsxs)("div",{className:"alert alert-info",children:[(0,r.jsx)("i",{className:"fas fa-info-circle me-2"}),"No subjects available. Please create subjects first from the"," ",(0,r.jsx)(j(),{href:"/school-admin/subjects",className:"text-primary fw-bold",children:"Subjects"})," ","page."]}):(0,r.jsxs)("div",{className:"border rounded p-4",children:[(0,r.jsx)("div",{className:"row g-3",children:B.map(e=>(0,r.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,r.jsxs)("div",{className:"form-check",children:[(0,r.jsx)("input",{className:"form-check-input",type:"checkbox",id:"subject-".concat(e),checked:a.subjects.includes(e),onChange:()=>handleSubjectChange(e)}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"subject-".concat(e),children:e})]})},e))}),a.subjects.length>0&&(0,r.jsx)("div",{className:"mt-3 p-2 bg-success bg-opacity-10 rounded",children:(0,r.jsxs)("small",{className:"text-success",children:[(0,r.jsx)("i",{className:"fas fa-check-circle me-1"}),a.subjects.length," subject(s) selected"]})})]}),i.subjects&&(0,r.jsx)("div",{className:"text-danger small mt-2",children:i.subjects})]})})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,r.jsx)("div",{className:"bg-success bg-opacity-10 p-3 rounded-circle",children:(0,r.jsx)(h.Z,{size:24,className:"text-success"})}),(0,r.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Class Teacher Assignment"})]}),(0,r.jsx)("div",{className:"row g-4",children:(0,r.jsxs)("div",{className:"col-md-12",children:[(0,r.jsx)("label",{className:"form-label fw-semibold",children:"Assign Class Teacher"}),Z?(0,r.jsxs)("div",{className:"form-select form-select-lg d-flex align-items-center justify-content-center",children:[(0,r.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Loading teachers..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("select",{name:"classTeacherId",value:a.classTeacherId,onChange:handleInputChange,className:"form-select form-select-lg",children:[(0,r.jsx)("option",{value:"",children:"Select a teacher (optional)"}),0===S.length?(0,r.jsx)("option",{disabled:!0,children:"No teachers available"}):S.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName," (",e.employeeId,")",e.qualification&&" - ".concat(e.qualification),e.department&&" | ".concat(e.department)]},e.id))]}),0===S.length&&!Z&&(0,r.jsxs)("div",{className:"text-muted small mt-2",children:[(0,r.jsx)("i",{className:"fas fa-info-circle me-1"}),"No teachers found. Please add teachers first from the Teachers section."]})]})]})})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-4",children:[(0,r.jsx)("div",{className:"bg-secondary bg-opacity-10 p-3 rounded-circle",children:(0,r.jsx)(f.Z,{size:24,className:"text-secondary"})}),(0,r.jsx)("h3",{className:"mb-0 fw-bold text-dark",children:"Additional Information"})]}),(0,r.jsxs)("div",{className:"row g-4",children:[(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsx)("label",{className:"form-label fw-semibold",children:"Syllabus"}),(0,r.jsx)("textarea",{name:"syllabus",value:a.syllabus,onChange:handleInputChange,className:"form-control form-control-lg",rows:3,placeholder:"Class syllabus and curriculum details..."})]}),(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsx)("label",{className:"form-label fw-semibold",children:"Class Rules & Guidelines"}),(0,r.jsx)("textarea",{name:"rules",value:a.rules,onChange:handleInputChange,className:"form-control form-control-lg",rows:3,placeholder:"Class rules, behavior guidelines, and policies..."})]})]})]}),P&&(0,r.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[(0,r.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),(0,r.jsx)("div",{children:P})]}),(0,r.jsxs)("div",{className:"d-flex gap-3 justify-content-end pt-4 border-top",children:[(0,r.jsxs)(j(),{href:"/school-admin/classes",className:"btn btn-outline-secondary btn-lg px-4 rounded-pill",style:{border:"2px solid #6c757d",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#6c757d",e.currentTarget.style.color="white",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 32px rgba(108, 117, 125, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="#6c757d",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)(l.Z,{size:20,className:"me-2"}),"Cancel"]}),(0,r.jsx)("button",{type:"submit",disabled:k,className:"btn btn-lg px-5 rounded-pill fw-bold",style:{background:k?"linear-gradient(135deg, #6c757d 0%, #495057 100%)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"white",boxShadow:"0 8px 32px rgba(102, 126, 234, 0.3)",transition:"all 0.3s ease",minWidth:"180px"},onMouseEnter:e=>{k||(e.currentTarget.style.transform="translateY(-3px)",e.currentTarget.style.boxShadow="0 12px 48px rgba(102, 126, 234, 0.4)")},onMouseLeave:e=>{k||(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 8px 32px rgba(102, 126, 234, 0.3)")},children:k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creating Class..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{size:20,className:"me-2"}),"Create Class"]})})]})]})})})})})})]})}},6454:function(e,a,s){"use strict";s.d(a,{CT:function(){return r},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let r="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,a,s){super(a),this.status=e,this.message=a,this.data=s,this.name="ApiError"}};async function apiRequest(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:s,params:t,headers:l,...n}=a,c="".concat(r).concat(e);if(t){let e=new URLSearchParams(Object.entries(t).reduce((e,a)=>{let[s,r]=a;return null!=r&&(e[s]=String(r)),e},{})).toString();e&&(c+="?".concat(e))}let o={"Content-Type":"application/json",...l};s&&(o.Authorization="Bearer ".concat(s));try{let e=await fetch(c,{...n,headers:o}),a=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,a.message||"Request failed with status ".concat(e.status),a);return a}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,a){return apiRequest(e,{...a,method:"GET"})}async function apiPost(e,a,s){return apiRequest(e,{...s,method:"POST",body:a?JSON.stringify(a):void 0})}async function apiPut(e,a,s){return apiRequest(e,{...s,method:"PUT",body:a?JSON.stringify(a):void 0})}async function apiPatch(e,a,s){return apiRequest(e,{...s,method:"PATCH",body:a?JSON.stringify(a):void 0})}async function apiDelete(e,a){return apiRequest(e,{...a,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},439:function(e,a,s){"use strict";s.d(a,{$q:function(){return closeLoading},QP:function(){return showLoading},i0:function(){return showConfirm},s$:function(){return showSuccess},x2:function(){return showError}});var r=s(6820),t=s.n(r);let l={confirmButtonText:"OK",cancelButtonText:"Cancel",showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!1,customClass:{popup:"sweet-alert-popup",confirmButton:"btn btn-primary sweet-alert-confirm-btn",cancelButton:"btn btn-secondary sweet-alert-cancel-btn",closeButton:"sweet-alert-close-btn"}},showSuccess=(e,a)=>t().fire({icon:"success",title:e,text:a,confirmButtonText:"OK",confirmButtonColor:"#28a745",showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0,timer:3e3,timerProgressBar:!0}),showError=(e,a)=>t().fire({icon:"error",title:e,text:a,confirmButtonText:"OK",confirmButtonColor:"#dc3545",showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0}),showConfirm=(e,a,s,r)=>t().fire({icon:"question",title:e,text:a,confirmButtonText:s||"Yes",cancelButtonText:r||"No",showCancelButton:!0,showCloseButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#dc3545",allowOutsideClick:!0,allowEscapeKey:!0,buttonsStyling:!0}),showLoading=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Loading...",a=arguments.length>1?arguments[1]:void 0;return t().fire({...l,title:e,text:a,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{t().showLoading()}})},closeLoading=()=>{t().close()}},4033:function(e,a,s){e.exports=s(94)}},function(e){e.O(0,[9461,1176,2971,2472,1744],function(){return e(e.s=2549)}),_N_E=e.O()}]);