(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2511],{2898:function(e,s,a){"use strict";a.d(s,{Z:function(){return createLucideIcon}});var t=a(2265),c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,s)=>{let a=(0,t.forwardRef)(({color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:n,children:i,...d},o)=>(0,t.createElement)("svg",{ref:o,...c,width:r,height:r,stroke:a,strokeWidth:n?24*Number(l)/Number(r):l,className:`lucide lucide-${toKebabCase(e)}`,...d},[...s.map(([e,s])=>(0,t.createElement)(e,s)),...(Array.isArray(i)?i:[i])||[]]));return a.displayName=`${e}`,a}},3067:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9865:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},8203:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},6141:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5817:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9617:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},5367:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5750:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var t=a(2898);let c=(0,t.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},165:function(e,s,a){Promise.resolve().then(a.bind(a,5876))},5876:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return ClassDetailsPage}});var t=a(7437),c=a(2265),r=a(4033),l=a(1396),n=a.n(l),i=a(3067),d=a(5817),o=a(9617),m=a(5367),h=a(5750),u=a(9865),x=a(8203),j=a(6141),N=a(6454);function ClassDetailsPage(){let e=(0,r.useParams)(),s=(0,r.useRouter)(),a=e.id,[l,b]=(0,c.useState)(null),[y,p]=(0,c.useState)(!0),[v,f]=(0,c.useState)("");(0,c.useEffect)(()=>{let fetchClassDetails=async()=>{try{p(!0);let e=(0,N.hV)();if(!e)throw Error("Authentication required");let s=await (0,N.R1)("/classes/".concat(a),{token:e});b(s)}catch(e){console.error("Error fetching class details:",e),f((null==e?void 0:e.message)||"Failed to fetch class details")}finally{p(!1)}};a&&fetchClassDetails()},[a]);let handleDelete=async()=>{if(confirm("Are you sure you want to delete this class?"))try{let e=(0,N.hV)();await (0,N.QW)("/classes/".concat(a),{token:e}),alert("Class deleted successfully!"),s.push("/school-admin/classes")}catch(e){console.error("Error deleting class:",e),alert((null==e?void 0:e.message)||"Failed to delete class")}};return y?(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsxs)("div",{className:"text-center py-5",children:[(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,t.jsx)("p",{className:"mt-3 text-muted",children:"Loading class details..."})]})}):v||!l?(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,t.jsx)("h5",{className:"alert-heading",children:"Error"}),(0,t.jsx)("p",{children:v||"Class not found"}),(0,t.jsx)("hr",{}),(0,t.jsx)(n(),{href:"/school-admin/classes",className:"btn btn-outline-danger",children:"Back to Classes"})]})}):(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)(n(),{href:"/school-admin/classes",className:"btn btn-outline-secondary me-3",children:(0,t.jsx)(i.Z,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"h3 mb-0",children:l.name}),(0,t.jsxs)("p",{className:"text-muted mb-0",children:["Grade ",l.grade," - Section ",l.section]})]})]}),(0,t.jsxs)("div",{className:"d-flex gap-2",children:[(0,t.jsxs)("button",{className:"btn btn-outline-primary",children:[(0,t.jsx)(d.Z,{size:16,className:"me-2"}),"Export"]}),(0,t.jsxs)(n(),{href:"/school-admin/classes/".concat(a,"/edit"),className:"btn btn-warning",children:[(0,t.jsx)(o.Z,{size:16,className:"me-2"}),"Edit"]}),(0,t.jsxs)("button",{className:"btn btn-danger",onClick:handleDelete,children:[(0,t.jsx)(m.Z,{size:16,className:"me-2"}),"Delete"]})]})]}),(0,t.jsxs)("div",{className:"row g-4 mb-4",children:[(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:(0,t.jsx)(h.Z,{size:24,className:"text-primary"})}),(0,t.jsx)("h4",{className:"mb-1",children:l.currentStudents}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"Current Students"})]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"bg-success bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:(0,t.jsx)(u.Z,{size:24,className:"text-success"})}),(0,t.jsx)("h4",{className:"mb-1",children:l.maxStudents}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"Max Capacity"})]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"bg-info bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:(0,t.jsx)(x.Z,{size:24,className:"text-info"})}),(0,t.jsx)("h4",{className:"mb-1",children:l.academicYear||"N/A"}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"Academic Year"})]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"card border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"bg-warning bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:(0,t.jsx)(j.Z,{size:24,className:"text-warning"})}),(0,t.jsx)("h4",{className:"mb-1",children:(0,t.jsx)("span",{className:"badge ".concat("ACTIVE"===l.status?"bg-success":"bg-secondary"),children:l.status})}),(0,t.jsx)("p",{className:"text-muted mb-0",children:"Status"})]})})})]}),(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsxs)("div",{className:"col-lg-8",children:[(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"mb-0",children:"Basic Information"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"row g-3",children:[(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"text-muted small",children:"Class Name"}),(0,t.jsx)("p",{className:"fw-semibold mb-0",children:l.name})]}),(0,t.jsxs)("div",{className:"col-md-3",children:[(0,t.jsx)("label",{className:"text-muted small",children:"Grade"}),(0,t.jsx)("p",{className:"fw-semibold mb-0",children:l.grade})]}),(0,t.jsxs)("div",{className:"col-md-3",children:[(0,t.jsx)("label",{className:"text-muted small",children:"Section"}),(0,t.jsx)("p",{className:"fw-semibold mb-0",children:l.section})]}),(0,t.jsxs)("div",{className:"col-12",children:[(0,t.jsx)("label",{className:"text-muted small",children:"Description"}),(0,t.jsx)("p",{className:"mb-0",children:l.description||"No description provided"})]})]})})]}),(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"mb-0",children:"Subjects"})}),(0,t.jsx)("div",{className:"card-body",children:l.subjects?(0,t.jsx)("p",{className:"mb-0",children:Array.isArray(l.subjects)?l.subjects.join(", "):"object"==typeof l.subjects?Object.values(l.subjects).join(", "):l.subjects}):(0,t.jsx)("p",{className:"text-muted mb-0",children:"No subjects assigned"})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"mb-0",children:"Syllabus & Rules"})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"text-muted small",children:"Syllabus"}),(0,t.jsx)("p",{className:"mb-0",children:l.syllabus||"No syllabus information"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-muted small",children:"Rules"}),(0,t.jsx)("p",{className:"mb-0",children:l.rules||"No rules specified"})]})]})]})]}),(0,t.jsxs)("div",{className:"col-lg-4",children:[(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"mb-0",children:"Class Teacher"})}),(0,t.jsx)("div",{className:"card-body",children:l.classTeacher?(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3 mx-auto mb-3",style:{width:"60px"},children:(0,t.jsx)(h.Z,{size:24,className:"text-primary"})}),(0,t.jsxs)("h6",{className:"mb-0",children:[l.classTeacher.firstName," ",l.classTeacher.lastName]}),(0,t.jsx)("small",{className:"text-muted",children:"Class Teacher"})]}):(0,t.jsx)("p",{className:"text-muted text-center mb-0",children:"No teacher assigned"})})]}),(0,t.jsxs)("div",{className:"card mb-4",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"mb-0",children:"Schedule"})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,t.jsx)(x.Z,{size:16,className:"text-muted me-2"}),(0,t.jsx)("small",{className:"text-muted",children:"Start Date"})]}),(0,t.jsx)("p",{className:"mb-0",children:l.startDate?new Date(l.startDate).toLocaleDateString():"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,t.jsx)(x.Z,{size:16,className:"text-muted me-2"}),(0,t.jsx)("small",{className:"text-muted",children:"End Date"})]}),(0,t.jsx)("p",{className:"mb-0",children:l.endDate?new Date(l.endDate).toLocaleDateString():"Not set"})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsx)("h5",{className:"mb-0",children:"Capacity"})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,t.jsx)("span",{children:"Current Students"}),(0,t.jsx)("span",{className:"fw-bold",children:l.currentStudents})]}),(0,t.jsx)("div",{className:"progress mb-2",style:{height:"10px"},children:(0,t.jsx)("div",{className:"progress-bar",style:{width:"".concat(l.currentStudents/l.maxStudents*100,"%")}})}),(0,t.jsxs)("small",{className:"text-muted",children:[(l.currentStudents/l.maxStudents*100).toFixed(0),"% filled"]})]})]})]})]})]})}},6454:function(e,s,a){"use strict";a.d(s,{CT:function(){return t},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let t="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,s,a){super(s),this.status=e,this.message=s,this.data=a,this.name="ApiError"}};async function apiRequest(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:a,params:c,headers:r,...l}=s,n="".concat(t).concat(e);if(c){let e=new URLSearchParams(Object.entries(c).reduce((e,s)=>{let[a,t]=s;return null!=t&&(e[a]=String(t)),e},{})).toString();e&&(n+="?".concat(e))}let i={"Content-Type":"application/json",...r};a&&(i.Authorization="Bearer ".concat(a));try{let e=await fetch(n,{...l,headers:i}),s=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,s.message||"Request failed with status ".concat(e.status),s);return s}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,s){return apiRequest(e,{...s,method:"GET"})}async function apiPost(e,s,a){return apiRequest(e,{...a,method:"POST",body:s?JSON.stringify(s):void 0})}async function apiPut(e,s,a){return apiRequest(e,{...a,method:"PUT",body:s?JSON.stringify(s):void 0})}async function apiPatch(e,s,a){return apiRequest(e,{...a,method:"PATCH",body:s?JSON.stringify(s):void 0})}async function apiDelete(e,s){return apiRequest(e,{...s,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},4033:function(e,s,a){e.exports=a(94)}},function(e){e.O(0,[1176,2971,2472,1744],function(){return e(e.s=165)}),_N_E=e.O()}]);