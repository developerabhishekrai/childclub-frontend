(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5572],{4668:function(e,t,r){Promise.resolve().then(r.bind(r,7115))},7115:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return SuperAdminLogin}});var n=r(7437),s=r(2265),a=r(1396),o=r.n(a),i=r(4033),c=r(6454);function SuperAdminLogin(){let[e,t]=(0,s.useState)({email:"",password:""}),[r,a]=(0,s.useState)(!1),[l,u]=(0,s.useState)(""),d=(0,i.useRouter)(),handleChange=r=>{t({...e,[r.target.name]:r.target.value})},handleSubmit=async t=>{t.preventDefault(),a(!0),u("");try{let t=await fetch("".concat(c.CT,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password,role:"super_admin"})});if(t.ok){let e=await t.json();(0,c.mB)(e.access_token),(0,c.c7)(e.user),localStorage.setItem("userRole","super_admin"),d.push("/super-admin/dashboard")}else{let e=await t.json();u(e.message||"Login failed")}}catch(e){u("Network error. Please try again.")}finally{a(!1)}};return(0,n.jsx)("div",{className:"min-vh-100 bg-gradient-primary d-flex align-items-center",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row justify-content-center",children:(0,n.jsxs)("div",{className:"col-md-6 col-lg-4",children:[(0,n.jsxs)("div",{className:"text-center mb-4",children:[(0,n.jsx)("div",{className:"bg-danger rounded-circle d-inline-flex align-items-center justify-content-center mb-3",style:{width:"80px",height:"80px"},children:(0,n.jsx)("span",{className:"text-white fs-1",children:"\uD83D\uDC51"})}),(0,n.jsx)("h1",{className:"h2 fw-bold text-white",children:"Super Admin Portal"}),(0,n.jsx)("p",{className:"text-white-50",children:"Access the ultimate control center"})]}),(0,n.jsx)("div",{className:"card shadow-lg border-0",children:(0,n.jsxs)("div",{className:"card-body p-4",children:[l&&(0,n.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[l,(0,n.jsx)("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),(0,n.jsxs)("form",{onSubmit:handleSubmit,children:[(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"email",className:"form-label fw-semibold",children:"Email Address"}),(0,n.jsx)("input",{type:"email",className:"form-control form-control-lg",id:"email",name:"email",value:e.email,onChange:handleChange,placeholder:"Enter your email",required:!0})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"password",className:"form-label fw-semibold",children:"Password"}),(0,n.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"password",name:"password",value:e.password,onChange:handleChange,placeholder:"Enter your password",required:!0})]}),(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,n.jsxs)("div",{className:"form-check",children:[(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"rememberMe"}),(0,n.jsx)("label",{className:"form-check-label text-muted",htmlFor:"rememberMe",children:"Remember me"})]}),(0,n.jsx)(o(),{href:"/super-admin/forgot-password",className:"text-decoration-none text-danger",children:"Forgot password?"})]}),(0,n.jsx)("button",{type:"submit",className:"btn btn-danger btn-lg w-100 mb-3",disabled:r,children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Accessing Portal..."]}):"Access Super Admin Portal"})]}),(0,n.jsx)("div",{className:"alert alert-warning alert-sm mt-3 mb-0",children:(0,n.jsxs)("small",{className:"text-muted",children:[(0,n.jsx)("strong",{children:"\uD83D\uDD12 Security Notice:"})," This portal provides access to system-wide controls. Please ensure you're on a secure network."]})}),(0,n.jsx)("div",{className:"text-center mt-4",children:(0,n.jsx)(o(),{href:"/",className:"text-decoration-none text-muted",children:"â† Back to Home"})})]})})]})})})})}},6454:function(e,t,r){"use strict";r.d(t,{CT:function(){return n},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let n="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,t,r){super(t),this.status=e,this.message=t,this.data=r,this.name="ApiError"}};async function apiRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:r,params:s,headers:a,...o}=t,i="".concat(n).concat(e);if(s){let e=new URLSearchParams(Object.entries(s).reduce((e,t)=>{let[r,n]=t;return null!=n&&(e[r]=String(n)),e},{})).toString();e&&(i+="?".concat(e))}let c={"Content-Type":"application/json",...a};r&&(c.Authorization="Bearer ".concat(r));try{let e=await fetch(i,{...o,headers:c}),t=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,t.message||"Request failed with status ".concat(e.status),t);return t}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,t){return apiRequest(e,{...t,method:"GET"})}async function apiPost(e,t,r){return apiRequest(e,{...r,method:"POST",body:t?JSON.stringify(t):void 0})}async function apiPut(e,t,r){return apiRequest(e,{...r,method:"PUT",body:t?JSON.stringify(t):void 0})}async function apiPatch(e,t,r){return apiRequest(e,{...r,method:"PATCH",body:t?JSON.stringify(t):void 0})}async function apiDelete(e,t){return apiRequest(e,{...t,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[1176,2971,2472,1744],function(){return e(e.s=4668)}),_N_E=e.O()}]);