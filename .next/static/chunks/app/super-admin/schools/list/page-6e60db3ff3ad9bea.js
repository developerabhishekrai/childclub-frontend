(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4242],{2898:function(e,s,t){"use strict";t.d(s,{Z:function(){return createLucideIcon}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:c,children:i,...o},d)=>(0,a.createElement)("svg",{ref:d,...r,width:n,height:n,stroke:t,strokeWidth:c?24*Number(l)/Number(n):l,className:`lucide lucide-${toKebabCase(e)}`,...o},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...(Array.isArray(i)?i:[i])||[]]));return t.displayName=`${e}`,t}},3008:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6141:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9670:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8956:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},1295:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6142:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9617:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},2741:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9883:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1827:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5367:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2104:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(2898);let r=(0,a.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},3954:function(e,s,t){Promise.resolve().then(t.bind(t,1182))},1182:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return SuperAdminSchoolsList}});var a=t(7437),r=t(2265),n=t(6454),l=t(3008),c=t(6141),i=t(2104),o=t(9883),d=t(1827),h=t(2898);let u=(0,h.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var m=t(6142),p=t(2741),x=t(1295),j=t(8956),g=t(9670),v=t(9617),f=t(5367);function SuperAdminSchoolsList(){let[e,s]=(0,r.useState)([]),[t,h]=(0,r.useState)(!0),[y,N]=(0,r.useState)(""),[b,S]=(0,r.useState)("all"),[w,k]=(0,r.useState)("all"),[C,E]=(0,r.useState)(null),[T,A]=(0,r.useState)(null);r.useEffect(()=>{{let e=new URLSearchParams(window.location.search),s=e.get("status");s&&S(s)}},[]),r.useEffect(()=>{let e=(0,n.vF)();e&&A(e)},[]),r.useEffect(()=>{let e=document.createElement("script");return e.src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]);let[L,Z]=(0,r.useState)({totalSchools:0,pendingSchools:0,approvedSchools:0,rejectedSchools:0,suspendedSchools:0,totalStudents:0,totalTeachers:0,totalClasses:0});(0,r.useEffect)(()=>{let fetchData=async()=>{try{let e=await fetch("".concat(n.CT,"/schools"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){let t=await e.json(),a=t.data||t||[];s(a);let r=a.filter(e=>e.totalStudents>0),n=r.reduce((e,s)=>e+(s.totalStudents||0),0),l=r.reduce((e,s)=>e+(s.totalTeachers||0),0),c=r.reduce((e,s)=>e+(s.totalClasses||0),0),i=a.filter(e=>"pending"===e.status).length,o=a.filter(e=>"approved"===e.status).length,d=a.filter(e=>"rejected"===e.status).length,h=a.filter(e=>"suspended"===e.status).length;Z({totalSchools:r.length,pendingSchools:i,approvedSchools:o,rejectedSchools:d,suspendedSchools:h,totalStudents:n,totalTeachers:l,totalClasses:c})}else console.error("Failed to fetch schools data")}catch(e){console.error("Error fetching data:",e)}finally{h(!1)}};fetchData()},[]);let getBootstrapStatusClass=e=>{switch(e){case"approved":return"bg-success";case"pending":return"bg-warning";case"rejected":return"bg-danger";default:return"bg-secondary"}},getStatusIcon=e=>{switch(e){case"approved":return(0,a.jsx)(l.Z,{size:16});case"pending":default:return(0,a.jsx)(c.Z,{size:16});case"rejected":case"suspended":return(0,a.jsx)(i.Z,{size:16})}},getTypeLabel=e=>{switch(e){case"primary":return"Primary";case"secondary":return"Secondary";case"high_school":return"High School";case"higher_secondary":return"Higher Secondary";case"international":return"International";case"special_needs":return"Special Needs";default:return e}},D=e.filter(e=>{let s=e.name.toLowerCase().includes(y.toLowerCase())||e.city.toLowerCase().includes(y.toLowerCase())||e.state.toLowerCase().includes(y.toLowerCase()),t="all"===b||e.status===b,a="all"===w||e.type===w;return s&&t&&a}),refreshData=async()=>{try{let e=await fetch("".concat(n.CT,"/schools"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){let t=await e.json(),a=t.data||t||[];s(a);let r=a.filter(e=>e.totalStudents>0),n=r.reduce((e,s)=>e+(s.totalStudents||0),0),l=r.reduce((e,s)=>e+(s.totalTeachers||0),0),c=r.reduce((e,s)=>e+(s.totalClasses||0),0),i=a.filter(e=>"pending"===e.status).length,o=a.filter(e=>"approved"===e.status).length,d=a.filter(e=>"rejected"===e.status).length,h=a.filter(e=>"suspended"===e.status).length;Z({totalSchools:r.length,pendingSchools:i,approvedSchools:o,rejectedSchools:d,suspendedSchools:h,totalStudents:n,totalTeachers:l,totalClasses:c})}}catch(e){console.error("Error refreshing data:",e)}},handleApproveSchool=async e=>{E(e);try{let s=await fetch("".concat(n.CT,"/schools/").concat(e,"/approve"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({comments:"School approved by Super Admin"})});s.ok?(alert("School approved successfully!"),await refreshData()):alert("Failed to approve school")}catch(e){console.error("Error approving school:",e),alert("Error approving school")}finally{E(null)}},handleRejectSchool=async e=>{let s=prompt("Please enter rejection reason:");if(s){E(e);try{let t=await fetch("".concat(n.CT,"/schools/").concat(e,"/reject"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({reason:s})});t.ok?(alert("School rejected successfully!"),await refreshData()):alert("Failed to reject school")}catch(e){console.error("Error rejecting school:",e),alert("Error rejecting school")}finally{E(null)}}},handleSuspendSchool=async e=>{let s=prompt("Please enter suspension reason:");if(s){E(e);try{let t=await fetch("".concat(n.CT,"/schools/").concat(e,"/suspend"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({reason:s})});t.ok?(alert("School suspended successfully!"),await refreshData()):alert("Failed to suspend school")}catch(e){console.error("Error suspending school:",e),alert("Error suspending school")}finally{E(null)}}},handleDeleteSchool=async(e,s)=>{let t=confirm("⚠️ DELETE SCHOOL?\n\nSchool: ".concat(s,"\n\nWARNING: This will permanently delete:\n• All teachers\n• All students\n• All classes\n• All assignments\n• All school data\n\nThis action CANNOT be undone!\n\nClick OK to continue or Cancel to abort."));if(!t)return;let a=confirm('\uD83D\uDEA8 FINAL WARNING!\n\nYou are about to PERMANENTLY DELETE "'.concat(s,'"\n\nAre you absolutely sure?\n\nClick OK to DELETE or Cancel to abort.'));if(a){E(e);try{let t=await fetch("".concat(n.CT,"/schools/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok)alert('✅ School "'.concat(s,'" has been deleted successfully!')),await refreshData();else{let e=await t.json();alert("❌ Failed to delete school:\n".concat(e.message||"Unknown error"))}}catch(e){console.error("Error deleting school:",e),alert("❌ Network error while deleting school.\nPlease check your connection and try again.")}finally{E(null)}}};return t?(0,a.jsx)("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,a.jsx)("div",{className:"spinner-border text-primary",style:{width:"3rem",height:"3rem"},role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n  .hover-shadow:hover {\n    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n    transform: translateY(-2px);\n    transition: all 0.3s ease;\n  }\n  \n  .card {\n    transition: all 0.3s ease;\n  }\n"}),(0,a.jsxs)("div",{className:"min-vh-100 bg-light",children:[(0,a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-danger shadow-sm",children:(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsx)("div",{className:"navbar-brand d-flex align-items-center",children:(0,a.jsxs)("a",{href:"/super-admin/dashboard",className:"text-white text-decoration-none",children:[(0,a.jsx)("span",{className:"fs-2 me-2",children:"\uD83D\uDC51"}),(0,a.jsx)("span",{className:"fw-bold",children:"Super Admin Portal"})]})}),(0,a.jsx)("div",{className:"navbar-nav ms-auto",children:(0,a.jsxs)("div",{className:"nav-item dropdown",children:[(0,a.jsxs)("a",{className:"nav-link dropdown-toggle text-white",href:"#",role:"button","data-bs-toggle":"dropdown",children:[(0,a.jsx)("span",{className:"me-2",children:"\uD83D\uDC64"}),(null==T?void 0:T.firstName)||(null==T?void 0:T.email)||"Super Admin"]}),(0,a.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("a",{className:"dropdown-item",href:"/super-admin/dashboard",children:[(0,a.jsx)("span",{className:"me-2",children:"\uD83C\uDFE0"}),"Dashboard"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,a.jsx)("span",{className:"me-2",children:"⚙️"}),"Settings"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,a.jsx)("span",{className:"me-2",children:"\uD83D\uDC64"}),"Profile"]})}),(0,a.jsx)("li",{children:(0,a.jsx)("hr",{className:"dropdown-divider"})}),(0,a.jsx)("li",{children:(0,a.jsxs)("button",{className:"dropdown-item text-danger",onClick:()=>{(0,n.Uh)(),window.location.href="/"},children:[(0,a.jsx)("span",{className:"me-2",children:"\uD83D\uDEAA"}),"Logout"]})})]})]})})]})}),(0,a.jsx)("div",{className:"bg-white shadow-sm border-bottom",children:(0,a.jsx)("div",{className:"container py-4",children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"display-4 fw-bold text-dark mb-2",children:"Schools Management"}),(0,a.jsx)("p",{className:"lead text-muted",children:"Manage all registered schools in the system"})]}),(0,a.jsxs)("div",{className:"d-flex gap-2",children:[(0,a.jsxs)("button",{className:"btn btn-outline-secondary btn-lg d-flex align-items-center gap-2",onClick:refreshData,disabled:t,children:[(0,a.jsx)("div",{className:"spinner-border spinner-border-sm ".concat(t?"":"d-none"),role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,a.jsx)("span",{className:t?"d-none":"",children:"Refresh"})]}),(0,a.jsxs)("a",{href:"/super-admin/schools/add",className:"btn btn-primary btn-lg d-flex align-items-center gap-2",children:[(0,a.jsx)(o.Z,{size:20}),"Add New School"]})]})]})})}),(0,a.jsxs)("div",{className:"container py-4",children:[(0,a.jsxs)("div",{className:"row g-4 mb-4",children:[(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"card bg-primary text-white h-100",children:(0,a.jsx)("div",{className:"card-body text-center",children:t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"card-title mb-0",children:L.totalSchools}),(0,a.jsx)("p",{className:"card-text",children:"Total Schools"})]})})})}),(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"card bg-warning text-white h-100",children:(0,a.jsx)("div",{className:"card-body text-center",children:t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"card-title mb-0",children:L.pendingSchools}),(0,a.jsx)("p",{className:"card-text",children:"Pending Approval"})]})})})}),(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"card bg-success text-white h-100",children:(0,a.jsx)("div",{className:"card-body text-center",children:t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"card-title mb-0",children:L.totalStudents}),(0,a.jsx)("p",{className:"card-text",children:"Total Students"})]})})})}),(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"card bg-info text-white h-100",children:(0,a.jsx)("div",{className:"card-body text-center",children:t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"card-title mb-0",children:L.totalTeachers}),(0,a.jsx)("p",{className:"card-text",children:"Total Teachers"})]})})})})]}),(0,a.jsxs)("div",{className:"row g-4 mb-4",children:[(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"card bg-success text-white h-100",children:(0,a.jsx)("div",{className:"card-body text-center",children:t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{className:"card-title mb-0",children:L.approvedSchools}),(0,a.jsx)("p",{className:"card-text small",children:"Approved"})]})})})}),(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"card bg-danger text-white h-100",children:(0,a.jsx)("div",{className:"card-body text-center",children:t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{className:"card-title mb-0",children:L.rejectedSchools}),(0,a.jsx)("p",{className:"card-text small",children:"Rejected"})]})})})}),(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"card bg-secondary text-white h-100",children:(0,a.jsx)("div",{className:"card-body text-center",children:t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{className:"card-title mb-0",children:L.suspendedSchools}),(0,a.jsx)("p",{className:"card-text small",children:"Suspended"})]})})})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("div",{className:"card bg-light h-100",children:(0,a.jsxs)("div",{className:"card-body text-center",children:[(0,a.jsx)("h6",{className:"card-title text-muted",children:"System Overview"}),t?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm text-muted",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsxs)("p",{className:"card-text small text-muted mb-0",children:[L.totalSchools," Schools • ",L.totalStudents," Students • ",L.totalTeachers," Teachers"]})]})})})]}),(0,a.jsx)("div",{className:"card shadow-sm mb-4",children:(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsx)("div",{className:"col-md-6 col-lg-3",children:(0,a.jsxs)("div",{className:"position-relative",children:[(0,a.jsx)(d.Z,{className:"position-absolute top-50 start-0 translate-middle-y ms-3 text-muted",size:20}),(0,a.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Search schools...",value:y,onChange:e=>N(e.target.value)})]})}),(0,a.jsx)("div",{className:"col-md-6 col-lg-2",children:(0,a.jsxs)("select",{className:"form-select",value:b,onChange:e=>S(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"approved",children:"Approved"}),(0,a.jsx)("option",{value:"rejected",children:"Rejected"}),(0,a.jsx)("option",{value:"suspended",children:"Suspended"})]})}),(0,a.jsx)("div",{className:"col-md-6 col-lg-2",children:(0,a.jsxs)("select",{className:"form-select",value:w,onChange:e=>k(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"primary",children:"Primary"}),(0,a.jsx)("option",{value:"secondary",children:"Secondary"}),(0,a.jsx)("option",{value:"high_school",children:"High School"}),(0,a.jsx)("option",{value:"higher_secondary",children:"Higher Secondary"}),(0,a.jsx)("option",{value:"international",children:"International"}),(0,a.jsx)("option",{value:"special_needs",children:"Special Needs"})]})}),(0,a.jsx)("div",{className:"col-md-6 col-lg-5 d-flex align-items-center justify-content-center",children:(0,a.jsxs)("span",{className:"text-muted",children:[D.length," of ",e.length," schools"]})})]})})}),(0,a.jsx)("div",{className:"row g-4",children:D.map(e=>(0,a.jsx)("div",{className:"col-lg-6 col-xl-4",children:(0,a.jsxs)("div",{className:"card h-100 shadow-sm border-0 hover-shadow",children:[(0,a.jsx)("div",{className:"card-header bg-transparent border-bottom",children:(0,a.jsxs)("div",{className:"d-flex align-items-start justify-content-between",children:[(0,a.jsxs)("div",{className:"flex-grow-1",children:[(0,a.jsx)("h5",{className:"card-title mb-2",children:e.name}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,a.jsxs)("span",{className:"badge ".concat(getBootstrapStatusClass(e.status)," d-flex align-items-center gap-1"),children:[getStatusIcon(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]}),(0,a.jsx)("span",{className:"badge bg-primary",children:getTypeLabel(e.type)})]})]}),(0,a.jsx)("button",{className:"btn btn-link text-muted p-0",children:(0,a.jsx)(u,{size:20})})]})}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2 text-muted small",children:[(0,a.jsx)(m.Z,{size:16}),(0,a.jsxs)("span",{children:[e.city,", ",e.state,", ",e.country]})]}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2 text-muted small",children:[(0,a.jsx)(p.Z,{size:16}),(0,a.jsx)("span",{children:e.phone})]}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2 text-muted small",children:[(0,a.jsx)(x.Z,{size:16}),(0,a.jsx)("span",{children:e.email})]}),e.website&&(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2 text-muted small",children:[(0,a.jsx)(j.Z,{size:16}),(0,a.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",children:e.website})]})]}),(0,a.jsxs)("div",{className:"row text-center py-3 border-top",children:[(0,a.jsxs)("div",{className:"col-6",children:[(0,a.jsx)("div",{className:"h5 mb-1 text-dark",children:e.totalStudents}),(0,a.jsx)("div",{className:"small text-muted",children:"Students"})]}),(0,a.jsxs)("div",{className:"col-6",children:[(0,a.jsx)("div",{className:"h5 mb-1 text-dark",children:e.totalTeachers}),(0,a.jsx)("div",{className:"small text-muted",children:"Teachers"})]})]}),(0,a.jsx)("div",{className:"card-footer bg-transparent border-top pt-3",children:"pending"===e.status?(0,a.jsxs)("div",{className:"row g-2",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)("button",{className:"btn btn-success btn-sm w-100 d-flex align-items-center justify-content-center gap-1",onClick:()=>handleApproveSchool(e.id),disabled:C===e.id,children:[C===e.id?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsx)(l.Z,{size:16}),"Approve"]})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)("button",{className:"btn btn-danger btn-sm w-100 d-flex align-items-center justify-content-center gap-1",onClick:()=>handleRejectSchool(e.id),disabled:C===e.id,children:[C===e.id?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsx)(i.Z,{size:16}),"Reject"]})})]}):(0,a.jsxs)("div",{className:"row g-2",children:[(0,a.jsx)("div",{className:"col-4",children:(0,a.jsxs)("button",{className:"btn btn-outline-primary btn-sm w-100 d-flex align-items-center justify-content-center gap-1",children:[(0,a.jsx)(g.Z,{size:16}),"View"]})}),(0,a.jsx)("div",{className:"col-4",children:(0,a.jsxs)("button",{className:"btn btn-outline-warning btn-sm w-100 d-flex align-items-center justify-content-center gap-1",children:[(0,a.jsx)(v.Z,{size:16}),"Edit"]})}),"approved"===e.status?(0,a.jsx)("div",{className:"col-4",children:(0,a.jsxs)("button",{className:"btn btn-outline-secondary btn-sm w-100 d-flex align-items-center justify-content-center gap-1",onClick:()=>handleSuspendSchool(e.id),disabled:C===e.id,children:[C===e.id?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsx)(i.Z,{size:16}),"Suspend"]})}):(0,a.jsx)("div",{className:"col-4",children:(0,a.jsxs)("button",{className:"btn btn-outline-danger btn-sm w-100 d-flex align-items-center justify-content-center gap-1",onClick:()=>handleDeleteSchool(e.id,e.name),disabled:C===e.id,children:[C===e.id?(0,a.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,a.jsx)(f.Z,{size:16}),"Delete"]})})]})})]})]})},e.id))}),0===D.length&&(0,a.jsxs)("div",{className:"text-center py-5",children:[(0,a.jsx)("div",{className:"text-muted mb-3",children:(0,a.jsx)(d.Z,{size:64,className:"mx-auto"})}),(0,a.jsx)("h4",{className:"text-dark mb-2",children:"No schools found"}),(0,a.jsx)("p",{className:"text-muted",children:"Try adjusting your search or filter criteria."})]})]})]})]})}t(8117)},6454:function(e,s,t){"use strict";t.d(s,{CT:function(){return a},MS:function(){return ApiError},QW:function(){return apiDelete},R1:function(){return apiGet},Uh:function(){return clearAuthData},c7:function(){return storeUser},hV:function(){return getStoredToken},mB:function(){return storeToken},nc:function(){return apiPatch},pE:function(){return apiPut},sg:function(){return apiPost},vF:function(){return getStoredUser}});let a="http://localhost:3001";let ApiError=class ApiError extends Error{constructor(e,s,t){super(s),this.status=e,this.message=s,this.data=t,this.name="ApiError"}};async function apiRequest(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{token:t,params:r,headers:n,...l}=s,c="".concat(a).concat(e);if(r){let e=new URLSearchParams(Object.entries(r).reduce((e,s)=>{let[t,a]=s;return null!=a&&(e[t]=String(a)),e},{})).toString();e&&(c+="?".concat(e))}let i={"Content-Type":"application/json",...n};t&&(i.Authorization="Bearer ".concat(t));try{let e=await fetch(c,{...l,headers:i}),s=await e.json().catch(()=>({}));if(!e.ok)throw new ApiError(e.status,s.message||"Request failed with status ".concat(e.status),s);return s}catch(e){if(e instanceof ApiError)throw e;throw new ApiError(0,e instanceof Error?e.message:"Network error occurred")}}async function apiGet(e,s){return apiRequest(e,{...s,method:"GET"})}async function apiPost(e,s,t){return apiRequest(e,{...t,method:"POST",body:s?JSON.stringify(s):void 0})}async function apiPut(e,s,t){return apiRequest(e,{...t,method:"PUT",body:s?JSON.stringify(s):void 0})}async function apiPatch(e,s,t){return apiRequest(e,{...t,method:"PATCH",body:s?JSON.stringify(s):void 0})}async function apiDelete(e,s){return apiRequest(e,{...s,method:"DELETE"})}function getStoredToken(){return localStorage.getItem("token")}function storeToken(e){localStorage.setItem("token",e)}function removeToken(){localStorage.removeItem("token")}function getStoredUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null}function storeUser(e){localStorage.setItem("user",JSON.stringify(e))}function removeUser(){localStorage.removeItem("user")}function clearAuthData(){removeToken(),removeUser(),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData")}},8117:function(){},622:function(e,s,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=t(2265),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,t){var a,n={},o=null,d=null;for(a in void 0!==t&&(o=""+t),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)l.call(s,a)&&!i.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===n[a]&&(n[a]=s[a]);return{$$typeof:r,type:e,key:o,ref:d,props:n,_owner:c.current}}s.Fragment=n,s.jsx=q,s.jsxs=q},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[6685,2971,2472,1744],function(){return e(e.s=3954)}),_N_E=e.O()}]);